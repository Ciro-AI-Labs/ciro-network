"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/langium";
exports.ids = ["vendor-chunks/langium"];
exports.modules = {

/***/ "(ssr)/./node_modules/langium/lib/default-module.js":
/*!****************************************************!*\
  !*** ./node_modules/langium/lib/default-module.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDefaultCoreModule: () => (/* binding */ createDefaultCoreModule),\n/* harmony export */   createDefaultSharedCoreModule: () => (/* binding */ createDefaultSharedCoreModule)\n/* harmony export */ });\n/* harmony import */ var _languages_grammar_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./languages/grammar-config.js */ \"(ssr)/./node_modules/langium/lib/languages/grammar-config.js\");\n/* harmony import */ var _parser_completion_parser_builder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parser/completion-parser-builder.js */ \"(ssr)/./node_modules/langium/lib/parser/completion-parser-builder.js\");\n/* harmony import */ var _parser_langium_parser_builder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parser/langium-parser-builder.js */ \"(ssr)/./node_modules/langium/lib/parser/langium-parser-builder.js\");\n/* harmony import */ var _parser_token_builder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parser/token-builder.js */ \"(ssr)/./node_modules/langium/lib/parser/token-builder.js\");\n/* harmony import */ var _parser_value_converter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parser/value-converter.js */ \"(ssr)/./node_modules/langium/lib/parser/value-converter.js\");\n/* harmony import */ var _references_linker_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./references/linker.js */ \"(ssr)/./node_modules/langium/lib/references/linker.js\");\n/* harmony import */ var _references_name_provider_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./references/name-provider.js */ \"(ssr)/./node_modules/langium/lib/references/name-provider.js\");\n/* harmony import */ var _references_references_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./references/references.js */ \"(ssr)/./node_modules/langium/lib/references/references.js\");\n/* harmony import */ var _references_scope_computation_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./references/scope-computation.js */ \"(ssr)/./node_modules/langium/lib/references/scope-computation.js\");\n/* harmony import */ var _references_scope_provider_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./references/scope-provider.js */ \"(ssr)/./node_modules/langium/lib/references/scope-provider.js\");\n/* harmony import */ var _serializer_json_serializer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./serializer/json-serializer.js */ \"(ssr)/./node_modules/langium/lib/serializer/json-serializer.js\");\n/* harmony import */ var _service_registry_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./service-registry.js */ \"(ssr)/./node_modules/langium/lib/service-registry.js\");\n/* harmony import */ var _validation_document_validator_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./validation/document-validator.js */ \"(ssr)/./node_modules/langium/lib/validation/document-validator.js\");\n/* harmony import */ var _validation_validation_registry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./validation/validation-registry.js */ \"(ssr)/./node_modules/langium/lib/validation/validation-registry.js\");\n/* harmony import */ var _workspace_ast_descriptions_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./workspace/ast-descriptions.js */ \"(ssr)/./node_modules/langium/lib/workspace/ast-descriptions.js\");\n/* harmony import */ var _workspace_ast_node_locator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./workspace/ast-node-locator.js */ \"(ssr)/./node_modules/langium/lib/workspace/ast-node-locator.js\");\n/* harmony import */ var _workspace_configuration_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./workspace/configuration.js */ \"(ssr)/./node_modules/langium/lib/workspace/configuration.js\");\n/* harmony import */ var _workspace_document_builder_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./workspace/document-builder.js */ \"(ssr)/./node_modules/langium/lib/workspace/document-builder.js\");\n/* harmony import */ var _workspace_documents_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./workspace/documents.js */ \"(ssr)/./node_modules/langium/lib/workspace/documents.js\");\n/* harmony import */ var _workspace_index_manager_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./workspace/index-manager.js */ \"(ssr)/./node_modules/langium/lib/workspace/index-manager.js\");\n/* harmony import */ var _workspace_workspace_manager_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./workspace/workspace-manager.js */ \"(ssr)/./node_modules/langium/lib/workspace/workspace-manager.js\");\n/* harmony import */ var _parser_lexer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parser/lexer.js */ \"(ssr)/./node_modules/langium/lib/parser/lexer.js\");\n/* harmony import */ var _documentation_documentation_provider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./documentation/documentation-provider.js */ \"(ssr)/./node_modules/langium/lib/documentation/documentation-provider.js\");\n/* harmony import */ var _documentation_comment_provider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./documentation/comment-provider.js */ \"(ssr)/./node_modules/langium/lib/documentation/comment-provider.js\");\n/* harmony import */ var _parser_langium_parser_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parser/langium-parser.js */ \"(ssr)/./node_modules/langium/lib/parser/langium-parser.js\");\n/* harmony import */ var _parser_async_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parser/async-parser.js */ \"(ssr)/./node_modules/langium/lib/parser/async-parser.js\");\n/* harmony import */ var _workspace_workspace_lock_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./workspace/workspace-lock.js */ \"(ssr)/./node_modules/langium/lib/workspace/workspace-lock.js\");\n/* harmony import */ var _serializer_hydrator_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./serializer/hydrator.js */ \"(ssr)/./node_modules/langium/lib/serializer/hydrator.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n******************************************************************************/ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Creates a dependency injection module configuring the default core services.\n * This is a set of services that are dedicated to a specific language.\n */ function createDefaultCoreModule(context) {\n    return {\n        documentation: {\n            CommentProvider: (services)=>new _documentation_comment_provider_js__WEBPACK_IMPORTED_MODULE_0__.DefaultCommentProvider(services),\n            DocumentationProvider: (services)=>new _documentation_documentation_provider_js__WEBPACK_IMPORTED_MODULE_1__.JSDocDocumentationProvider(services)\n        },\n        parser: {\n            AsyncParser: (services)=>new _parser_async_parser_js__WEBPACK_IMPORTED_MODULE_2__.DefaultAsyncParser(services),\n            GrammarConfig: (services)=>(0,_languages_grammar_config_js__WEBPACK_IMPORTED_MODULE_3__.createGrammarConfig)(services),\n            LangiumParser: (services)=>(0,_parser_langium_parser_builder_js__WEBPACK_IMPORTED_MODULE_4__.createLangiumParser)(services),\n            CompletionParser: (services)=>(0,_parser_completion_parser_builder_js__WEBPACK_IMPORTED_MODULE_5__.createCompletionParser)(services),\n            ValueConverter: ()=>new _parser_value_converter_js__WEBPACK_IMPORTED_MODULE_6__.DefaultValueConverter(),\n            TokenBuilder: ()=>new _parser_token_builder_js__WEBPACK_IMPORTED_MODULE_7__.DefaultTokenBuilder(),\n            Lexer: (services)=>new _parser_lexer_js__WEBPACK_IMPORTED_MODULE_8__.DefaultLexer(services),\n            ParserErrorMessageProvider: ()=>new _parser_langium_parser_js__WEBPACK_IMPORTED_MODULE_9__.LangiumParserErrorMessageProvider(),\n            LexerErrorMessageProvider: ()=>new _parser_lexer_js__WEBPACK_IMPORTED_MODULE_8__.DefaultLexerErrorMessageProvider()\n        },\n        workspace: {\n            AstNodeLocator: ()=>new _workspace_ast_node_locator_js__WEBPACK_IMPORTED_MODULE_10__.DefaultAstNodeLocator(),\n            AstNodeDescriptionProvider: (services)=>new _workspace_ast_descriptions_js__WEBPACK_IMPORTED_MODULE_11__.DefaultAstNodeDescriptionProvider(services),\n            ReferenceDescriptionProvider: (services)=>new _workspace_ast_descriptions_js__WEBPACK_IMPORTED_MODULE_11__.DefaultReferenceDescriptionProvider(services)\n        },\n        references: {\n            Linker: (services)=>new _references_linker_js__WEBPACK_IMPORTED_MODULE_12__.DefaultLinker(services),\n            NameProvider: ()=>new _references_name_provider_js__WEBPACK_IMPORTED_MODULE_13__.DefaultNameProvider(),\n            ScopeProvider: (services)=>new _references_scope_provider_js__WEBPACK_IMPORTED_MODULE_14__.DefaultScopeProvider(services),\n            ScopeComputation: (services)=>new _references_scope_computation_js__WEBPACK_IMPORTED_MODULE_15__.DefaultScopeComputation(services),\n            References: (services)=>new _references_references_js__WEBPACK_IMPORTED_MODULE_16__.DefaultReferences(services)\n        },\n        serializer: {\n            Hydrator: (services)=>new _serializer_hydrator_js__WEBPACK_IMPORTED_MODULE_17__.DefaultHydrator(services),\n            JsonSerializer: (services)=>new _serializer_json_serializer_js__WEBPACK_IMPORTED_MODULE_18__.DefaultJsonSerializer(services)\n        },\n        validation: {\n            DocumentValidator: (services)=>new _validation_document_validator_js__WEBPACK_IMPORTED_MODULE_19__.DefaultDocumentValidator(services),\n            ValidationRegistry: (services)=>new _validation_validation_registry_js__WEBPACK_IMPORTED_MODULE_20__.ValidationRegistry(services)\n        },\n        shared: ()=>context.shared\n    };\n}\n/**\n * Creates a dependency injection module configuring the default shared core services.\n * This is the set of services that are shared between multiple languages.\n */ function createDefaultSharedCoreModule(context) {\n    return {\n        ServiceRegistry: (services)=>new _service_registry_js__WEBPACK_IMPORTED_MODULE_21__.DefaultServiceRegistry(services),\n        workspace: {\n            LangiumDocuments: (services)=>new _workspace_documents_js__WEBPACK_IMPORTED_MODULE_22__.DefaultLangiumDocuments(services),\n            LangiumDocumentFactory: (services)=>new _workspace_documents_js__WEBPACK_IMPORTED_MODULE_22__.DefaultLangiumDocumentFactory(services),\n            DocumentBuilder: (services)=>new _workspace_document_builder_js__WEBPACK_IMPORTED_MODULE_23__.DefaultDocumentBuilder(services),\n            IndexManager: (services)=>new _workspace_index_manager_js__WEBPACK_IMPORTED_MODULE_24__.DefaultIndexManager(services),\n            WorkspaceManager: (services)=>new _workspace_workspace_manager_js__WEBPACK_IMPORTED_MODULE_25__.DefaultWorkspaceManager(services),\n            FileSystemProvider: (services)=>context.fileSystemProvider(services),\n            WorkspaceLock: ()=>new _workspace_workspace_lock_js__WEBPACK_IMPORTED_MODULE_26__.DefaultWorkspaceLock(),\n            ConfigurationProvider: (services)=>new _workspace_configuration_js__WEBPACK_IMPORTED_MODULE_27__.DefaultConfigurationProvider(services)\n        }\n    };\n} //# sourceMappingURL=default-module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZGVmYXVsdC1tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7NkVBSTZFLEdBQ1Q7QUFDVztBQUNOO0FBQ1Q7QUFDSTtBQUNiO0FBQ2E7QUFDTDtBQUNhO0FBQ047QUFDRTtBQUNUO0FBQ2U7QUFDTDtBQUNnRDtBQUNqRDtBQUNJO0FBQ0g7QUFDeUI7QUFDL0I7QUFDUTtBQUNRO0FBQ0k7QUFDVjtBQUNFO0FBQ2pCO0FBQ087QUFDVjtBQUMzRDs7O0NBR0MsR0FDTSxTQUFTK0Isd0JBQXdCQyxPQUFPO0lBQzNDLE9BQU87UUFDSEMsZUFBZTtZQUNYQyxpQkFBaUIsQ0FBQ0MsV0FBYSxJQUFJVCxzRkFBc0JBLENBQUNTO1lBQzFEQyx1QkFBdUIsQ0FBQ0QsV0FBYSxJQUFJVixnR0FBMEJBLENBQUNVO1FBQ3hFO1FBQ0FFLFFBQVE7WUFDSkMsYUFBYSxDQUFDSCxXQUFhLElBQUlQLHVFQUFrQkEsQ0FBQ087WUFDbERJLGVBQWUsQ0FBQ0osV0FBYW5DLGlGQUFtQkEsQ0FBQ21DO1lBQ2pESyxlQUFlLENBQUNMLFdBQWFqQyxzRkFBbUJBLENBQUNpQztZQUNqRE0sa0JBQWtCLENBQUNOLFdBQWFsQyw0RkFBc0JBLENBQUNrQztZQUN2RE8sZ0JBQWdCLElBQU0sSUFBSXRDLDZFQUFxQkE7WUFDL0N1QyxjQUFjLElBQU0sSUFBSXhDLHlFQUFtQkE7WUFDM0N5QyxPQUFPLENBQUNULFdBQWEsSUFBSVosMERBQVlBLENBQUNZO1lBQ3RDVSw0QkFBNEIsSUFBTSxJQUFJbEIsd0ZBQWlDQTtZQUN2RW1CLDJCQUEyQixJQUFNLElBQUl0Qiw4RUFBZ0NBO1FBQ3pFO1FBQ0F1QixXQUFXO1lBQ1BDLGdCQUFnQixJQUFNLElBQUloQyxrRkFBcUJBO1lBQy9DaUMsNEJBQTRCLENBQUNkLFdBQWEsSUFBSXJCLDhGQUFpQ0EsQ0FBQ3FCO1lBQ2hGZSw4QkFBOEIsQ0FBQ2YsV0FBYSxJQUFJcEIsZ0dBQW1DQSxDQUFDb0I7UUFDeEY7UUFDQWdCLFlBQVk7WUFDUkMsUUFBUSxDQUFDakIsV0FBYSxJQUFJOUIsaUVBQWFBLENBQUM4QjtZQUN4Q2tCLGNBQWMsSUFBTSxJQUFJL0MsOEVBQW1CQTtZQUMzQ2dELGVBQWUsQ0FBQ25CLFdBQWEsSUFBSTFCLGdGQUFvQkEsQ0FBQzBCO1lBQ3REb0Isa0JBQWtCLENBQUNwQixXQUFhLElBQUkzQixzRkFBdUJBLENBQUMyQjtZQUM1RHFCLFlBQVksQ0FBQ3JCLFdBQWEsSUFBSTVCLHlFQUFpQkEsQ0FBQzRCO1FBQ3BEO1FBQ0FzQixZQUFZO1lBQ1JDLFVBQVUsQ0FBQ3ZCLFdBQWEsSUFBSUwscUVBQWVBLENBQUNLO1lBQzVDd0IsZ0JBQWdCLENBQUN4QixXQUFhLElBQUl6QixrRkFBcUJBLENBQUN5QjtRQUM1RDtRQUNBeUIsWUFBWTtZQUNSQyxtQkFBbUIsQ0FBQzFCLFdBQWEsSUFBSXZCLHdGQUF3QkEsQ0FBQ3VCO1lBQzlEdEIsb0JBQW9CLENBQUNzQixXQUFhLElBQUl0QixtRkFBa0JBLENBQUNzQjtRQUM3RDtRQUNBMkIsUUFBUSxJQUFNOUIsUUFBUThCLE1BQU07SUFDaEM7QUFDSjtBQUNBOzs7Q0FHQyxHQUNNLFNBQVNDLDhCQUE4Qi9CLE9BQU87SUFDakQsT0FBTztRQUNIZ0MsaUJBQWlCLENBQUM3QixXQUFhLElBQUl4Qix5RUFBc0JBLENBQUN3QjtRQUMxRFksV0FBVztZQUNQa0Isa0JBQWtCLENBQUM5QixXQUFhLElBQUlmLDZFQUF1QkEsQ0FBQ2U7WUFDNUQrQix3QkFBd0IsQ0FBQy9CLFdBQWEsSUFBSWhCLG1GQUE2QkEsQ0FBQ2dCO1lBQ3hFZ0MsaUJBQWlCLENBQUNoQyxXQUFhLElBQUlqQixtRkFBc0JBLENBQUNpQjtZQUMxRGlDLGNBQWMsQ0FBQ2pDLFdBQWEsSUFBSWQsNkVBQW1CQSxDQUFDYztZQUNwRGtDLGtCQUFrQixDQUFDbEMsV0FBYSxJQUFJYixxRkFBdUJBLENBQUNhO1lBQzVEbUMsb0JBQW9CLENBQUNuQyxXQUFhSCxRQUFRdUMsa0JBQWtCLENBQUNwQztZQUM3RHFDLGVBQWUsSUFBTSxJQUFJM0MsK0VBQW9CQTtZQUM3QzRDLHVCQUF1QixDQUFDdEMsV0FBYSxJQUFJbEIsc0ZBQTRCQSxDQUFDa0I7UUFDMUU7SUFDSjtBQUNKLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZGVmYXVsdC1tb2R1bGUuanM/NWQzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IGNyZWF0ZUdyYW1tYXJDb25maWcgfSBmcm9tICcuL2xhbmd1YWdlcy9ncmFtbWFyLWNvbmZpZy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb21wbGV0aW9uUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXIvY29tcGxldGlvbi1wYXJzZXItYnVpbGRlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMYW5naXVtUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXIvbGFuZ2l1bS1wYXJzZXItYnVpbGRlci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0VG9rZW5CdWlsZGVyIH0gZnJvbSAnLi9wYXJzZXIvdG9rZW4tYnVpbGRlci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0VmFsdWVDb252ZXJ0ZXIgfSBmcm9tICcuL3BhcnNlci92YWx1ZS1jb252ZXJ0ZXIuanMnO1xuaW1wb3J0IHsgRGVmYXVsdExpbmtlciB9IGZyb20gJy4vcmVmZXJlbmNlcy9saW5rZXIuanMnO1xuaW1wb3J0IHsgRGVmYXVsdE5hbWVQcm92aWRlciB9IGZyb20gJy4vcmVmZXJlbmNlcy9uYW1lLXByb3ZpZGVyLmpzJztcbmltcG9ydCB7IERlZmF1bHRSZWZlcmVuY2VzIH0gZnJvbSAnLi9yZWZlcmVuY2VzL3JlZmVyZW5jZXMuanMnO1xuaW1wb3J0IHsgRGVmYXVsdFNjb3BlQ29tcHV0YXRpb24gfSBmcm9tICcuL3JlZmVyZW5jZXMvc2NvcGUtY29tcHV0YXRpb24uanMnO1xuaW1wb3J0IHsgRGVmYXVsdFNjb3BlUHJvdmlkZXIgfSBmcm9tICcuL3JlZmVyZW5jZXMvc2NvcGUtcHJvdmlkZXIuanMnO1xuaW1wb3J0IHsgRGVmYXVsdEpzb25TZXJpYWxpemVyIH0gZnJvbSAnLi9zZXJpYWxpemVyL2pzb24tc2VyaWFsaXplci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0U2VydmljZVJlZ2lzdHJ5IH0gZnJvbSAnLi9zZXJ2aWNlLXJlZ2lzdHJ5LmpzJztcbmltcG9ydCB7IERlZmF1bHREb2N1bWVudFZhbGlkYXRvciB9IGZyb20gJy4vdmFsaWRhdGlvbi9kb2N1bWVudC12YWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvblJlZ2lzdHJ5IH0gZnJvbSAnLi92YWxpZGF0aW9uL3ZhbGlkYXRpb24tcmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgRGVmYXVsdEFzdE5vZGVEZXNjcmlwdGlvblByb3ZpZGVyLCBEZWZhdWx0UmVmZXJlbmNlRGVzY3JpcHRpb25Qcm92aWRlciB9IGZyb20gJy4vd29ya3NwYWNlL2FzdC1kZXNjcmlwdGlvbnMuanMnO1xuaW1wb3J0IHsgRGVmYXVsdEFzdE5vZGVMb2NhdG9yIH0gZnJvbSAnLi93b3Jrc3BhY2UvYXN0LW5vZGUtbG9jYXRvci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0Q29uZmlndXJhdGlvblByb3ZpZGVyIH0gZnJvbSAnLi93b3Jrc3BhY2UvY29uZmlndXJhdGlvbi5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0RG9jdW1lbnRCdWlsZGVyIH0gZnJvbSAnLi93b3Jrc3BhY2UvZG9jdW1lbnQtYnVpbGRlci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0TGFuZ2l1bURvY3VtZW50RmFjdG9yeSwgRGVmYXVsdExhbmdpdW1Eb2N1bWVudHMgfSBmcm9tICcuL3dvcmtzcGFjZS9kb2N1bWVudHMuanMnO1xuaW1wb3J0IHsgRGVmYXVsdEluZGV4TWFuYWdlciB9IGZyb20gJy4vd29ya3NwYWNlL2luZGV4LW1hbmFnZXIuanMnO1xuaW1wb3J0IHsgRGVmYXVsdFdvcmtzcGFjZU1hbmFnZXIgfSBmcm9tICcuL3dvcmtzcGFjZS93b3Jrc3BhY2UtbWFuYWdlci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0TGV4ZXIsIERlZmF1bHRMZXhlckVycm9yTWVzc2FnZVByb3ZpZGVyIH0gZnJvbSAnLi9wYXJzZXIvbGV4ZXIuanMnO1xuaW1wb3J0IHsgSlNEb2NEb2N1bWVudGF0aW9uUHJvdmlkZXIgfSBmcm9tICcuL2RvY3VtZW50YXRpb24vZG9jdW1lbnRhdGlvbi1wcm92aWRlci5qcyc7XG5pbXBvcnQgeyBEZWZhdWx0Q29tbWVudFByb3ZpZGVyIH0gZnJvbSAnLi9kb2N1bWVudGF0aW9uL2NvbW1lbnQtcHJvdmlkZXIuanMnO1xuaW1wb3J0IHsgTGFuZ2l1bVBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyIH0gZnJvbSAnLi9wYXJzZXIvbGFuZ2l1bS1wYXJzZXIuanMnO1xuaW1wb3J0IHsgRGVmYXVsdEFzeW5jUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXIvYXN5bmMtcGFyc2VyLmpzJztcbmltcG9ydCB7IERlZmF1bHRXb3Jrc3BhY2VMb2NrIH0gZnJvbSAnLi93b3Jrc3BhY2Uvd29ya3NwYWNlLWxvY2suanMnO1xuaW1wb3J0IHsgRGVmYXVsdEh5ZHJhdG9yIH0gZnJvbSAnLi9zZXJpYWxpemVyL2h5ZHJhdG9yLmpzJztcbi8qKlxuICogQ3JlYXRlcyBhIGRlcGVuZGVuY3kgaW5qZWN0aW9uIG1vZHVsZSBjb25maWd1cmluZyB0aGUgZGVmYXVsdCBjb3JlIHNlcnZpY2VzLlxuICogVGhpcyBpcyBhIHNldCBvZiBzZXJ2aWNlcyB0aGF0IGFyZSBkZWRpY2F0ZWQgdG8gYSBzcGVjaWZpYyBsYW5ndWFnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRDb3JlTW9kdWxlKGNvbnRleHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2N1bWVudGF0aW9uOiB7XG4gICAgICAgICAgICBDb21tZW50UHJvdmlkZXI6IChzZXJ2aWNlcykgPT4gbmV3IERlZmF1bHRDb21tZW50UHJvdmlkZXIoc2VydmljZXMpLFxuICAgICAgICAgICAgRG9jdW1lbnRhdGlvblByb3ZpZGVyOiAoc2VydmljZXMpID0+IG5ldyBKU0RvY0RvY3VtZW50YXRpb25Qcm92aWRlcihzZXJ2aWNlcylcbiAgICAgICAgfSxcbiAgICAgICAgcGFyc2VyOiB7XG4gICAgICAgICAgICBBc3luY1BhcnNlcjogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdEFzeW5jUGFyc2VyKHNlcnZpY2VzKSxcbiAgICAgICAgICAgIEdyYW1tYXJDb25maWc6IChzZXJ2aWNlcykgPT4gY3JlYXRlR3JhbW1hckNvbmZpZyhzZXJ2aWNlcyksXG4gICAgICAgICAgICBMYW5naXVtUGFyc2VyOiAoc2VydmljZXMpID0+IGNyZWF0ZUxhbmdpdW1QYXJzZXIoc2VydmljZXMpLFxuICAgICAgICAgICAgQ29tcGxldGlvblBhcnNlcjogKHNlcnZpY2VzKSA9PiBjcmVhdGVDb21wbGV0aW9uUGFyc2VyKHNlcnZpY2VzKSxcbiAgICAgICAgICAgIFZhbHVlQ29udmVydGVyOiAoKSA9PiBuZXcgRGVmYXVsdFZhbHVlQ29udmVydGVyKCksXG4gICAgICAgICAgICBUb2tlbkJ1aWxkZXI6ICgpID0+IG5ldyBEZWZhdWx0VG9rZW5CdWlsZGVyKCksXG4gICAgICAgICAgICBMZXhlcjogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdExleGVyKHNlcnZpY2VzKSxcbiAgICAgICAgICAgIFBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyOiAoKSA9PiBuZXcgTGFuZ2l1bVBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyKCksXG4gICAgICAgICAgICBMZXhlckVycm9yTWVzc2FnZVByb3ZpZGVyOiAoKSA9PiBuZXcgRGVmYXVsdExleGVyRXJyb3JNZXNzYWdlUHJvdmlkZXIoKVxuICAgICAgICB9LFxuICAgICAgICB3b3Jrc3BhY2U6IHtcbiAgICAgICAgICAgIEFzdE5vZGVMb2NhdG9yOiAoKSA9PiBuZXcgRGVmYXVsdEFzdE5vZGVMb2NhdG9yKCksXG4gICAgICAgICAgICBBc3ROb2RlRGVzY3JpcHRpb25Qcm92aWRlcjogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdEFzdE5vZGVEZXNjcmlwdGlvblByb3ZpZGVyKHNlcnZpY2VzKSxcbiAgICAgICAgICAgIFJlZmVyZW5jZURlc2NyaXB0aW9uUHJvdmlkZXI6IChzZXJ2aWNlcykgPT4gbmV3IERlZmF1bHRSZWZlcmVuY2VEZXNjcmlwdGlvblByb3ZpZGVyKHNlcnZpY2VzKVxuICAgICAgICB9LFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBMaW5rZXI6IChzZXJ2aWNlcykgPT4gbmV3IERlZmF1bHRMaW5rZXIoc2VydmljZXMpLFxuICAgICAgICAgICAgTmFtZVByb3ZpZGVyOiAoKSA9PiBuZXcgRGVmYXVsdE5hbWVQcm92aWRlcigpLFxuICAgICAgICAgICAgU2NvcGVQcm92aWRlcjogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdFNjb3BlUHJvdmlkZXIoc2VydmljZXMpLFxuICAgICAgICAgICAgU2NvcGVDb21wdXRhdGlvbjogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdFNjb3BlQ29tcHV0YXRpb24oc2VydmljZXMpLFxuICAgICAgICAgICAgUmVmZXJlbmNlczogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdFJlZmVyZW5jZXMoc2VydmljZXMpXG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6ZXI6IHtcbiAgICAgICAgICAgIEh5ZHJhdG9yOiAoc2VydmljZXMpID0+IG5ldyBEZWZhdWx0SHlkcmF0b3Ioc2VydmljZXMpLFxuICAgICAgICAgICAgSnNvblNlcmlhbGl6ZXI6IChzZXJ2aWNlcykgPT4gbmV3IERlZmF1bHRKc29uU2VyaWFsaXplcihzZXJ2aWNlcylcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgICAgICAgRG9jdW1lbnRWYWxpZGF0b3I6IChzZXJ2aWNlcykgPT4gbmV3IERlZmF1bHREb2N1bWVudFZhbGlkYXRvcihzZXJ2aWNlcyksXG4gICAgICAgICAgICBWYWxpZGF0aW9uUmVnaXN0cnk6IChzZXJ2aWNlcykgPT4gbmV3IFZhbGlkYXRpb25SZWdpc3RyeShzZXJ2aWNlcylcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkOiAoKSA9PiBjb250ZXh0LnNoYXJlZFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBkZXBlbmRlbmN5IGluamVjdGlvbiBtb2R1bGUgY29uZmlndXJpbmcgdGhlIGRlZmF1bHQgc2hhcmVkIGNvcmUgc2VydmljZXMuXG4gKiBUaGlzIGlzIHRoZSBzZXQgb2Ygc2VydmljZXMgdGhhdCBhcmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgbGFuZ3VhZ2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFNoYXJlZENvcmVNb2R1bGUoY29udGV4dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFNlcnZpY2VSZWdpc3RyeTogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdFNlcnZpY2VSZWdpc3RyeShzZXJ2aWNlcyksXG4gICAgICAgIHdvcmtzcGFjZToge1xuICAgICAgICAgICAgTGFuZ2l1bURvY3VtZW50czogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdExhbmdpdW1Eb2N1bWVudHMoc2VydmljZXMpLFxuICAgICAgICAgICAgTGFuZ2l1bURvY3VtZW50RmFjdG9yeTogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdExhbmdpdW1Eb2N1bWVudEZhY3Rvcnkoc2VydmljZXMpLFxuICAgICAgICAgICAgRG9jdW1lbnRCdWlsZGVyOiAoc2VydmljZXMpID0+IG5ldyBEZWZhdWx0RG9jdW1lbnRCdWlsZGVyKHNlcnZpY2VzKSxcbiAgICAgICAgICAgIEluZGV4TWFuYWdlcjogKHNlcnZpY2VzKSA9PiBuZXcgRGVmYXVsdEluZGV4TWFuYWdlcihzZXJ2aWNlcyksXG4gICAgICAgICAgICBXb3Jrc3BhY2VNYW5hZ2VyOiAoc2VydmljZXMpID0+IG5ldyBEZWZhdWx0V29ya3NwYWNlTWFuYWdlcihzZXJ2aWNlcyksXG4gICAgICAgICAgICBGaWxlU3lzdGVtUHJvdmlkZXI6IChzZXJ2aWNlcykgPT4gY29udGV4dC5maWxlU3lzdGVtUHJvdmlkZXIoc2VydmljZXMpLFxuICAgICAgICAgICAgV29ya3NwYWNlTG9jazogKCkgPT4gbmV3IERlZmF1bHRXb3Jrc3BhY2VMb2NrKCksXG4gICAgICAgICAgICBDb25maWd1cmF0aW9uUHJvdmlkZXI6IChzZXJ2aWNlcykgPT4gbmV3IERlZmF1bHRDb25maWd1cmF0aW9uUHJvdmlkZXIoc2VydmljZXMpXG4gICAgICAgIH1cbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC1tb2R1bGUuanMubWFwIl0sIm5hbWVzIjpbImNyZWF0ZUdyYW1tYXJDb25maWciLCJjcmVhdGVDb21wbGV0aW9uUGFyc2VyIiwiY3JlYXRlTGFuZ2l1bVBhcnNlciIsIkRlZmF1bHRUb2tlbkJ1aWxkZXIiLCJEZWZhdWx0VmFsdWVDb252ZXJ0ZXIiLCJEZWZhdWx0TGlua2VyIiwiRGVmYXVsdE5hbWVQcm92aWRlciIsIkRlZmF1bHRSZWZlcmVuY2VzIiwiRGVmYXVsdFNjb3BlQ29tcHV0YXRpb24iLCJEZWZhdWx0U2NvcGVQcm92aWRlciIsIkRlZmF1bHRKc29uU2VyaWFsaXplciIsIkRlZmF1bHRTZXJ2aWNlUmVnaXN0cnkiLCJEZWZhdWx0RG9jdW1lbnRWYWxpZGF0b3IiLCJWYWxpZGF0aW9uUmVnaXN0cnkiLCJEZWZhdWx0QXN0Tm9kZURlc2NyaXB0aW9uUHJvdmlkZXIiLCJEZWZhdWx0UmVmZXJlbmNlRGVzY3JpcHRpb25Qcm92aWRlciIsIkRlZmF1bHRBc3ROb2RlTG9jYXRvciIsIkRlZmF1bHRDb25maWd1cmF0aW9uUHJvdmlkZXIiLCJEZWZhdWx0RG9jdW1lbnRCdWlsZGVyIiwiRGVmYXVsdExhbmdpdW1Eb2N1bWVudEZhY3RvcnkiLCJEZWZhdWx0TGFuZ2l1bURvY3VtZW50cyIsIkRlZmF1bHRJbmRleE1hbmFnZXIiLCJEZWZhdWx0V29ya3NwYWNlTWFuYWdlciIsIkRlZmF1bHRMZXhlciIsIkRlZmF1bHRMZXhlckVycm9yTWVzc2FnZVByb3ZpZGVyIiwiSlNEb2NEb2N1bWVudGF0aW9uUHJvdmlkZXIiLCJEZWZhdWx0Q29tbWVudFByb3ZpZGVyIiwiTGFuZ2l1bVBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyIiwiRGVmYXVsdEFzeW5jUGFyc2VyIiwiRGVmYXVsdFdvcmtzcGFjZUxvY2siLCJEZWZhdWx0SHlkcmF0b3IiLCJjcmVhdGVEZWZhdWx0Q29yZU1vZHVsZSIsImNvbnRleHQiLCJkb2N1bWVudGF0aW9uIiwiQ29tbWVudFByb3ZpZGVyIiwic2VydmljZXMiLCJEb2N1bWVudGF0aW9uUHJvdmlkZXIiLCJwYXJzZXIiLCJBc3luY1BhcnNlciIsIkdyYW1tYXJDb25maWciLCJMYW5naXVtUGFyc2VyIiwiQ29tcGxldGlvblBhcnNlciIsIlZhbHVlQ29udmVydGVyIiwiVG9rZW5CdWlsZGVyIiwiTGV4ZXIiLCJQYXJzZXJFcnJvck1lc3NhZ2VQcm92aWRlciIsIkxleGVyRXJyb3JNZXNzYWdlUHJvdmlkZXIiLCJ3b3Jrc3BhY2UiLCJBc3ROb2RlTG9jYXRvciIsIkFzdE5vZGVEZXNjcmlwdGlvblByb3ZpZGVyIiwiUmVmZXJlbmNlRGVzY3JpcHRpb25Qcm92aWRlciIsInJlZmVyZW5jZXMiLCJMaW5rZXIiLCJOYW1lUHJvdmlkZXIiLCJTY29wZVByb3ZpZGVyIiwiU2NvcGVDb21wdXRhdGlvbiIsIlJlZmVyZW5jZXMiLCJzZXJpYWxpemVyIiwiSHlkcmF0b3IiLCJKc29uU2VyaWFsaXplciIsInZhbGlkYXRpb24iLCJEb2N1bWVudFZhbGlkYXRvciIsInNoYXJlZCIsImNyZWF0ZURlZmF1bHRTaGFyZWRDb3JlTW9kdWxlIiwiU2VydmljZVJlZ2lzdHJ5IiwiTGFuZ2l1bURvY3VtZW50cyIsIkxhbmdpdW1Eb2N1bWVudEZhY3RvcnkiLCJEb2N1bWVudEJ1aWxkZXIiLCJJbmRleE1hbmFnZXIiLCJXb3Jrc3BhY2VNYW5hZ2VyIiwiRmlsZVN5c3RlbVByb3ZpZGVyIiwiZmlsZVN5c3RlbVByb3ZpZGVyIiwiV29ya3NwYWNlTG9jayIsIkNvbmZpZ3VyYXRpb25Qcm92aWRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/default-module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/dependency-injection.js":
/*!**********************************************************!*\
  !*** ./node_modules/langium/lib/dependency-injection.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Module: () => (/* binding */ Module),\n/* harmony export */   eagerLoad: () => (/* binding */ eagerLoad),\n/* harmony export */   inject: () => (/* binding */ inject)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ var Module;\n(function(Module) {\n    Module.merge = (m1, m2)=>_merge(_merge({}, m1), m2);\n})(Module || (Module = {}));\n/**\n * Given a set of modules, the inject function returns a lazily evaluated injector\n * that injects dependencies into the requested service when it is requested the\n * first time. Subsequent requests will return the same service.\n *\n * In the case of cyclic dependencies, an Error will be thrown. This can be fixed\n * by injecting a provider `() => T` instead of a `T`.\n *\n * Please note that the arguments may be objects or arrays. However, the result will\n * be an object. Using it with for..of will have no effect.\n *\n * @param module1 first Module\n * @param module2 (optional) second Module\n * @param module3 (optional) third Module\n * @param module4 (optional) fourth Module\n * @param module5 (optional) fifth Module\n * @param module6 (optional) sixth Module\n * @param module7 (optional) seventh Module\n * @param module8 (optional) eighth Module\n * @param module9 (optional) ninth Module\n * @returns a new object of type I\n */ function inject(module1, module2, module3, module4, module5, module6, module7, module8, module9) {\n    const module = [\n        module1,\n        module2,\n        module3,\n        module4,\n        module5,\n        module6,\n        module7,\n        module8,\n        module9\n    ].reduce(_merge, {});\n    return _inject(module);\n}\nconst isProxy = Symbol(\"isProxy\");\n/**\n * Eagerly load all services in the given dependency injection container. This is sometimes\n * necessary because services can register event listeners in their constructors.\n */ function eagerLoad(item) {\n    if (item && item[isProxy]) {\n        for (const value of Object.values(item)){\n            eagerLoad(value);\n        }\n    }\n    return item;\n}\n/**\n * Helper function that returns an injector by creating a proxy.\n * Invariant: injector is of type I. If injector is undefined, then T = I.\n */ function _inject(module, injector) {\n    const proxy = new Proxy({}, {\n        deleteProperty: ()=>false,\n        set: ()=>{\n            throw new Error(\"Cannot set property on injected service container\");\n        },\n        get: (obj, prop)=>{\n            if (prop === isProxy) {\n                return true;\n            } else {\n                return _resolve(obj, prop, module, injector || proxy);\n            }\n        },\n        getOwnPropertyDescriptor: (obj, prop)=>(_resolve(obj, prop, module, injector || proxy), Object.getOwnPropertyDescriptor(obj, prop)),\n        has: (_, prop)=>prop in module,\n        ownKeys: ()=>[\n                ...Object.getOwnPropertyNames(module)\n            ] // used by for..in\n    });\n    return proxy;\n}\n/**\n * Internally used to tag a requested dependency, directly before calling the factory.\n * This allows us to find cycles during instance creation.\n */ const __requested__ = Symbol();\n/**\n * Returns the value `obj[prop]`. If the value does not exist, yet, it is resolved from\n * the module description. The result of service factories is cached. Groups are\n * recursively proxied.\n *\n * @param obj an object holding all group proxies and services\n * @param prop the key of a value within obj\n * @param module an object containing groups and service factories\n * @param injector the first level proxy that provides access to all values\n * @returns the requested value `obj[prop]`\n * @throws Error if a dependency cycle is detected\n */ function _resolve(obj, prop, module, injector) {\n    if (prop in obj) {\n        if (obj[prop] instanceof Error) {\n            throw new Error(\"Construction failure. Please make sure that your dependencies are constructable.\", {\n                cause: obj[prop]\n            });\n        }\n        if (obj[prop] === __requested__) {\n            throw new Error('Cycle detected. Please make \"' + String(prop) + '\" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');\n        }\n        return obj[prop];\n    } else if (prop in module) {\n        const value = module[prop];\n        obj[prop] = __requested__;\n        try {\n            obj[prop] = typeof value === \"function\" ? value(injector) : _inject(value, injector);\n        } catch (error) {\n            obj[prop] = error instanceof Error ? error : undefined;\n            throw error;\n        }\n        return obj[prop];\n    } else {\n        return undefined;\n    }\n}\n/**\n * Performs a deep-merge of two modules by writing source entries into the target module.\n *\n * @param target the module which is written\n * @param source the module which is read\n * @returns the target module\n */ function _merge(target, source) {\n    if (source) {\n        for (const [key, value2] of Object.entries(source)){\n            if (value2 !== undefined) {\n                const value1 = target[key];\n                if (value1 !== null && value2 !== null && typeof value1 === \"object\" && typeof value2 === \"object\") {\n                    target[key] = _merge(value1, value2);\n                } else {\n                    target[key] = value2;\n                }\n            }\n        }\n    }\n    return target;\n} //# sourceMappingURL=dependency-injection.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZGVwZW5kZW5jeS1pbmplY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ3ZFLElBQUlBLE9BQU87QUFDakIsVUFBVUEsTUFBTTtJQUNiQSxPQUFPQyxLQUFLLEdBQUcsQ0FBQ0MsSUFBSUMsS0FBT0MsT0FBT0EsT0FBTyxDQUFDLEdBQUdGLEtBQUtDO0FBQ3RELEdBQUdILFVBQVdBLENBQUFBLFNBQVMsQ0FBQztBQUN4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBcUJDLEdBQ00sU0FBU0ssT0FBT0MsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLE9BQU87SUFDbEcsTUFBTUMsU0FBUztRQUFDVDtRQUFTQztRQUFTQztRQUFTQztRQUFTQztRQUFTQztRQUFTQztRQUFTQztRQUFTQztLQUFRLENBQUNFLE1BQU0sQ0FBQ1osUUFBUSxDQUFDO0lBQ2pILE9BQU9hLFFBQVFGO0FBQ25CO0FBQ0EsTUFBTUcsVUFBVUMsT0FBTztBQUN2Qjs7O0NBR0MsR0FDTSxTQUFTQyxVQUFVQyxJQUFJO0lBQzFCLElBQUlBLFFBQVFBLElBQUksQ0FBQ0gsUUFBUSxFQUFFO1FBQ3ZCLEtBQUssTUFBTUksU0FBU0MsT0FBT0MsTUFBTSxDQUFDSCxNQUFPO1lBQ3JDRCxVQUFVRTtRQUNkO0lBQ0o7SUFDQSxPQUFPRDtBQUNYO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0osUUFBUUYsTUFBTSxFQUFFVSxRQUFRO0lBQzdCLE1BQU1DLFFBQVEsSUFBSUMsTUFBTSxDQUFDLEdBQUc7UUFDeEJDLGdCQUFnQixJQUFNO1FBQ3RCQyxLQUFLO1lBQ0QsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO1FBQ0FDLEtBQUssQ0FBQ0MsS0FBS0M7WUFDUCxJQUFJQSxTQUFTZixTQUFTO2dCQUNsQixPQUFPO1lBQ1gsT0FDSztnQkFDRCxPQUFPZ0IsU0FBU0YsS0FBS0MsTUFBTWxCLFFBQVFVLFlBQVlDO1lBQ25EO1FBQ0o7UUFDQVMsMEJBQTBCLENBQUNILEtBQUtDLE9BQVVDLENBQUFBLFNBQVNGLEtBQUtDLE1BQU1sQixRQUFRVSxZQUFZQyxRQUFRSCxPQUFPWSx3QkFBd0IsQ0FBQ0gsS0FBS0MsS0FBSTtRQUNuSUcsS0FBSyxDQUFDQyxHQUFHSixPQUFTQSxRQUFRbEI7UUFDMUJ1QixTQUFTLElBQU07bUJBQUlmLE9BQU9nQixtQkFBbUIsQ0FBQ3hCO2FBQVEsQ0FBQyxrQkFBa0I7SUFDN0U7SUFDQSxPQUFPVztBQUNYO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTWMsZ0JBQWdCckI7QUFDdEI7Ozs7Ozs7Ozs7O0NBV0MsR0FDRCxTQUFTZSxTQUFTRixHQUFHLEVBQUVDLElBQUksRUFBRWxCLE1BQU0sRUFBRVUsUUFBUTtJQUN6QyxJQUFJUSxRQUFRRCxLQUFLO1FBQ2IsSUFBSUEsR0FBRyxDQUFDQyxLQUFLLFlBQVlILE9BQU87WUFDNUIsTUFBTSxJQUFJQSxNQUFNLG9GQUFvRjtnQkFBRVcsT0FBT1QsR0FBRyxDQUFDQyxLQUFLO1lBQUM7UUFDM0g7UUFDQSxJQUFJRCxHQUFHLENBQUNDLEtBQUssS0FBS08sZUFBZTtZQUM3QixNQUFNLElBQUlWLE1BQU0sa0NBQWtDWSxPQUFPVCxRQUFRO1FBQ3JFO1FBQ0EsT0FBT0QsR0FBRyxDQUFDQyxLQUFLO0lBQ3BCLE9BQ0ssSUFBSUEsUUFBUWxCLFFBQVE7UUFDckIsTUFBTU8sUUFBUVAsTUFBTSxDQUFDa0IsS0FBSztRQUMxQkQsR0FBRyxDQUFDQyxLQUFLLEdBQUdPO1FBQ1osSUFBSTtZQUNBUixHQUFHLENBQUNDLEtBQUssR0FBRyxPQUFRWCxVQUFVLGFBQWNBLE1BQU1HLFlBQVlSLFFBQVFLLE9BQU9HO1FBQ2pGLEVBQ0EsT0FBT2tCLE9BQU87WUFDVlgsR0FBRyxDQUFDQyxLQUFLLEdBQUdVLGlCQUFpQmIsUUFBUWEsUUFBUUM7WUFDN0MsTUFBTUQ7UUFDVjtRQUNBLE9BQU9YLEdBQUcsQ0FBQ0MsS0FBSztJQUNwQixPQUNLO1FBQ0QsT0FBT1c7SUFDWDtBQUNKO0FBQ0E7Ozs7OztDQU1DLEdBQ0QsU0FBU3hDLE9BQU95QyxNQUFNLEVBQUVDLE1BQU07SUFDMUIsSUFBSUEsUUFBUTtRQUNSLEtBQUssTUFBTSxDQUFDQyxLQUFLQyxPQUFPLElBQUl6QixPQUFPMEIsT0FBTyxDQUFDSCxRQUFTO1lBQ2hELElBQUlFLFdBQVdKLFdBQVc7Z0JBQ3RCLE1BQU1NLFNBQVNMLE1BQU0sQ0FBQ0UsSUFBSTtnQkFDMUIsSUFBSUcsV0FBVyxRQUFRRixXQUFXLFFBQVEsT0FBT0UsV0FBVyxZQUFZLE9BQU9GLFdBQVcsVUFBVTtvQkFDaEdILE1BQU0sQ0FBQ0UsSUFBSSxHQUFHM0MsT0FBTzhDLFFBQVFGO2dCQUNqQyxPQUNLO29CQUNESCxNQUFNLENBQUNFLElBQUksR0FBR0M7Z0JBQ2xCO1lBQ0o7UUFDSjtJQUNKO0lBQ0EsT0FBT0g7QUFDWCxFQUNBLGdEQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL2RlcGVuZGVuY3ktaW5qZWN0aW9uLmpzPzQzYWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IHZhciBNb2R1bGU7XG4oZnVuY3Rpb24gKE1vZHVsZSkge1xuICAgIE1vZHVsZS5tZXJnZSA9IChtMSwgbTIpID0+IF9tZXJnZShfbWVyZ2Uoe30sIG0xKSwgbTIpO1xufSkoTW9kdWxlIHx8IChNb2R1bGUgPSB7fSkpO1xuLyoqXG4gKiBHaXZlbiBhIHNldCBvZiBtb2R1bGVzLCB0aGUgaW5qZWN0IGZ1bmN0aW9uIHJldHVybnMgYSBsYXppbHkgZXZhbHVhdGVkIGluamVjdG9yXG4gKiB0aGF0IGluamVjdHMgZGVwZW5kZW5jaWVzIGludG8gdGhlIHJlcXVlc3RlZCBzZXJ2aWNlIHdoZW4gaXQgaXMgcmVxdWVzdGVkIHRoZVxuICogZmlyc3QgdGltZS4gU3Vic2VxdWVudCByZXF1ZXN0cyB3aWxsIHJldHVybiB0aGUgc2FtZSBzZXJ2aWNlLlxuICpcbiAqIEluIHRoZSBjYXNlIG9mIGN5Y2xpYyBkZXBlbmRlbmNpZXMsIGFuIEVycm9yIHdpbGwgYmUgdGhyb3duLiBUaGlzIGNhbiBiZSBmaXhlZFxuICogYnkgaW5qZWN0aW5nIGEgcHJvdmlkZXIgYCgpID0+IFRgIGluc3RlYWQgb2YgYSBgVGAuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCB0aGUgYXJndW1lbnRzIG1heSBiZSBvYmplY3RzIG9yIGFycmF5cy4gSG93ZXZlciwgdGhlIHJlc3VsdCB3aWxsXG4gKiBiZSBhbiBvYmplY3QuIFVzaW5nIGl0IHdpdGggZm9yLi5vZiB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICpcbiAqIEBwYXJhbSBtb2R1bGUxIGZpcnN0IE1vZHVsZVxuICogQHBhcmFtIG1vZHVsZTIgKG9wdGlvbmFsKSBzZWNvbmQgTW9kdWxlXG4gKiBAcGFyYW0gbW9kdWxlMyAob3B0aW9uYWwpIHRoaXJkIE1vZHVsZVxuICogQHBhcmFtIG1vZHVsZTQgKG9wdGlvbmFsKSBmb3VydGggTW9kdWxlXG4gKiBAcGFyYW0gbW9kdWxlNSAob3B0aW9uYWwpIGZpZnRoIE1vZHVsZVxuICogQHBhcmFtIG1vZHVsZTYgKG9wdGlvbmFsKSBzaXh0aCBNb2R1bGVcbiAqIEBwYXJhbSBtb2R1bGU3IChvcHRpb25hbCkgc2V2ZW50aCBNb2R1bGVcbiAqIEBwYXJhbSBtb2R1bGU4IChvcHRpb25hbCkgZWlnaHRoIE1vZHVsZVxuICogQHBhcmFtIG1vZHVsZTkgKG9wdGlvbmFsKSBuaW50aCBNb2R1bGVcbiAqIEByZXR1cm5zIGEgbmV3IG9iamVjdCBvZiB0eXBlIElcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluamVjdChtb2R1bGUxLCBtb2R1bGUyLCBtb2R1bGUzLCBtb2R1bGU0LCBtb2R1bGU1LCBtb2R1bGU2LCBtb2R1bGU3LCBtb2R1bGU4LCBtb2R1bGU5KSB7XG4gICAgY29uc3QgbW9kdWxlID0gW21vZHVsZTEsIG1vZHVsZTIsIG1vZHVsZTMsIG1vZHVsZTQsIG1vZHVsZTUsIG1vZHVsZTYsIG1vZHVsZTcsIG1vZHVsZTgsIG1vZHVsZTldLnJlZHVjZShfbWVyZ2UsIHt9KTtcbiAgICByZXR1cm4gX2luamVjdChtb2R1bGUpO1xufVxuY29uc3QgaXNQcm94eSA9IFN5bWJvbCgnaXNQcm94eScpO1xuLyoqXG4gKiBFYWdlcmx5IGxvYWQgYWxsIHNlcnZpY2VzIGluIHRoZSBnaXZlbiBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuIFRoaXMgaXMgc29tZXRpbWVzXG4gKiBuZWNlc3NhcnkgYmVjYXVzZSBzZXJ2aWNlcyBjYW4gcmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzIGluIHRoZWlyIGNvbnN0cnVjdG9ycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhZ2VyTG9hZChpdGVtKSB7XG4gICAgaWYgKGl0ZW0gJiYgaXRlbVtpc1Byb3h5XSkge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIE9iamVjdC52YWx1ZXMoaXRlbSkpIHtcbiAgICAgICAgICAgIGVhZ2VyTG9hZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG59XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaW5qZWN0b3IgYnkgY3JlYXRpbmcgYSBwcm94eS5cbiAqIEludmFyaWFudDogaW5qZWN0b3IgaXMgb2YgdHlwZSBJLiBJZiBpbmplY3RvciBpcyB1bmRlZmluZWQsIHRoZW4gVCA9IEkuXG4gKi9cbmZ1bmN0aW9uIF9pbmplY3QobW9kdWxlLCBpbmplY3Rvcikge1xuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiBmYWxzZSxcbiAgICAgICAgc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgcHJvcGVydHkgb24gaW5qZWN0ZWQgc2VydmljZSBjb250YWluZXInKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiAob2JqLCBwcm9wKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gaXNQcm94eSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlKG9iaiwgcHJvcCwgbW9kdWxlLCBpbmplY3RvciB8fCBwcm94eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogKG9iaiwgcHJvcCkgPT4gKF9yZXNvbHZlKG9iaiwgcHJvcCwgbW9kdWxlLCBpbmplY3RvciB8fCBwcm94eSksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKSksIC8vIHVzZWQgYnkgZm9yLi5pblxuICAgICAgICBoYXM6IChfLCBwcm9wKSA9PiBwcm9wIGluIG1vZHVsZSwgLy8gdXNlZCBieSAuLmluLi5cbiAgICAgICAgb3duS2V5czogKCkgPT4gWy4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG1vZHVsZSldIC8vIHVzZWQgYnkgZm9yLi5pblxuICAgIH0pO1xuICAgIHJldHVybiBwcm94eTtcbn1cbi8qKlxuICogSW50ZXJuYWxseSB1c2VkIHRvIHRhZyBhIHJlcXVlc3RlZCBkZXBlbmRlbmN5LCBkaXJlY3RseSBiZWZvcmUgY2FsbGluZyB0aGUgZmFjdG9yeS5cbiAqIFRoaXMgYWxsb3dzIHVzIHRvIGZpbmQgY3ljbGVzIGR1cmluZyBpbnN0YW5jZSBjcmVhdGlvbi5cbiAqL1xuY29uc3QgX19yZXF1ZXN0ZWRfXyA9IFN5bWJvbCgpO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBgb2JqW3Byb3BdYC4gSWYgdGhlIHZhbHVlIGRvZXMgbm90IGV4aXN0LCB5ZXQsIGl0IGlzIHJlc29sdmVkIGZyb21cbiAqIHRoZSBtb2R1bGUgZGVzY3JpcHRpb24uIFRoZSByZXN1bHQgb2Ygc2VydmljZSBmYWN0b3JpZXMgaXMgY2FjaGVkLiBHcm91cHMgYXJlXG4gKiByZWN1cnNpdmVseSBwcm94aWVkLlxuICpcbiAqIEBwYXJhbSBvYmogYW4gb2JqZWN0IGhvbGRpbmcgYWxsIGdyb3VwIHByb3hpZXMgYW5kIHNlcnZpY2VzXG4gKiBAcGFyYW0gcHJvcCB0aGUga2V5IG9mIGEgdmFsdWUgd2l0aGluIG9ialxuICogQHBhcmFtIG1vZHVsZSBhbiBvYmplY3QgY29udGFpbmluZyBncm91cHMgYW5kIHNlcnZpY2UgZmFjdG9yaWVzXG4gKiBAcGFyYW0gaW5qZWN0b3IgdGhlIGZpcnN0IGxldmVsIHByb3h5IHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIGFsbCB2YWx1ZXNcbiAqIEByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgdmFsdWUgYG9ialtwcm9wXWBcbiAqIEB0aHJvd3MgRXJyb3IgaWYgYSBkZXBlbmRlbmN5IGN5Y2xlIGlzIGRldGVjdGVkXG4gKi9cbmZ1bmN0aW9uIF9yZXNvbHZlKG9iaiwgcHJvcCwgbW9kdWxlLCBpbmplY3Rvcikge1xuICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAob2JqW3Byb3BdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uc3RydWN0aW9uIGZhaWx1cmUuIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3VyIGRlcGVuZGVuY2llcyBhcmUgY29uc3RydWN0YWJsZS4nLCB7IGNhdXNlOiBvYmpbcHJvcF0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gX19yZXF1ZXN0ZWRfXykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDeWNsZSBkZXRlY3RlZC4gUGxlYXNlIG1ha2UgXCInICsgU3RyaW5nKHByb3ApICsgJ1wiIGxhenkuIFZpc2l0IGh0dHBzOi8vbGFuZ2l1bS5vcmcvZG9jcy9yZWZlcmVuY2UvY29uZmlndXJhdGlvbi1zZXJ2aWNlcy8jcmVzb2x2aW5nLWN5Y2xpYy1kZXBlbmRlbmNpZXMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqW3Byb3BdO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9wIGluIG1vZHVsZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1vZHVsZVtwcm9wXTtcbiAgICAgICAgb2JqW3Byb3BdID0gX19yZXF1ZXN0ZWRfXztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9ialtwcm9wXSA9ICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpID8gdmFsdWUoaW5qZWN0b3IpIDogX2luamVjdCh2YWx1ZSwgaW5qZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAtbWVyZ2Ugb2YgdHdvIG1vZHVsZXMgYnkgd3JpdGluZyBzb3VyY2UgZW50cmllcyBpbnRvIHRoZSB0YXJnZXQgbW9kdWxlLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgdGhlIG1vZHVsZSB3aGljaCBpcyB3cml0dGVuXG4gKiBAcGFyYW0gc291cmNlIHRoZSBtb2R1bGUgd2hpY2ggaXMgcmVhZFxuICogQHJldHVybnMgdGhlIHRhcmdldCBtb2R1bGVcbiAqL1xuZnVuY3Rpb24gX21lcmdlKHRhcmdldCwgc291cmNlKSB7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlMl0gb2YgT2JqZWN0LmVudHJpZXMoc291cmNlKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUxID0gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlMSAhPT0gbnVsbCAmJiB2YWx1ZTIgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlMSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlMiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBfbWVyZ2UodmFsdWUxLCB2YWx1ZTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXBlbmRlbmN5LWluamVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOlsiTW9kdWxlIiwibWVyZ2UiLCJtMSIsIm0yIiwiX21lcmdlIiwiaW5qZWN0IiwibW9kdWxlMSIsIm1vZHVsZTIiLCJtb2R1bGUzIiwibW9kdWxlNCIsIm1vZHVsZTUiLCJtb2R1bGU2IiwibW9kdWxlNyIsIm1vZHVsZTgiLCJtb2R1bGU5IiwibW9kdWxlIiwicmVkdWNlIiwiX2luamVjdCIsImlzUHJveHkiLCJTeW1ib2wiLCJlYWdlckxvYWQiLCJpdGVtIiwidmFsdWUiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpbmplY3RvciIsInByb3h5IiwiUHJveHkiLCJkZWxldGVQcm9wZXJ0eSIsInNldCIsIkVycm9yIiwiZ2V0Iiwib2JqIiwicHJvcCIsIl9yZXNvbHZlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaGFzIiwiXyIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX19yZXF1ZXN0ZWRfXyIsImNhdXNlIiwiU3RyaW5nIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJ0YXJnZXQiLCJzb3VyY2UiLCJrZXkiLCJ2YWx1ZTIiLCJlbnRyaWVzIiwidmFsdWUxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/dependency-injection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/documentation/comment-provider.js":
/*!********************************************************************!*\
  !*** ./node_modules/langium/lib/documentation/comment-provider.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultCommentProvider: () => (/* binding */ DefaultCommentProvider)\n/* harmony export */ });\n/* harmony import */ var _serializer_json_serializer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../serializer/json-serializer.js */ \"(ssr)/./node_modules/langium/lib/serializer/json-serializer.js\");\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nclass DefaultCommentProvider {\n    constructor(services){\n        this.grammarConfig = ()=>services.parser.GrammarConfig;\n    }\n    getComment(node) {\n        var _a;\n        if ((0,_serializer_json_serializer_js__WEBPACK_IMPORTED_MODULE_0__.isAstNodeWithComment)(node)) {\n            return node.$comment;\n        }\n        return (_a = (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__.findCommentNode)(node.$cstNode, this.grammarConfig().multilineCommentRules)) === null || _a === void 0 ? void 0 : _a.text;\n    }\n} //# sourceMappingURL=comment-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZG9jdW1lbnRhdGlvbi9jb21tZW50LXByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNOO0FBQ2hCO0FBQ2pELE1BQU1FO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFNRCxTQUFTRSxNQUFNLENBQUNDLGFBQWE7SUFDNUQ7SUFDQUMsV0FBV0MsSUFBSSxFQUFFO1FBQ2IsSUFBSUM7UUFDSixJQUFJVixvRkFBb0JBLENBQUNTLE9BQU87WUFDNUIsT0FBT0EsS0FBS0UsUUFBUTtRQUN4QjtRQUNBLE9BQU8sQ0FBQ0QsS0FBS1Qsb0VBQWVBLENBQUNRLEtBQUtHLFFBQVEsRUFBRSxJQUFJLENBQUNQLGFBQWEsR0FBR1EscUJBQXFCLE9BQU8sUUFBUUgsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHSSxJQUFJO0lBQ3pJO0FBQ0osRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi9kb2N1bWVudGF0aW9uL2NvbW1lbnQtcHJvdmlkZXIuanM/ZjQzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMyBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBpc0FzdE5vZGVXaXRoQ29tbWVudCB9IGZyb20gJy4uL3NlcmlhbGl6ZXIvanNvbi1zZXJpYWxpemVyLmpzJztcbmltcG9ydCB7IGZpbmRDb21tZW50Tm9kZSB9IGZyb20gJy4uL3V0aWxzL2NzdC11dGlscy5qcyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdENvbW1lbnRQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICAgICAgdGhpcy5ncmFtbWFyQ29uZmlnID0gKCkgPT4gc2VydmljZXMucGFyc2VyLkdyYW1tYXJDb25maWc7XG4gICAgfVxuICAgIGdldENvbW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChpc0FzdE5vZGVXaXRoQ29tbWVudChub2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuJGNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IGZpbmRDb21tZW50Tm9kZShub2RlLiRjc3ROb2RlLCB0aGlzLmdyYW1tYXJDb25maWcoKS5tdWx0aWxpbmVDb21tZW50UnVsZXMpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tZW50LXByb3ZpZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJpc0FzdE5vZGVXaXRoQ29tbWVudCIsImZpbmRDb21tZW50Tm9kZSIsIkRlZmF1bHRDb21tZW50UHJvdmlkZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwiZ3JhbW1hckNvbmZpZyIsInBhcnNlciIsIkdyYW1tYXJDb25maWciLCJnZXRDb21tZW50Iiwibm9kZSIsIl9hIiwiJGNvbW1lbnQiLCIkY3N0Tm9kZSIsIm11bHRpbGluZUNvbW1lbnRSdWxlcyIsInRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/documentation/comment-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/documentation/documentation-provider.js":
/*!**************************************************************************!*\
  !*** ./node_modules/langium/lib/documentation/documentation-provider.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSDocDocumentationProvider: () => (/* binding */ JSDocDocumentationProvider)\n/* harmony export */ });\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _jsdoc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jsdoc.js */ \"(ssr)/./node_modules/langium/lib/documentation/jsdoc.js\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nclass JSDocDocumentationProvider {\n    constructor(services){\n        this.indexManager = services.shared.workspace.IndexManager;\n        this.commentProvider = services.documentation.CommentProvider;\n    }\n    getDocumentation(node) {\n        const comment = this.commentProvider.getComment(node);\n        if (comment && (0,_jsdoc_js__WEBPACK_IMPORTED_MODULE_0__.isJSDoc)(comment)) {\n            const parsedJSDoc = (0,_jsdoc_js__WEBPACK_IMPORTED_MODULE_0__.parseJSDoc)(comment);\n            return parsedJSDoc.toMarkdown({\n                renderLink: (link, display)=>{\n                    return this.documentationLinkRenderer(node, link, display);\n                },\n                renderTag: (tag)=>{\n                    return this.documentationTagRenderer(node, tag);\n                }\n            });\n        }\n        return undefined;\n    }\n    documentationLinkRenderer(node, name, display) {\n        var _a;\n        const description = (_a = this.findNameInPrecomputedScopes(node, name)) !== null && _a !== void 0 ? _a : this.findNameInGlobalScope(node, name);\n        if (description && description.nameSegment) {\n            const line = description.nameSegment.range.start.line + 1;\n            const character = description.nameSegment.range.start.character + 1;\n            const uri = description.documentUri.with({\n                fragment: `L${line},${character}`\n            });\n            return `[${display}](${uri.toString()})`;\n        } else {\n            return undefined;\n        }\n    }\n    documentationTagRenderer(_node, _tag) {\n        // Fall back to the default tag rendering\n        return undefined;\n    }\n    findNameInPrecomputedScopes(node, name) {\n        const document = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.getDocument)(node);\n        const precomputed = document.precomputedScopes;\n        if (!precomputed) {\n            return undefined;\n        }\n        let currentNode = node;\n        do {\n            const allDescriptions = precomputed.get(currentNode);\n            const description = allDescriptions.find((e)=>e.name === name);\n            if (description) {\n                return description;\n            }\n            currentNode = currentNode.$container;\n        }while (currentNode);\n        return undefined;\n    }\n    findNameInGlobalScope(node, name) {\n        const description = this.indexManager.allElements().find((e)=>e.name === name);\n        return description;\n    }\n} //# sourceMappingURL=documentation-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZG9jdW1lbnRhdGlvbi9kb2N1bWVudGF0aW9uLXByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUMxQjtBQUNIO0FBQzFDLE1BQU1HO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUNDLFlBQVksR0FBR0QsU0FBU0UsTUFBTSxDQUFDQyxTQUFTLENBQUNDLFlBQVk7UUFDMUQsSUFBSSxDQUFDQyxlQUFlLEdBQUdMLFNBQVNNLGFBQWEsQ0FBQ0MsZUFBZTtJQUNqRTtJQUNBQyxpQkFBaUJDLElBQUksRUFBRTtRQUNuQixNQUFNQyxVQUFVLElBQUksQ0FBQ0wsZUFBZSxDQUFDTSxVQUFVLENBQUNGO1FBQ2hELElBQUlDLFdBQVdkLGtEQUFPQSxDQUFDYyxVQUFVO1lBQzdCLE1BQU1FLGNBQWNmLHFEQUFVQSxDQUFDYTtZQUMvQixPQUFPRSxZQUFZQyxVQUFVLENBQUM7Z0JBQzFCQyxZQUFZLENBQUNDLE1BQU1DO29CQUNmLE9BQU8sSUFBSSxDQUFDQyx5QkFBeUIsQ0FBQ1IsTUFBTU0sTUFBTUM7Z0JBQ3REO2dCQUNBRSxXQUFXLENBQUNDO29CQUNSLE9BQU8sSUFBSSxDQUFDQyx3QkFBd0IsQ0FBQ1gsTUFBTVU7Z0JBQy9DO1lBQ0o7UUFDSjtRQUNBLE9BQU9FO0lBQ1g7SUFDQUosMEJBQTBCUixJQUFJLEVBQUVhLElBQUksRUFBRU4sT0FBTyxFQUFFO1FBQzNDLElBQUlPO1FBQ0osTUFBTUMsY0FBYyxDQUFDRCxLQUFLLElBQUksQ0FBQ0UsMkJBQTJCLENBQUNoQixNQUFNYSxLQUFJLE1BQU8sUUFBUUMsT0FBTyxLQUFLLElBQUlBLEtBQUssSUFBSSxDQUFDRyxxQkFBcUIsQ0FBQ2pCLE1BQU1hO1FBQzFJLElBQUlFLGVBQWVBLFlBQVlHLFdBQVcsRUFBRTtZQUN4QyxNQUFNQyxPQUFPSixZQUFZRyxXQUFXLENBQUNFLEtBQUssQ0FBQ0MsS0FBSyxDQUFDRixJQUFJLEdBQUc7WUFDeEQsTUFBTUcsWUFBWVAsWUFBWUcsV0FBVyxDQUFDRSxLQUFLLENBQUNDLEtBQUssQ0FBQ0MsU0FBUyxHQUFHO1lBQ2xFLE1BQU1DLE1BQU1SLFlBQVlTLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxVQUFVLENBQUMsQ0FBQyxFQUFFUCxLQUFLLENBQUMsRUFBRUcsVUFBVSxDQUFDO1lBQUM7WUFDN0UsT0FBTyxDQUFDLENBQUMsRUFBRWYsUUFBUSxFQUFFLEVBQUVnQixJQUFJSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLE9BQ0s7WUFDRCxPQUFPZjtRQUNYO0lBQ0o7SUFDQUQseUJBQXlCaUIsS0FBSyxFQUFFQyxJQUFJLEVBQUU7UUFDbEMseUNBQXlDO1FBQ3pDLE9BQU9qQjtJQUNYO0lBQ0FJLDRCQUE0QmhCLElBQUksRUFBRWEsSUFBSSxFQUFFO1FBQ3BDLE1BQU1pQixXQUFXNUMsZ0VBQVdBLENBQUNjO1FBQzdCLE1BQU0rQixjQUFjRCxTQUFTRSxpQkFBaUI7UUFDOUMsSUFBSSxDQUFDRCxhQUFhO1lBQ2QsT0FBT25CO1FBQ1g7UUFDQSxJQUFJcUIsY0FBY2pDO1FBQ2xCLEdBQUc7WUFDQyxNQUFNa0Msa0JBQWtCSCxZQUFZSSxHQUFHLENBQUNGO1lBQ3hDLE1BQU1sQixjQUFjbUIsZ0JBQWdCRSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUV4QixJQUFJLEtBQUtBO1lBQ3pELElBQUlFLGFBQWE7Z0JBQ2IsT0FBT0E7WUFDWDtZQUNBa0IsY0FBY0EsWUFBWUssVUFBVTtRQUN4QyxRQUFTTCxhQUFhO1FBQ3RCLE9BQU9yQjtJQUNYO0lBQ0FLLHNCQUFzQmpCLElBQUksRUFBRWEsSUFBSSxFQUFFO1FBQzlCLE1BQU1FLGNBQWMsSUFBSSxDQUFDdkIsWUFBWSxDQUFDK0MsV0FBVyxHQUFHSCxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUV4QixJQUFJLEtBQUtBO1FBQ3pFLE9BQU9FO0lBQ1g7QUFDSixFQUNBLGtEQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL2RvY3VtZW50YXRpb24vZG9jdW1lbnRhdGlvbi1wcm92aWRlci5qcz9kOTNlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIzIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IGlzSlNEb2MsIHBhcnNlSlNEb2MgfSBmcm9tICcuL2pzZG9jLmpzJztcbmV4cG9ydCBjbGFzcyBKU0RvY0RvY3VtZW50YXRpb25Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBzZXJ2aWNlcy5zaGFyZWQud29ya3NwYWNlLkluZGV4TWFuYWdlcjtcbiAgICAgICAgdGhpcy5jb21tZW50UHJvdmlkZXIgPSBzZXJ2aWNlcy5kb2N1bWVudGF0aW9uLkNvbW1lbnRQcm92aWRlcjtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRhdGlvbihub2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmNvbW1lbnRQcm92aWRlci5nZXRDb21tZW50KG5vZGUpO1xuICAgICAgICBpZiAoY29tbWVudCAmJiBpc0pTRG9jKGNvbW1lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRKU0RvYyA9IHBhcnNlSlNEb2MoY29tbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkSlNEb2MudG9NYXJrZG93bih7XG4gICAgICAgICAgICAgICAgcmVuZGVyTGluazogKGxpbmssIGRpc3BsYXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRhdGlvbkxpbmtSZW5kZXJlcihub2RlLCBsaW5rLCBkaXNwbGF5KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbmRlclRhZzogKHRhZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudGF0aW9uVGFnUmVuZGVyZXIobm9kZSwgdGFnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBkb2N1bWVudGF0aW9uTGlua1JlbmRlcmVyKG5vZGUsIG5hbWUsIGRpc3BsYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IChfYSA9IHRoaXMuZmluZE5hbWVJblByZWNvbXB1dGVkU2NvcGVzKG5vZGUsIG5hbWUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmZpbmROYW1lSW5HbG9iYWxTY29wZShub2RlLCBuYW1lKTtcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uICYmIGRlc2NyaXB0aW9uLm5hbWVTZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gZGVzY3JpcHRpb24ubmFtZVNlZ21lbnQucmFuZ2Uuc3RhcnQubGluZSArIDE7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSBkZXNjcmlwdGlvbi5uYW1lU2VnbWVudC5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgKyAxO1xuICAgICAgICAgICAgY29uc3QgdXJpID0gZGVzY3JpcHRpb24uZG9jdW1lbnRVcmkud2l0aCh7IGZyYWdtZW50OiBgTCR7bGluZX0sJHtjaGFyYWN0ZXJ9YCB9KTtcbiAgICAgICAgICAgIHJldHVybiBgWyR7ZGlzcGxheX1dKCR7dXJpLnRvU3RyaW5nKCl9KWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvY3VtZW50YXRpb25UYWdSZW5kZXJlcihfbm9kZSwgX3RhZykge1xuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIGRlZmF1bHQgdGFnIHJlbmRlcmluZ1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmaW5kTmFtZUluUHJlY29tcHV0ZWRTY29wZXMobm9kZSwgbmFtZSkge1xuICAgICAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KG5vZGUpO1xuICAgICAgICBjb25zdCBwcmVjb21wdXRlZCA9IGRvY3VtZW50LnByZWNvbXB1dGVkU2NvcGVzO1xuICAgICAgICBpZiAoIXByZWNvbXB1dGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbERlc2NyaXB0aW9ucyA9IHByZWNvbXB1dGVkLmdldChjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGFsbERlc2NyaXB0aW9ucy5maW5kKGUgPT4gZS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuJGNvbnRhaW5lcjtcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudE5vZGUpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmaW5kTmFtZUluR2xvYmFsU2NvcGUobm9kZSwgbmFtZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuaW5kZXhNYW5hZ2VyLmFsbEVsZW1lbnRzKCkuZmluZChlID0+IGUubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb2N1bWVudGF0aW9uLXByb3ZpZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJnZXREb2N1bWVudCIsImlzSlNEb2MiLCJwYXJzZUpTRG9jIiwiSlNEb2NEb2N1bWVudGF0aW9uUHJvdmlkZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwiaW5kZXhNYW5hZ2VyIiwic2hhcmVkIiwid29ya3NwYWNlIiwiSW5kZXhNYW5hZ2VyIiwiY29tbWVudFByb3ZpZGVyIiwiZG9jdW1lbnRhdGlvbiIsIkNvbW1lbnRQcm92aWRlciIsImdldERvY3VtZW50YXRpb24iLCJub2RlIiwiY29tbWVudCIsImdldENvbW1lbnQiLCJwYXJzZWRKU0RvYyIsInRvTWFya2Rvd24iLCJyZW5kZXJMaW5rIiwibGluayIsImRpc3BsYXkiLCJkb2N1bWVudGF0aW9uTGlua1JlbmRlcmVyIiwicmVuZGVyVGFnIiwidGFnIiwiZG9jdW1lbnRhdGlvblRhZ1JlbmRlcmVyIiwidW5kZWZpbmVkIiwibmFtZSIsIl9hIiwiZGVzY3JpcHRpb24iLCJmaW5kTmFtZUluUHJlY29tcHV0ZWRTY29wZXMiLCJmaW5kTmFtZUluR2xvYmFsU2NvcGUiLCJuYW1lU2VnbWVudCIsImxpbmUiLCJyYW5nZSIsInN0YXJ0IiwiY2hhcmFjdGVyIiwidXJpIiwiZG9jdW1lbnRVcmkiLCJ3aXRoIiwiZnJhZ21lbnQiLCJ0b1N0cmluZyIsIl9ub2RlIiwiX3RhZyIsImRvY3VtZW50IiwicHJlY29tcHV0ZWQiLCJwcmVjb21wdXRlZFNjb3BlcyIsImN1cnJlbnROb2RlIiwiYWxsRGVzY3JpcHRpb25zIiwiZ2V0IiwiZmluZCIsImUiLCIkY29udGFpbmVyIiwiYWxsRWxlbWVudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/documentation/documentation-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/documentation/jsdoc.js":
/*!*********************************************************!*\
  !*** ./node_modules/langium/lib/documentation/jsdoc.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isJSDoc: () => (/* binding */ isJSDoc),\n/* harmony export */   parseJSDoc: () => (/* binding */ parseJSDoc)\n/* harmony export */ });\n/* harmony import */ var vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode-languageserver-types */ \"(ssr)/./node_modules/vscode-languageserver-types/lib/esm/main.js\");\n/* harmony import */ var _utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/regexp-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/regexp-utils.js\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/vscode-uri/lib/esm/index.mjs\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\nfunction parseJSDoc(node, start, options) {\n    let opts;\n    let position;\n    if (typeof node === \"string\") {\n        position = start;\n        opts = options;\n    } else {\n        position = node.range.start;\n        opts = start;\n    }\n    if (!position) {\n        position = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(0, 0);\n    }\n    const lines = getLines(node);\n    const normalizedOptions = normalizeOptions(opts);\n    const tokens = tokenize({\n        lines,\n        position,\n        options: normalizedOptions\n    });\n    return parseJSDocComment({\n        index: 0,\n        tokens,\n        position\n    });\n}\nfunction isJSDoc(node, options) {\n    const normalizedOptions = normalizeOptions(options);\n    const lines = getLines(node);\n    if (lines.length === 0) {\n        return false;\n    }\n    const first = lines[0];\n    const last = lines[lines.length - 1];\n    const firstRegex = normalizedOptions.start;\n    const lastRegex = normalizedOptions.end;\n    return Boolean(firstRegex === null || firstRegex === void 0 ? void 0 : firstRegex.exec(first)) && Boolean(lastRegex === null || lastRegex === void 0 ? void 0 : lastRegex.exec(last));\n}\nfunction getLines(node) {\n    let content = \"\";\n    if (typeof node === \"string\") {\n        content = node;\n    } else {\n        content = node.text;\n    }\n    const lines = content.split(_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_1__.NEWLINE_REGEXP);\n    return lines;\n}\nconst tagRegex = /\\s*(@([\\p{L}][\\p{L}\\p{N}]*)?)/uy;\nconst inlineTagRegex = /\\{(@[\\p{L}][\\p{L}\\p{N}]*)(\\s*)([^\\r\\n}]+)?\\}/gu;\nfunction tokenize(context) {\n    var _a, _b, _c;\n    const tokens = [];\n    let currentLine = context.position.line;\n    let currentCharacter = context.position.character;\n    for(let i = 0; i < context.lines.length; i++){\n        const first = i === 0;\n        const last = i === context.lines.length - 1;\n        let line = context.lines[i];\n        let index = 0;\n        if (first && context.options.start) {\n            const match = (_a = context.options.start) === null || _a === void 0 ? void 0 : _a.exec(line);\n            if (match) {\n                index = match.index + match[0].length;\n            }\n        } else {\n            const match = (_b = context.options.line) === null || _b === void 0 ? void 0 : _b.exec(line);\n            if (match) {\n                index = match.index + match[0].length;\n            }\n        }\n        if (last) {\n            const match = (_c = context.options.end) === null || _c === void 0 ? void 0 : _c.exec(line);\n            if (match) {\n                line = line.substring(0, match.index);\n            }\n        }\n        line = line.substring(0, lastCharacter(line));\n        const whitespaceEnd = skipWhitespace(line, index);\n        if (whitespaceEnd >= line.length) {\n            // Only create a break token when we already have previous tokens\n            if (tokens.length > 0) {\n                const position = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(currentLine, currentCharacter);\n                tokens.push({\n                    type: \"break\",\n                    content: \"\",\n                    range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(position, position)\n                });\n            }\n        } else {\n            tagRegex.lastIndex = index;\n            const tagMatch = tagRegex.exec(line);\n            if (tagMatch) {\n                const fullMatch = tagMatch[0];\n                const value = tagMatch[1];\n                const start = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(currentLine, currentCharacter + index);\n                const end = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(currentLine, currentCharacter + index + fullMatch.length);\n                tokens.push({\n                    type: \"tag\",\n                    content: value,\n                    range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(start, end)\n                });\n                index += fullMatch.length;\n                index = skipWhitespace(line, index);\n            }\n            if (index < line.length) {\n                const rest = line.substring(index);\n                const inlineTagMatches = Array.from(rest.matchAll(inlineTagRegex));\n                tokens.push(...buildInlineTokens(inlineTagMatches, rest, currentLine, currentCharacter + index));\n            }\n        }\n        currentLine++;\n        currentCharacter = 0;\n    }\n    // Remove last break token if there is one\n    if (tokens.length > 0 && tokens[tokens.length - 1].type === \"break\") {\n        return tokens.slice(0, -1);\n    }\n    return tokens;\n}\nfunction buildInlineTokens(tags, line, lineIndex, characterIndex) {\n    const tokens = [];\n    if (tags.length === 0) {\n        const start = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, characterIndex);\n        const end = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, characterIndex + line.length);\n        tokens.push({\n            type: \"text\",\n            content: line,\n            range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(start, end)\n        });\n    } else {\n        let lastIndex = 0;\n        for (const match of tags){\n            const matchIndex = match.index;\n            const startContent = line.substring(lastIndex, matchIndex);\n            if (startContent.length > 0) {\n                tokens.push({\n                    type: \"text\",\n                    content: line.substring(lastIndex, matchIndex),\n                    range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + characterIndex), vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, matchIndex + characterIndex))\n                });\n            }\n            let offset = startContent.length + 1;\n            const tagName = match[1];\n            tokens.push({\n                type: \"inline-tag\",\n                content: tagName,\n                range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + offset + characterIndex), vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + offset + tagName.length + characterIndex))\n            });\n            offset += tagName.length;\n            if (match.length === 4) {\n                offset += match[2].length;\n                const value = match[3];\n                tokens.push({\n                    type: \"text\",\n                    content: value,\n                    range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + offset + characterIndex), vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + offset + value.length + characterIndex))\n                });\n            } else {\n                tokens.push({\n                    type: \"text\",\n                    content: \"\",\n                    range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + offset + characterIndex), vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + offset + characterIndex))\n                });\n            }\n            lastIndex = matchIndex + match[0].length;\n        }\n        const endContent = line.substring(lastIndex);\n        if (endContent.length > 0) {\n            tokens.push({\n                type: \"text\",\n                content: endContent,\n                range: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + characterIndex), vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(lineIndex, lastIndex + characterIndex + endContent.length))\n            });\n        }\n    }\n    return tokens;\n}\nconst nonWhitespaceRegex = /\\S/;\nconst whitespaceEndRegex = /\\s*$/;\nfunction skipWhitespace(line, index) {\n    const match = line.substring(index).match(nonWhitespaceRegex);\n    if (match) {\n        return index + match.index;\n    } else {\n        return line.length;\n    }\n}\nfunction lastCharacter(line) {\n    const match = line.match(whitespaceEndRegex);\n    if (match && typeof match.index === \"number\") {\n        return match.index;\n    }\n    return undefined;\n}\n// Parsing\nfunction parseJSDocComment(context) {\n    var _a, _b, _c, _d;\n    const startPosition = vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(context.position.line, context.position.character);\n    if (context.tokens.length === 0) {\n        return new JSDocCommentImpl([], vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(startPosition, startPosition));\n    }\n    const elements = [];\n    while(context.index < context.tokens.length){\n        const element = parseJSDocElement(context, elements[elements.length - 1]);\n        if (element) {\n            elements.push(element);\n        }\n    }\n    const start = (_b = (_a = elements[0]) === null || _a === void 0 ? void 0 : _a.range.start) !== null && _b !== void 0 ? _b : startPosition;\n    const end = (_d = (_c = elements[elements.length - 1]) === null || _c === void 0 ? void 0 : _c.range.end) !== null && _d !== void 0 ? _d : startPosition;\n    return new JSDocCommentImpl(elements, vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(start, end));\n}\nfunction parseJSDocElement(context, last) {\n    const next = context.tokens[context.index];\n    if (next.type === \"tag\") {\n        return parseJSDocTag(context, false);\n    } else if (next.type === \"text\" || next.type === \"inline-tag\") {\n        return parseJSDocText(context);\n    } else {\n        appendEmptyLine(next, last);\n        context.index++;\n        return undefined;\n    }\n}\nfunction appendEmptyLine(token, element) {\n    if (element) {\n        const line = new JSDocLineImpl(\"\", token.range);\n        if (\"inlines\" in element) {\n            element.inlines.push(line);\n        } else {\n            element.content.inlines.push(line);\n        }\n    }\n}\nfunction parseJSDocText(context) {\n    let token = context.tokens[context.index];\n    const firstToken = token;\n    let lastToken = token;\n    const lines = [];\n    while(token && token.type !== \"break\" && token.type !== \"tag\"){\n        lines.push(parseJSDocInline(context));\n        lastToken = token;\n        token = context.tokens[context.index];\n    }\n    return new JSDocTextImpl(lines, vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(firstToken.range.start, lastToken.range.end));\n}\nfunction parseJSDocInline(context) {\n    const token = context.tokens[context.index];\n    if (token.type === \"inline-tag\") {\n        return parseJSDocTag(context, true);\n    } else {\n        return parseJSDocLine(context);\n    }\n}\nfunction parseJSDocTag(context, inline) {\n    const tagToken = context.tokens[context.index++];\n    const name = tagToken.content.substring(1);\n    const nextToken = context.tokens[context.index];\n    if ((nextToken === null || nextToken === void 0 ? void 0 : nextToken.type) === \"text\") {\n        if (inline) {\n            const docLine = parseJSDocLine(context);\n            return new JSDocTagImpl(name, new JSDocTextImpl([\n                docLine\n            ], docLine.range), inline, vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(tagToken.range.start, docLine.range.end));\n        } else {\n            const textDoc = parseJSDocText(context);\n            return new JSDocTagImpl(name, textDoc, inline, vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Range.create(tagToken.range.start, textDoc.range.end));\n        }\n    } else {\n        const range = tagToken.range;\n        return new JSDocTagImpl(name, new JSDocTextImpl([], range), inline, range);\n    }\n}\nfunction parseJSDocLine(context) {\n    const token = context.tokens[context.index++];\n    return new JSDocLineImpl(token.content, token.range);\n}\nfunction normalizeOptions(options) {\n    if (!options) {\n        return normalizeOptions({\n            start: \"/**\",\n            end: \"*/\",\n            line: \"*\"\n        });\n    }\n    const { start, end, line } = options;\n    return {\n        start: normalizeOption(start, true),\n        end: normalizeOption(end, false),\n        line: normalizeOption(line, true)\n    };\n}\nfunction normalizeOption(option, start) {\n    if (typeof option === \"string\" || typeof option === \"object\") {\n        const escaped = typeof option === \"string\" ? (0,_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_1__.escapeRegExp)(option) : option.source;\n        if (start) {\n            return new RegExp(`^\\\\s*${escaped}`);\n        } else {\n            return new RegExp(`\\\\s*${escaped}\\\\s*$`);\n        }\n    } else {\n        return option;\n    }\n}\nclass JSDocCommentImpl {\n    constructor(elements, range){\n        this.elements = elements;\n        this.range = range;\n    }\n    getTag(name) {\n        return this.getAllTags().find((e)=>e.name === name);\n    }\n    getTags(name) {\n        return this.getAllTags().filter((e)=>e.name === name);\n    }\n    getAllTags() {\n        return this.elements.filter((e)=>\"name\" in e);\n    }\n    toString() {\n        let value = \"\";\n        for (const element of this.elements){\n            if (value.length === 0) {\n                value = element.toString();\n            } else {\n                const text = element.toString();\n                value += fillNewlines(value) + text;\n            }\n        }\n        return value.trim();\n    }\n    toMarkdown(options) {\n        let value = \"\";\n        for (const element of this.elements){\n            if (value.length === 0) {\n                value = element.toMarkdown(options);\n            } else {\n                const text = element.toMarkdown(options);\n                value += fillNewlines(value) + text;\n            }\n        }\n        return value.trim();\n    }\n}\nclass JSDocTagImpl {\n    constructor(name, content, inline, range){\n        this.name = name;\n        this.content = content;\n        this.inline = inline;\n        this.range = range;\n    }\n    toString() {\n        let text = `@${this.name}`;\n        const content = this.content.toString();\n        if (this.content.inlines.length === 1) {\n            text = `${text} ${content}`;\n        } else if (this.content.inlines.length > 1) {\n            text = `${text}\\n${content}`;\n        }\n        if (this.inline) {\n            // Inline tags are surrounded by curly braces\n            return `{${text}}`;\n        } else {\n            return text;\n        }\n    }\n    toMarkdown(options) {\n        var _a, _b;\n        return (_b = (_a = options === null || options === void 0 ? void 0 : options.renderTag) === null || _a === void 0 ? void 0 : _a.call(options, this)) !== null && _b !== void 0 ? _b : this.toMarkdownDefault(options);\n    }\n    toMarkdownDefault(options) {\n        const content = this.content.toMarkdown(options);\n        if (this.inline) {\n            const rendered = renderInlineTag(this.name, content, options !== null && options !== void 0 ? options : {});\n            if (typeof rendered === \"string\") {\n                return rendered;\n            }\n        }\n        let marker = \"\";\n        if ((options === null || options === void 0 ? void 0 : options.tag) === \"italic\" || (options === null || options === void 0 ? void 0 : options.tag) === undefined) {\n            marker = \"*\";\n        } else if ((options === null || options === void 0 ? void 0 : options.tag) === \"bold\") {\n            marker = \"**\";\n        } else if ((options === null || options === void 0 ? void 0 : options.tag) === \"bold-italic\") {\n            marker = \"***\";\n        }\n        let text = `${marker}@${this.name}${marker}`;\n        if (this.content.inlines.length === 1) {\n            text = `${text} — ${content}`;\n        } else if (this.content.inlines.length > 1) {\n            text = `${text}\\n${content}`;\n        }\n        if (this.inline) {\n            // Inline tags are surrounded by curly braces\n            return `{${text}}`;\n        } else {\n            return text;\n        }\n    }\n}\nfunction renderInlineTag(tag, content, options) {\n    var _a, _b;\n    if (tag === \"linkplain\" || tag === \"linkcode\" || tag === \"link\") {\n        const index = content.indexOf(\" \");\n        let display = content;\n        if (index > 0) {\n            const displayStart = skipWhitespace(content, index);\n            display = content.substring(displayStart);\n            content = content.substring(0, index);\n        }\n        if (tag === \"linkcode\" || tag === \"link\" && options.link === \"code\") {\n            // Surround the display value in a markdown inline code block\n            display = `\\`${display}\\``;\n        }\n        const renderedLink = (_b = (_a = options.renderLink) === null || _a === void 0 ? void 0 : _a.call(options, content, display)) !== null && _b !== void 0 ? _b : renderLinkDefault(content, display);\n        return renderedLink;\n    }\n    return undefined;\n}\nfunction renderLinkDefault(content, display) {\n    try {\n        _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__.URI.parse(content, true);\n        return `[${display}](${content})`;\n    } catch (_a) {\n        return content;\n    }\n}\nclass JSDocTextImpl {\n    constructor(lines, range){\n        this.inlines = lines;\n        this.range = range;\n    }\n    toString() {\n        let text = \"\";\n        for(let i = 0; i < this.inlines.length; i++){\n            const inline = this.inlines[i];\n            const next = this.inlines[i + 1];\n            text += inline.toString();\n            if (next && next.range.start.line > inline.range.start.line) {\n                text += \"\\n\";\n            }\n        }\n        return text;\n    }\n    toMarkdown(options) {\n        let text = \"\";\n        for(let i = 0; i < this.inlines.length; i++){\n            const inline = this.inlines[i];\n            const next = this.inlines[i + 1];\n            text += inline.toMarkdown(options);\n            if (next && next.range.start.line > inline.range.start.line) {\n                text += \"\\n\";\n            }\n        }\n        return text;\n    }\n}\nclass JSDocLineImpl {\n    constructor(text, range){\n        this.text = text;\n        this.range = range;\n    }\n    toString() {\n        return this.text;\n    }\n    toMarkdown() {\n        return this.text;\n    }\n}\nfunction fillNewlines(text) {\n    if (text.endsWith(\"\\n\")) {\n        return \"\\n\";\n    } else {\n        return \"\\n\\n\";\n    }\n} //# sourceMappingURL=jsdoc.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZG9jdW1lbnRhdGlvbi9qc2RvYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNoQjtBQUNVO0FBQzVCO0FBQ3JDLFNBQVNLLFdBQVdDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPO0lBQzNDLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJLE9BQU9KLFNBQVMsVUFBVTtRQUMxQkksV0FBV0g7UUFDWEUsT0FBT0Q7SUFDWCxPQUNLO1FBQ0RFLFdBQVdKLEtBQUtLLEtBQUssQ0FBQ0osS0FBSztRQUMzQkUsT0FBT0Y7SUFDWDtJQUNBLElBQUksQ0FBQ0csVUFBVTtRQUNYQSxXQUFXVixpRUFBUUEsQ0FBQ1ksTUFBTSxDQUFDLEdBQUc7SUFDbEM7SUFDQSxNQUFNQyxRQUFRQyxTQUFTUjtJQUN2QixNQUFNUyxvQkFBb0JDLGlCQUFpQlA7SUFDM0MsTUFBTVEsU0FBU0MsU0FBUztRQUNwQkw7UUFDQUg7UUFDQUYsU0FBU087SUFDYjtJQUNBLE9BQU9JLGtCQUFrQjtRQUNyQkMsT0FBTztRQUNQSDtRQUNBUDtJQUNKO0FBQ0o7QUFDTyxTQUFTVyxRQUFRZixJQUFJLEVBQUVFLE9BQU87SUFDakMsTUFBTU8sb0JBQW9CQyxpQkFBaUJSO0lBQzNDLE1BQU1LLFFBQVFDLFNBQVNSO0lBQ3ZCLElBQUlPLE1BQU1TLE1BQU0sS0FBSyxHQUFHO1FBQ3BCLE9BQU87SUFDWDtJQUNBLE1BQU1DLFFBQVFWLEtBQUssQ0FBQyxFQUFFO0lBQ3RCLE1BQU1XLE9BQU9YLEtBQUssQ0FBQ0EsTUFBTVMsTUFBTSxHQUFHLEVBQUU7SUFDcEMsTUFBTUcsYUFBYVYsa0JBQWtCUixLQUFLO0lBQzFDLE1BQU1tQixZQUFZWCxrQkFBa0JZLEdBQUc7SUFDdkMsT0FBT0MsUUFBUUgsZUFBZSxRQUFRQSxlQUFlLEtBQUssSUFBSSxLQUFLLElBQUlBLFdBQVdJLElBQUksQ0FBQ04sV0FBV0ssUUFBUUYsY0FB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QyxPQUFPLElBQUksQ0FBQ00sT0FBTyxDQUFDMUMsSUFBSSxFQUFFO1lBQ2hDWixRQUFRNEQsT0FBT3NCLFVBQVUsQ0FBQ3pHO1lBQzFCLElBQUl1RSxRQUFRQSxLQUFLcEUsS0FBSyxDQUFDSixLQUFLLENBQUNpQyxJQUFJLEdBQUdtRCxPQUFPaEYsS0FBSyxDQUFDSixLQUFLLENBQUNpQyxJQUFJLEVBQUU7Z0JBQ3pEVCxRQUFRO1lBQ1o7UUFDSjtRQUNBLE9BQU9BO0lBQ1g7QUFDSjtBQUNBLE1BQU1xRDtJQUNGbUIsWUFBWXhFLElBQUksRUFBRXBCLEtBQUssQ0FBRTtRQUNyQixJQUFJLENBQUNvQixJQUFJLEdBQUdBO1FBQ1osSUFBSSxDQUFDcEIsS0FBSyxHQUFHQTtJQUNqQjtJQUNBbUcsV0FBVztRQUNQLE9BQU8sSUFBSSxDQUFDL0UsSUFBSTtJQUNwQjtJQUNBa0YsYUFBYTtRQUNULE9BQU8sSUFBSSxDQUFDbEYsSUFBSTtJQUNwQjtBQUNKO0FBQ0EsU0FBU2dGLGFBQWFoRixJQUFJO0lBQ3RCLElBQUlBLEtBQUtrRyxRQUFRLENBQUMsT0FBTztRQUNyQixPQUFPO0lBQ1gsT0FDSztRQUNELE9BQU87SUFDWDtBQUNKLEVBQ0EsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvZG9jdW1lbnRhdGlvbi9qc2RvYy5qcz8wNzExIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIzIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IFBvc2l0aW9uLCBSYW5nZSB9IGZyb20gJ3ZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlcyc7XG5pbXBvcnQgeyBORVdMSU5FX1JFR0VYUCwgZXNjYXBlUmVnRXhwIH0gZnJvbSAnLi4vdXRpbHMvcmVnZXhwLXV0aWxzLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4uL3V0aWxzL3VyaS11dGlscy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKU0RvYyhub2RlLCBzdGFydCwgb3B0aW9ucykge1xuICAgIGxldCBvcHRzO1xuICAgIGxldCBwb3NpdGlvbjtcbiAgICBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBvc2l0aW9uID0gc3RhcnQ7XG4gICAgICAgIG9wdHMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9zaXRpb24gPSBub2RlLnJhbmdlLnN0YXJ0O1xuICAgICAgICBvcHRzID0gc3RhcnQ7XG4gICAgfVxuICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5jcmVhdGUoMCwgMCk7XG4gICAgfVxuICAgIGNvbnN0IGxpbmVzID0gZ2V0TGluZXMobm9kZSk7XG4gICAgY29uc3Qgbm9ybWFsaXplZE9wdGlvbnMgPSBub3JtYWxpemVPcHRpb25zKG9wdHMpO1xuICAgIGNvbnN0IHRva2VucyA9IHRva2VuaXplKHtcbiAgICAgICAgbGluZXMsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBvcHRpb25zOiBub3JtYWxpemVkT3B0aW9uc1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZUpTRG9jQ29tbWVudCh7XG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICB0b2tlbnMsXG4gICAgICAgIHBvc2l0aW9uXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNKU0RvYyhub2RlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZE9wdGlvbnMgPSBub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGxpbmVzID0gZ2V0TGluZXMobm9kZSk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gbGluZXNbMF07XG4gICAgY29uc3QgbGFzdCA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGZpcnN0UmVnZXggPSBub3JtYWxpemVkT3B0aW9ucy5zdGFydDtcbiAgICBjb25zdCBsYXN0UmVnZXggPSBub3JtYWxpemVkT3B0aW9ucy5lbmQ7XG4gICAgcmV0dXJuIEJvb2xlYW4oZmlyc3RSZWdleCA9PT0gbnVsbCB8fCBmaXJzdFJlZ2V4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaXJzdFJlZ2V4LmV4ZWMoZmlyc3QpKSAmJiBCb29sZWFuKGxhc3RSZWdleCA9PT0gbnVsbCB8fCBsYXN0UmVnZXggPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhc3RSZWdleC5leGVjKGxhc3QpKTtcbn1cbmZ1bmN0aW9uIGdldExpbmVzKG5vZGUpIHtcbiAgICBsZXQgY29udGVudCA9ICcnO1xuICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29udGVudCA9IG5vZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gbm9kZS50ZXh0O1xuICAgIH1cbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoTkVXTElORV9SRUdFWFApO1xuICAgIHJldHVybiBsaW5lcztcbn1cbmNvbnN0IHRhZ1JlZ2V4ID0gL1xccyooQChbXFxwe0x9XVtcXHB7TH1cXHB7Tn1dKik/KS91eTtcbmNvbnN0IGlubGluZVRhZ1JlZ2V4ID0gL1xceyhAW1xccHtMfV1bXFxwe0x9XFxwe059XSopKFxccyopKFteXFxyXFxufV0rKT9cXH0vZ3U7XG5mdW5jdGlvbiB0b2tlbml6ZShjb250ZXh0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgbGV0IGN1cnJlbnRMaW5lID0gY29udGV4dC5wb3NpdGlvbi5saW5lO1xuICAgIGxldCBjdXJyZW50Q2hhcmFjdGVyID0gY29udGV4dC5wb3NpdGlvbi5jaGFyYWN0ZXI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZXh0LmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gaSA9PT0gMDtcbiAgICAgICAgY29uc3QgbGFzdCA9IGkgPT09IGNvbnRleHQubGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGxpbmUgPSBjb250ZXh0LmxpbmVzW2ldO1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBpZiAoZmlyc3QgJiYgY29udGV4dC5vcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IChfYSA9IGNvbnRleHQub3B0aW9ucy5zdGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV4ZWMobGluZSk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAoX2IgPSBjb250ZXh0Lm9wdGlvbnMubGluZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmV4ZWMobGluZSk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IChfYyA9IGNvbnRleHQub3B0aW9ucy5lbmQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5leGVjKGxpbmUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMCwgbGFzdENoYXJhY3RlcihsaW5lKSk7XG4gICAgICAgIGNvbnN0IHdoaXRlc3BhY2VFbmQgPSBza2lwV2hpdGVzcGFjZShsaW5lLCBpbmRleCk7XG4gICAgICAgIGlmICh3aGl0ZXNwYWNlRW5kID49IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGJyZWFrIHRva2VuIHdoZW4gd2UgYWxyZWFkeSBoYXZlIHByZXZpb3VzIHRva2Vuc1xuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBQb3NpdGlvbi5jcmVhdGUoY3VycmVudExpbmUsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JyZWFrJyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUocG9zaXRpb24sIHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFnUmVnZXgubGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICBjb25zdCB0YWdNYXRjaCA9IHRhZ1JlZ2V4LmV4ZWMobGluZSk7XG4gICAgICAgICAgICBpZiAodGFnTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsTWF0Y2ggPSB0YWdNYXRjaFswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRhZ01hdGNoWzFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gUG9zaXRpb24uY3JlYXRlKGN1cnJlbnRMaW5lLCBjdXJyZW50Q2hhcmFjdGVyICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IFBvc2l0aW9uLmNyZWF0ZShjdXJyZW50TGluZSwgY3VycmVudENoYXJhY3RlciArIGluZGV4ICsgZnVsbE1hdGNoLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGFnJyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUoc3RhcnQsIGVuZClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSBmdWxsTWF0Y2gubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gc2tpcFdoaXRlc3BhY2UobGluZSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4IDwgbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN0ID0gbGluZS5zdWJzdHJpbmcoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubGluZVRhZ01hdGNoZXMgPSBBcnJheS5mcm9tKHJlc3QubWF0Y2hBbGwoaW5saW5lVGFnUmVnZXgpKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCguLi5idWlsZElubGluZVRva2VucyhpbmxpbmVUYWdNYXRjaGVzLCByZXN0LCBjdXJyZW50TGluZSwgY3VycmVudENoYXJhY3RlciArIGluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudExpbmUrKztcbiAgICAgICAgY3VycmVudENoYXJhY3RlciA9IDA7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBsYXN0IGJyZWFrIHRva2VuIGlmIHRoZXJlIGlzIG9uZVxuICAgIGlmICh0b2tlbnMubGVuZ3RoID4gMCAmJiB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdLnR5cGUgPT09ICdicmVhaycpIHtcbiAgICAgICAgcmV0dXJuIHRva2Vucy5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiBidWlsZElubGluZVRva2Vucyh0YWdzLCBsaW5lLCBsaW5lSW5kZXgsIGNoYXJhY3RlckluZGV4KSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgaWYgKHRhZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gUG9zaXRpb24uY3JlYXRlKGxpbmVJbmRleCwgY2hhcmFjdGVySW5kZXgpO1xuICAgICAgICBjb25zdCBlbmQgPSBQb3NpdGlvbi5jcmVhdGUobGluZUluZGV4LCBjaGFyYWN0ZXJJbmRleCArIGxpbmUubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgY29udGVudDogbGluZSxcbiAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUoc3RhcnQsIGVuZClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0YWdzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaEluZGV4ID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICBjb25zdCBzdGFydENvbnRlbnQgPSBsaW5lLnN1YnN0cmluZyhsYXN0SW5kZXgsIG1hdGNoSW5kZXgpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0Q29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGxpbmUuc3Vic3RyaW5nKGxhc3RJbmRleCwgbWF0Y2hJbmRleCksXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUoUG9zaXRpb24uY3JlYXRlKGxpbmVJbmRleCwgbGFzdEluZGV4ICsgY2hhcmFjdGVySW5kZXgpLCBQb3NpdGlvbi5jcmVhdGUobGluZUluZGV4LCBtYXRjaEluZGV4ICsgY2hhcmFjdGVySW5kZXgpKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHN0YXJ0Q29udGVudC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY29uc3QgdGFnTmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbmxpbmUtdGFnJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0YWdOYW1lLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUoUG9zaXRpb24uY3JlYXRlKGxpbmVJbmRleCwgbGFzdEluZGV4ICsgb2Zmc2V0ICsgY2hhcmFjdGVySW5kZXgpLCBQb3NpdGlvbi5jcmVhdGUobGluZUluZGV4LCBsYXN0SW5kZXggKyBvZmZzZXQgKyB0YWdOYW1lLmxlbmd0aCArIGNoYXJhY3RlckluZGV4KSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHRhZ05hbWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG1hdGNoLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBtYXRjaFsyXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaFszXTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUoUG9zaXRpb24uY3JlYXRlKGxpbmVJbmRleCwgbGFzdEluZGV4ICsgb2Zmc2V0ICsgY2hhcmFjdGVySW5kZXgpLCBQb3NpdGlvbi5jcmVhdGUobGluZUluZGV4LCBsYXN0SW5kZXggKyBvZmZzZXQgKyB2YWx1ZS5sZW5ndGggKyBjaGFyYWN0ZXJJbmRleCkpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5jcmVhdGUoUG9zaXRpb24uY3JlYXRlKGxpbmVJbmRleCwgbGFzdEluZGV4ICsgb2Zmc2V0ICsgY2hhcmFjdGVySW5kZXgpLCBQb3NpdGlvbi5jcmVhdGUobGluZUluZGV4LCBsYXN0SW5kZXggKyBvZmZzZXQgKyBjaGFyYWN0ZXJJbmRleCkpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0SW5kZXggPSBtYXRjaEluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuZENvbnRlbnQgPSBsaW5lLnN1YnN0cmluZyhsYXN0SW5kZXgpO1xuICAgICAgICBpZiAoZW5kQ29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGVuZENvbnRlbnQsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IFJhbmdlLmNyZWF0ZShQb3NpdGlvbi5jcmVhdGUobGluZUluZGV4LCBsYXN0SW5kZXggKyBjaGFyYWN0ZXJJbmRleCksIFBvc2l0aW9uLmNyZWF0ZShsaW5lSW5kZXgsIGxhc3RJbmRleCArIGNoYXJhY3RlckluZGV4ICsgZW5kQ29udGVudC5sZW5ndGgpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRva2Vucztcbn1cbmNvbnN0IG5vbldoaXRlc3BhY2VSZWdleCA9IC9cXFMvO1xuY29uc3Qgd2hpdGVzcGFjZUVuZFJlZ2V4ID0gL1xccyokLztcbmZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKGxpbmUsIGluZGV4KSB7XG4gICAgY29uc3QgbWF0Y2ggPSBsaW5lLnN1YnN0cmluZyhpbmRleCkubWF0Y2gobm9uV2hpdGVzcGFjZVJlZ2V4KTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ICsgbWF0Y2guaW5kZXg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbGluZS5sZW5ndGg7XG4gICAgfVxufVxuZnVuY3Rpb24gbGFzdENoYXJhY3RlcihsaW5lKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKHdoaXRlc3BhY2VFbmRSZWdleCk7XG4gICAgaWYgKG1hdGNoICYmIHR5cGVvZiBtYXRjaC5pbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoLmluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8gUGFyc2luZ1xuZnVuY3Rpb24gcGFyc2VKU0RvY0NvbW1lbnQoY29udGV4dCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gUG9zaXRpb24uY3JlYXRlKGNvbnRleHQucG9zaXRpb24ubGluZSwgY29udGV4dC5wb3NpdGlvbi5jaGFyYWN0ZXIpO1xuICAgIGlmIChjb250ZXh0LnRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKU0RvY0NvbW1lbnRJbXBsKFtdLCBSYW5nZS5jcmVhdGUoc3RhcnRQb3NpdGlvbiwgc3RhcnRQb3NpdGlvbikpO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgIHdoaWxlIChjb250ZXh0LmluZGV4IDwgY29udGV4dC50b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwYXJzZUpTRG9jRWxlbWVudChjb250ZXh0LCBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0ID0gKF9iID0gKF9hID0gZWxlbWVudHNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yYW5nZS5zdGFydCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogc3RhcnRQb3NpdGlvbjtcbiAgICBjb25zdCBlbmQgPSAoX2QgPSAoX2MgPSBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJhbmdlLmVuZCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogc3RhcnRQb3NpdGlvbjtcbiAgICByZXR1cm4gbmV3IEpTRG9jQ29tbWVudEltcGwoZWxlbWVudHMsIFJhbmdlLmNyZWF0ZShzdGFydCwgZW5kKSk7XG59XG5mdW5jdGlvbiBwYXJzZUpTRG9jRWxlbWVudChjb250ZXh0LCBsYXN0KSB7XG4gICAgY29uc3QgbmV4dCA9IGNvbnRleHQudG9rZW5zW2NvbnRleHQuaW5kZXhdO1xuICAgIGlmIChuZXh0LnR5cGUgPT09ICd0YWcnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUpTRG9jVGFnKGNvbnRleHQsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV4dC50eXBlID09PSAndGV4dCcgfHwgbmV4dC50eXBlID09PSAnaW5saW5lLXRhZycpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSlNEb2NUZXh0KGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXBwZW5kRW1wdHlMaW5lKG5leHQsIGxhc3QpO1xuICAgICAgICBjb250ZXh0LmluZGV4Kys7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kRW1wdHlMaW5lKHRva2VuLCBlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IG5ldyBKU0RvY0xpbmVJbXBsKCcnLCB0b2tlbi5yYW5nZSk7XG4gICAgICAgIGlmICgnaW5saW5lcycgaW4gZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5pbmxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmNvbnRlbnQuaW5saW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VKU0RvY1RleHQoY29udGV4dCkge1xuICAgIGxldCB0b2tlbiA9IGNvbnRleHQudG9rZW5zW2NvbnRleHQuaW5kZXhdO1xuICAgIGNvbnN0IGZpcnN0VG9rZW4gPSB0b2tlbjtcbiAgICBsZXQgbGFzdFRva2VuID0gdG9rZW47XG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICB3aGlsZSAodG9rZW4gJiYgdG9rZW4udHlwZSAhPT0gJ2JyZWFrJyAmJiB0b2tlbi50eXBlICE9PSAndGFnJykge1xuICAgICAgICBsaW5lcy5wdXNoKHBhcnNlSlNEb2NJbmxpbmUoY29udGV4dCkpO1xuICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdG9rZW4gPSBjb250ZXh0LnRva2Vuc1tjb250ZXh0LmluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBKU0RvY1RleHRJbXBsKGxpbmVzLCBSYW5nZS5jcmVhdGUoZmlyc3RUb2tlbi5yYW5nZS5zdGFydCwgbGFzdFRva2VuLnJhbmdlLmVuZCkpO1xufVxuZnVuY3Rpb24gcGFyc2VKU0RvY0lubGluZShjb250ZXh0KSB7XG4gICAgY29uc3QgdG9rZW4gPSBjb250ZXh0LnRva2Vuc1tjb250ZXh0LmluZGV4XTtcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2lubGluZS10YWcnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUpTRG9jVGFnKGNvbnRleHQsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSlNEb2NMaW5lKGNvbnRleHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlSlNEb2NUYWcoY29udGV4dCwgaW5saW5lKSB7XG4gICAgY29uc3QgdGFnVG9rZW4gPSBjb250ZXh0LnRva2Vuc1tjb250ZXh0LmluZGV4KytdO1xuICAgIGNvbnN0IG5hbWUgPSB0YWdUb2tlbi5jb250ZW50LnN1YnN0cmluZygxKTtcbiAgICBjb25zdCBuZXh0VG9rZW4gPSBjb250ZXh0LnRva2Vuc1tjb250ZXh0LmluZGV4XTtcbiAgICBpZiAoKG5leHRUb2tlbiA9PT0gbnVsbCB8fCBuZXh0VG9rZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5leHRUb2tlbi50eXBlKSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGlmIChpbmxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvY0xpbmUgPSBwYXJzZUpTRG9jTGluZShjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSlNEb2NUYWdJbXBsKG5hbWUsIG5ldyBKU0RvY1RleHRJbXBsKFtkb2NMaW5lXSwgZG9jTGluZS5yYW5nZSksIGlubGluZSwgUmFuZ2UuY3JlYXRlKHRhZ1Rva2VuLnJhbmdlLnN0YXJ0LCBkb2NMaW5lLnJhbmdlLmVuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGV4dERvYyA9IHBhcnNlSlNEb2NUZXh0KGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBKU0RvY1RhZ0ltcGwobmFtZSwgdGV4dERvYywgaW5saW5lLCBSYW5nZS5jcmVhdGUodGFnVG9rZW4ucmFuZ2Uuc3RhcnQsIHRleHREb2MucmFuZ2UuZW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGFnVG9rZW4ucmFuZ2U7XG4gICAgICAgIHJldHVybiBuZXcgSlNEb2NUYWdJbXBsKG5hbWUsIG5ldyBKU0RvY1RleHRJbXBsKFtdLCByYW5nZSksIGlubGluZSwgcmFuZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlSlNEb2NMaW5lKGNvbnRleHQpIHtcbiAgICBjb25zdCB0b2tlbiA9IGNvbnRleHQudG9rZW5zW2NvbnRleHQuaW5kZXgrK107XG4gICAgcmV0dXJuIG5ldyBKU0RvY0xpbmVJbXBsKHRva2VuLmNvbnRlbnQsIHRva2VuLnJhbmdlKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplT3B0aW9ucyh7XG4gICAgICAgICAgICBzdGFydDogJy8qKicsXG4gICAgICAgICAgICBlbmQ6ICcqLycsXG4gICAgICAgICAgICBsaW5lOiAnKidcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgc3RhcnQsIGVuZCwgbGluZSB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogbm9ybWFsaXplT3B0aW9uKHN0YXJ0LCB0cnVlKSxcbiAgICAgICAgZW5kOiBub3JtYWxpemVPcHRpb24oZW5kLCBmYWxzZSksXG4gICAgICAgIGxpbmU6IG5vcm1hbGl6ZU9wdGlvbihsaW5lLCB0cnVlKVxuICAgIH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVPcHRpb24ob3B0aW9uLCBzdGFydCkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCBlc2NhcGVkID0gdHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycgPyBlc2NhcGVSZWdFeHAob3B0aW9uKSA6IG9wdGlvbi5zb3VyY2U7XG4gICAgICAgIGlmIChzdGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxccyoke2VzY2FwZWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXFxcXHMqJHtlc2NhcGVkfVxcXFxzKiRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICB9XG59XG5jbGFzcyBKU0RvY0NvbW1lbnRJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cywgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgfVxuICAgIGdldFRhZyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbFRhZ3MoKS5maW5kKGUgPT4gZS5uYW1lID09PSBuYW1lKTtcbiAgICB9XG4gICAgZ2V0VGFncyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbFRhZ3MoKS5maWx0ZXIoZSA9PiBlLm5hbWUgPT09IG5hbWUpO1xuICAgIH1cbiAgICBnZXRBbGxUYWdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5maWx0ZXIoKGUpID0+ICduYW1lJyBpbiBlKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5lbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGVsZW1lbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBmaWxsTmV3bGluZXModmFsdWUpICsgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWUudHJpbSgpO1xuICAgIH1cbiAgICB0b01hcmtkb3duKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmVsZW1lbnRzKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LnRvTWFya2Rvd24ob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC50b01hcmtkb3duKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IGZpbGxOZXdsaW5lcyh2YWx1ZSkgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gICAgfVxufVxuY2xhc3MgSlNEb2NUYWdJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb250ZW50LCBpbmxpbmUsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuaW5saW5lID0gaW5saW5lO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgdGV4dCA9IGBAJHt0aGlzLm5hbWV9YDtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICBpZiAodGhpcy5jb250ZW50LmlubGluZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0ZXh0ID0gYCR7dGV4dH0gJHtjb250ZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb250ZW50LmlubGluZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGV4dCA9IGAke3RleHR9XFxuJHtjb250ZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5saW5lKSB7XG4gICAgICAgICAgICAvLyBJbmxpbmUgdGFncyBhcmUgc3Vycm91bmRlZCBieSBjdXJseSBicmFjZXNcbiAgICAgICAgICAgIHJldHVybiBgeyR7dGV4dH19YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvTWFya2Rvd24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlbmRlclRhZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgdGhpcykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMudG9NYXJrZG93bkRlZmF1bHQob3B0aW9ucyk7XG4gICAgfVxuICAgIHRvTWFya2Rvd25EZWZhdWx0KG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuY29udGVudC50b01hcmtkb3duKG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5pbmxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkID0gcmVuZGVySW5saW5lVGFnKHRoaXMubmFtZSwgY29udGVudCwgb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge30pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZW5kZXJlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hcmtlciA9ICcnO1xuICAgICAgICBpZiAoKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50YWcpID09PSAnaXRhbGljJyB8fCAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRhZykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWFya2VyID0gJyonO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGFnKSA9PT0gJ2JvbGQnKSB7XG4gICAgICAgICAgICBtYXJrZXIgPSAnKionO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGFnKSA9PT0gJ2JvbGQtaXRhbGljJykge1xuICAgICAgICAgICAgbWFya2VyID0gJyoqKic7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRleHQgPSBgJHttYXJrZXJ9QCR7dGhpcy5uYW1lfSR7bWFya2VyfWA7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQuaW5saW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRleHQgPSBgJHt0ZXh0fSDigJQgJHtjb250ZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb250ZW50LmlubGluZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGV4dCA9IGAke3RleHR9XFxuJHtjb250ZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5saW5lKSB7XG4gICAgICAgICAgICAvLyBJbmxpbmUgdGFncyBhcmUgc3Vycm91bmRlZCBieSBjdXJseSBicmFjZXNcbiAgICAgICAgICAgIHJldHVybiBgeyR7dGV4dH19YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVuZGVySW5saW5lVGFnKHRhZywgY29udGVudCwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHRhZyA9PT0gJ2xpbmtwbGFpbicgfHwgdGFnID09PSAnbGlua2NvZGUnIHx8IHRhZyA9PT0gJ2xpbmsnKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY29udGVudC5pbmRleE9mKCcgJyk7XG4gICAgICAgIGxldCBkaXNwbGF5ID0gY29udGVudDtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheVN0YXJ0ID0gc2tpcFdoaXRlc3BhY2UoY29udGVudCwgaW5kZXgpO1xuICAgICAgICAgICAgZGlzcGxheSA9IGNvbnRlbnQuc3Vic3RyaW5nKGRpc3BsYXlTdGFydCk7XG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdsaW5rY29kZScgfHwgKHRhZyA9PT0gJ2xpbmsnICYmIG9wdGlvbnMubGluayA9PT0gJ2NvZGUnKSkge1xuICAgICAgICAgICAgLy8gU3Vycm91bmQgdGhlIGRpc3BsYXkgdmFsdWUgaW4gYSBtYXJrZG93biBpbmxpbmUgY29kZSBibG9ja1xuICAgICAgICAgICAgZGlzcGxheSA9IGBcXGAke2Rpc3BsYXl9XFxgYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW5kZXJlZExpbmsgPSAoX2IgPSAoX2EgPSBvcHRpb25zLnJlbmRlckxpbmspID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIGNvbnRlbnQsIGRpc3BsYXkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiByZW5kZXJMaW5rRGVmYXVsdChjb250ZW50LCBkaXNwbGF5KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkTGluaztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHJlbmRlckxpbmtEZWZhdWx0KGNvbnRlbnQsIGRpc3BsYXkpIHtcbiAgICB0cnkge1xuICAgICAgICBVUkkucGFyc2UoY29udGVudCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBgWyR7ZGlzcGxheX1dKCR7Y29udGVudH0pYDtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cbn1cbmNsYXNzIEpTRG9jVGV4dEltcGwge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVzLCByYW5nZSkge1xuICAgICAgICB0aGlzLmlubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmlubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGlubGluZSA9IHRoaXMuaW5saW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmlubGluZXNbaSArIDFdO1xuICAgICAgICAgICAgdGV4dCArPSBpbmxpbmUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQucmFuZ2Uuc3RhcnQubGluZSA+IGlubGluZS5yYW5nZS5zdGFydC5saW5lKSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSAnXFxuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgdG9NYXJrZG93bihvcHRpb25zKSB7XG4gICAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpbmxpbmUgPSB0aGlzLmlubGluZXNbaV07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5pbmxpbmVzW2kgKyAxXTtcbiAgICAgICAgICAgIHRleHQgKz0gaW5saW5lLnRvTWFya2Rvd24ob3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0LnJhbmdlLnN0YXJ0LmxpbmUgPiBpbmxpbmUucmFuZ2Uuc3RhcnQubGluZSkge1xuICAgICAgICAgICAgICAgIHRleHQgKz0gJ1xcbic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxufVxuY2xhc3MgSlNEb2NMaW5lSW1wbCB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgICB9XG4gICAgdG9NYXJrZG93bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgICB9XG59XG5mdW5jdGlvbiBmaWxsTmV3bGluZXModGV4dCkge1xuICAgIGlmICh0ZXh0LmVuZHNXaXRoKCdcXG4nKSkge1xuICAgICAgICByZXR1cm4gJ1xcbic7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJ1xcblxcbic7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNkb2MuanMubWFwIl0sIm5hbWVzIjpbIlBvc2l0aW9uIiwiUmFuZ2UiLCJORVdMSU5FX1JFR0VYUCIsImVzY2FwZVJlZ0V4cCIsIlVSSSIsInBhcnNlSlNEb2MiLCJub2RlIiwic3RhcnQiLCJvcHRpb25zIiwib3B0cyIsInBvc2l0aW9uIiwicmFuZ2UiLCJjcmVhdGUiLCJsaW5lcyIsImdldExpbmVzIiwibm9ybWFsaXplZE9wdGlvbnMiLCJub3JtYWxpemVPcHRpb25zIiwidG9rZW5zIiwidG9rZW5pemUiLCJwYXJzZUpTRG9jQ29tbWVudCIsImluZGV4IiwiaXNKU0RvYyIsImxlbmd0aCIsImZpcnN0IiwibGFzdCIsImZpcnN0UmVnZXgiLCJsYXN0UmVnZXgiLCJlbmQiLCJCb29sZWFuIiwiZXhlYyIsImNvbnRlbnQiLCJ0ZXh0Iiwic3BsaXQiLCJ0YWdSZWdleCIsImlubGluZVRhZ1JlZ2V4IiwiY29udGV4dCIsIl9hIiwiX2IiLCJfYyIsImN1cnJlbnRMaW5lIiwibGluZSIsImN1cnJlbnRDaGFyYWN0ZXIiLCJjaGFyYWN0ZXIiLCJpIiwibWF0Y2giLCJzdWJzdHJpbmciLCJsYXN0Q2hhcmFjdGVyIiwid2hpdGVzcGFjZUVuZCIsInNraXBXaGl0ZXNwYWNlIiwicHVzaCIsInR5cGUiLCJsYXN0SW5kZXgiLCJ0YWdNYXRjaCIsImZ1bGxNYXRjaCIsInZhbHVlIiwicmVzdCIsImlubGluZVRhZ01hdGNoZXMiLCJBcnJheSIsImZyb20iLCJtYXRjaEFsbCIsImJ1aWxkSW5saW5lVG9rZW5zIiwic2xpY2UiLCJ0YWdzIiwibGluZUluZGV4IiwiY2hhcmFjdGVySW5kZXgiLCJtYXRjaEluZGV4Iiwic3RhcnRDb250ZW50Iiwib2Zmc2V0IiwidGFnTmFtZSIsImVuZENvbnRlbnQiLCJub25XaGl0ZXNwYWNlUmVnZXgiLCJ3aGl0ZXNwYWNlRW5kUmVnZXgiLCJ1bmRlZmluZWQiLCJfZCIsInN0YXJ0UG9zaXRpb24iLCJKU0RvY0NvbW1lbnRJbXBsIiwiZWxlbWVudHMiLCJlbGVtZW50IiwicGFyc2VKU0RvY0VsZW1lbnQiLCJuZXh0IiwicGFyc2VKU0RvY1RhZyIsInBhcnNlSlNEb2NUZXh0IiwiYXBwZW5kRW1wdHlMaW5lIiwidG9rZW4iLCJKU0RvY0xpbmVJbXBsIiwiaW5saW5lcyIsImZpcnN0VG9rZW4iLCJsYXN0VG9rZW4iLCJwYXJzZUpTRG9jSW5saW5lIiwiSlNEb2NUZXh0SW1wbCIsInBhcnNlSlNEb2NMaW5lIiwiaW5saW5lIiwidGFnVG9rZW4iLCJuYW1lIiwibmV4dFRva2VuIiwiZG9jTGluZSIsIkpTRG9jVGFnSW1wbCIsInRleHREb2MiLCJub3JtYWxpemVPcHRpb24iLCJvcHRpb24iLCJlc2NhcGVkIiwic291cmNlIiwiUmVnRXhwIiwiY29uc3RydWN0b3IiLCJnZXRUYWciLCJnZXRBbGxUYWdzIiwiZmluZCIsImUiLCJnZXRUYWdzIiwiZmlsdGVyIiwidG9TdHJpbmciLCJmaWxsTmV3bGluZXMiLCJ0cmltIiwidG9NYXJrZG93biIsInJlbmRlclRhZyIsImNhbGwiLCJ0b01hcmtkb3duRGVmYXVsdCIsInJlbmRlcmVkIiwicmVuZGVySW5saW5lVGFnIiwibWFya2VyIiwidGFnIiwiaW5kZXhPZiIsImRpc3BsYXkiLCJkaXNwbGF5U3RhcnQiLCJsaW5rIiwicmVuZGVyZWRMaW5rIiwicmVuZGVyTGluayIsInJlbmRlckxpbmtEZWZhdWx0IiwicGFyc2UiLCJlbmRzV2l0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/documentation/jsdoc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/languages/generated/ast.js":
/*!*************************************************************!*\
  !*** ./node_modules/langium/lib/languages/generated/ast.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractElement: () => (/* binding */ AbstractElement),\n/* harmony export */   AbstractRule: () => (/* binding */ AbstractRule),\n/* harmony export */   AbstractType: () => (/* binding */ AbstractType),\n/* harmony export */   Action: () => (/* binding */ Action),\n/* harmony export */   Alternatives: () => (/* binding */ Alternatives),\n/* harmony export */   ArrayLiteral: () => (/* binding */ ArrayLiteral),\n/* harmony export */   ArrayType: () => (/* binding */ ArrayType),\n/* harmony export */   Assignment: () => (/* binding */ Assignment),\n/* harmony export */   BooleanLiteral: () => (/* binding */ BooleanLiteral),\n/* harmony export */   CharacterRange: () => (/* binding */ CharacterRange),\n/* harmony export */   Condition: () => (/* binding */ Condition),\n/* harmony export */   Conjunction: () => (/* binding */ Conjunction),\n/* harmony export */   CrossReference: () => (/* binding */ CrossReference),\n/* harmony export */   Disjunction: () => (/* binding */ Disjunction),\n/* harmony export */   EndOfFile: () => (/* binding */ EndOfFile),\n/* harmony export */   Grammar: () => (/* binding */ Grammar),\n/* harmony export */   GrammarImport: () => (/* binding */ GrammarImport),\n/* harmony export */   Group: () => (/* binding */ Group),\n/* harmony export */   InferredType: () => (/* binding */ InferredType),\n/* harmony export */   Interface: () => (/* binding */ Interface),\n/* harmony export */   Keyword: () => (/* binding */ Keyword),\n/* harmony export */   LangiumGrammarAstReflection: () => (/* binding */ LangiumGrammarAstReflection),\n/* harmony export */   LangiumGrammarTerminals: () => (/* binding */ LangiumGrammarTerminals),\n/* harmony export */   NamedArgument: () => (/* binding */ NamedArgument),\n/* harmony export */   NegatedToken: () => (/* binding */ NegatedToken),\n/* harmony export */   Negation: () => (/* binding */ Negation),\n/* harmony export */   NumberLiteral: () => (/* binding */ NumberLiteral),\n/* harmony export */   Parameter: () => (/* binding */ Parameter),\n/* harmony export */   ParameterReference: () => (/* binding */ ParameterReference),\n/* harmony export */   ParserRule: () => (/* binding */ ParserRule),\n/* harmony export */   ReferenceType: () => (/* binding */ ReferenceType),\n/* harmony export */   RegexToken: () => (/* binding */ RegexToken),\n/* harmony export */   ReturnType: () => (/* binding */ ReturnType),\n/* harmony export */   RuleCall: () => (/* binding */ RuleCall),\n/* harmony export */   SimpleType: () => (/* binding */ SimpleType),\n/* harmony export */   StringLiteral: () => (/* binding */ StringLiteral),\n/* harmony export */   TerminalAlternatives: () => (/* binding */ TerminalAlternatives),\n/* harmony export */   TerminalGroup: () => (/* binding */ TerminalGroup),\n/* harmony export */   TerminalRule: () => (/* binding */ TerminalRule),\n/* harmony export */   TerminalRuleCall: () => (/* binding */ TerminalRuleCall),\n/* harmony export */   Type: () => (/* binding */ Type),\n/* harmony export */   TypeAttribute: () => (/* binding */ TypeAttribute),\n/* harmony export */   TypeDefinition: () => (/* binding */ TypeDefinition),\n/* harmony export */   UnionType: () => (/* binding */ UnionType),\n/* harmony export */   UnorderedGroup: () => (/* binding */ UnorderedGroup),\n/* harmony export */   UntilToken: () => (/* binding */ UntilToken),\n/* harmony export */   ValueLiteral: () => (/* binding */ ValueLiteral),\n/* harmony export */   Wildcard: () => (/* binding */ Wildcard),\n/* harmony export */   isAbstractElement: () => (/* binding */ isAbstractElement),\n/* harmony export */   isAbstractRule: () => (/* binding */ isAbstractRule),\n/* harmony export */   isAbstractType: () => (/* binding */ isAbstractType),\n/* harmony export */   isAction: () => (/* binding */ isAction),\n/* harmony export */   isAlternatives: () => (/* binding */ isAlternatives),\n/* harmony export */   isArrayLiteral: () => (/* binding */ isArrayLiteral),\n/* harmony export */   isArrayType: () => (/* binding */ isArrayType),\n/* harmony export */   isAssignment: () => (/* binding */ isAssignment),\n/* harmony export */   isBooleanLiteral: () => (/* binding */ isBooleanLiteral),\n/* harmony export */   isCharacterRange: () => (/* binding */ isCharacterRange),\n/* harmony export */   isCondition: () => (/* binding */ isCondition),\n/* harmony export */   isConjunction: () => (/* binding */ isConjunction),\n/* harmony export */   isCrossReference: () => (/* binding */ isCrossReference),\n/* harmony export */   isDisjunction: () => (/* binding */ isDisjunction),\n/* harmony export */   isEndOfFile: () => (/* binding */ isEndOfFile),\n/* harmony export */   isFeatureName: () => (/* binding */ isFeatureName),\n/* harmony export */   isGrammar: () => (/* binding */ isGrammar),\n/* harmony export */   isGrammarImport: () => (/* binding */ isGrammarImport),\n/* harmony export */   isGroup: () => (/* binding */ isGroup),\n/* harmony export */   isInferredType: () => (/* binding */ isInferredType),\n/* harmony export */   isInterface: () => (/* binding */ isInterface),\n/* harmony export */   isKeyword: () => (/* binding */ isKeyword),\n/* harmony export */   isNamedArgument: () => (/* binding */ isNamedArgument),\n/* harmony export */   isNegatedToken: () => (/* binding */ isNegatedToken),\n/* harmony export */   isNegation: () => (/* binding */ isNegation),\n/* harmony export */   isNumberLiteral: () => (/* binding */ isNumberLiteral),\n/* harmony export */   isParameter: () => (/* binding */ isParameter),\n/* harmony export */   isParameterReference: () => (/* binding */ isParameterReference),\n/* harmony export */   isParserRule: () => (/* binding */ isParserRule),\n/* harmony export */   isPrimitiveType: () => (/* binding */ isPrimitiveType),\n/* harmony export */   isReferenceType: () => (/* binding */ isReferenceType),\n/* harmony export */   isRegexToken: () => (/* binding */ isRegexToken),\n/* harmony export */   isReturnType: () => (/* binding */ isReturnType),\n/* harmony export */   isRuleCall: () => (/* binding */ isRuleCall),\n/* harmony export */   isSimpleType: () => (/* binding */ isSimpleType),\n/* harmony export */   isStringLiteral: () => (/* binding */ isStringLiteral),\n/* harmony export */   isTerminalAlternatives: () => (/* binding */ isTerminalAlternatives),\n/* harmony export */   isTerminalGroup: () => (/* binding */ isTerminalGroup),\n/* harmony export */   isTerminalRule: () => (/* binding */ isTerminalRule),\n/* harmony export */   isTerminalRuleCall: () => (/* binding */ isTerminalRuleCall),\n/* harmony export */   isType: () => (/* binding */ isType),\n/* harmony export */   isTypeAttribute: () => (/* binding */ isTypeAttribute),\n/* harmony export */   isTypeDefinition: () => (/* binding */ isTypeDefinition),\n/* harmony export */   isUnionType: () => (/* binding */ isUnionType),\n/* harmony export */   isUnorderedGroup: () => (/* binding */ isUnorderedGroup),\n/* harmony export */   isUntilToken: () => (/* binding */ isUntilToken),\n/* harmony export */   isValueLiteral: () => (/* binding */ isValueLiteral),\n/* harmony export */   isWildcard: () => (/* binding */ isWildcard),\n/* harmony export */   reflection: () => (/* binding */ reflection)\n/* harmony export */ });\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/******************************************************************************\n * This file was generated by langium-cli 3.3.0.\n * DO NOT EDIT MANUALLY!\n ******************************************************************************/ \nconst LangiumGrammarTerminals = {\n    ID: /\\^?[_a-zA-Z][\\w_]*/,\n    STRING: /\"(\\\\.|[^\"\\\\])*\"|'(\\\\.|[^'\\\\])*'/,\n    NUMBER: /NaN|-?((\\d*\\.\\d+|\\d+)([Ee][+-]?\\d+)?|Infinity)/,\n    RegexLiteral: /\\/(?![*+?])(?:[^\\r\\n\\[/\\\\]|\\\\.|\\[(?:[^\\r\\n\\]\\\\]|\\\\.)*\\])+\\/[a-z]*/,\n    WS: /\\s+/,\n    ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//,\n    SL_COMMENT: /\\/\\/[^\\n\\r]*/\n};\nconst AbstractRule = \"AbstractRule\";\nfunction isAbstractRule(item) {\n    return reflection.isInstance(item, AbstractRule);\n}\nconst AbstractType = \"AbstractType\";\nfunction isAbstractType(item) {\n    return reflection.isInstance(item, AbstractType);\n}\nconst Condition = \"Condition\";\nfunction isCondition(item) {\n    return reflection.isInstance(item, Condition);\n}\nfunction isFeatureName(item) {\n    return isPrimitiveType(item) || item === \"current\" || item === \"entry\" || item === \"extends\" || item === \"false\" || item === \"fragment\" || item === \"grammar\" || item === \"hidden\" || item === \"import\" || item === \"interface\" || item === \"returns\" || item === \"terminal\" || item === \"true\" || item === \"type\" || item === \"infer\" || item === \"infers\" || item === \"with\" || typeof item === \"string\" && /\\^?[_a-zA-Z][\\w_]*/.test(item);\n}\nfunction isPrimitiveType(item) {\n    return item === \"string\" || item === \"number\" || item === \"boolean\" || item === \"Date\" || item === \"bigint\";\n}\nconst TypeDefinition = \"TypeDefinition\";\nfunction isTypeDefinition(item) {\n    return reflection.isInstance(item, TypeDefinition);\n}\nconst ValueLiteral = \"ValueLiteral\";\nfunction isValueLiteral(item) {\n    return reflection.isInstance(item, ValueLiteral);\n}\nconst AbstractElement = \"AbstractElement\";\nfunction isAbstractElement(item) {\n    return reflection.isInstance(item, AbstractElement);\n}\nconst ArrayLiteral = \"ArrayLiteral\";\nfunction isArrayLiteral(item) {\n    return reflection.isInstance(item, ArrayLiteral);\n}\nconst ArrayType = \"ArrayType\";\nfunction isArrayType(item) {\n    return reflection.isInstance(item, ArrayType);\n}\nconst BooleanLiteral = \"BooleanLiteral\";\nfunction isBooleanLiteral(item) {\n    return reflection.isInstance(item, BooleanLiteral);\n}\nconst Conjunction = \"Conjunction\";\nfunction isConjunction(item) {\n    return reflection.isInstance(item, Conjunction);\n}\nconst Disjunction = \"Disjunction\";\nfunction isDisjunction(item) {\n    return reflection.isInstance(item, Disjunction);\n}\nconst Grammar = \"Grammar\";\nfunction isGrammar(item) {\n    return reflection.isInstance(item, Grammar);\n}\nconst GrammarImport = \"GrammarImport\";\nfunction isGrammarImport(item) {\n    return reflection.isInstance(item, GrammarImport);\n}\nconst InferredType = \"InferredType\";\nfunction isInferredType(item) {\n    return reflection.isInstance(item, InferredType);\n}\nconst Interface = \"Interface\";\nfunction isInterface(item) {\n    return reflection.isInstance(item, Interface);\n}\nconst NamedArgument = \"NamedArgument\";\nfunction isNamedArgument(item) {\n    return reflection.isInstance(item, NamedArgument);\n}\nconst Negation = \"Negation\";\nfunction isNegation(item) {\n    return reflection.isInstance(item, Negation);\n}\nconst NumberLiteral = \"NumberLiteral\";\nfunction isNumberLiteral(item) {\n    return reflection.isInstance(item, NumberLiteral);\n}\nconst Parameter = \"Parameter\";\nfunction isParameter(item) {\n    return reflection.isInstance(item, Parameter);\n}\nconst ParameterReference = \"ParameterReference\";\nfunction isParameterReference(item) {\n    return reflection.isInstance(item, ParameterReference);\n}\nconst ParserRule = \"ParserRule\";\nfunction isParserRule(item) {\n    return reflection.isInstance(item, ParserRule);\n}\nconst ReferenceType = \"ReferenceType\";\nfunction isReferenceType(item) {\n    return reflection.isInstance(item, ReferenceType);\n}\nconst ReturnType = \"ReturnType\";\nfunction isReturnType(item) {\n    return reflection.isInstance(item, ReturnType);\n}\nconst SimpleType = \"SimpleType\";\nfunction isSimpleType(item) {\n    return reflection.isInstance(item, SimpleType);\n}\nconst StringLiteral = \"StringLiteral\";\nfunction isStringLiteral(item) {\n    return reflection.isInstance(item, StringLiteral);\n}\nconst TerminalRule = \"TerminalRule\";\nfunction isTerminalRule(item) {\n    return reflection.isInstance(item, TerminalRule);\n}\nconst Type = \"Type\";\nfunction isType(item) {\n    return reflection.isInstance(item, Type);\n}\nconst TypeAttribute = \"TypeAttribute\";\nfunction isTypeAttribute(item) {\n    return reflection.isInstance(item, TypeAttribute);\n}\nconst UnionType = \"UnionType\";\nfunction isUnionType(item) {\n    return reflection.isInstance(item, UnionType);\n}\nconst Action = \"Action\";\nfunction isAction(item) {\n    return reflection.isInstance(item, Action);\n}\nconst Alternatives = \"Alternatives\";\nfunction isAlternatives(item) {\n    return reflection.isInstance(item, Alternatives);\n}\nconst Assignment = \"Assignment\";\nfunction isAssignment(item) {\n    return reflection.isInstance(item, Assignment);\n}\nconst CharacterRange = \"CharacterRange\";\nfunction isCharacterRange(item) {\n    return reflection.isInstance(item, CharacterRange);\n}\nconst CrossReference = \"CrossReference\";\nfunction isCrossReference(item) {\n    return reflection.isInstance(item, CrossReference);\n}\nconst EndOfFile = \"EndOfFile\";\nfunction isEndOfFile(item) {\n    return reflection.isInstance(item, EndOfFile);\n}\nconst Group = \"Group\";\nfunction isGroup(item) {\n    return reflection.isInstance(item, Group);\n}\nconst Keyword = \"Keyword\";\nfunction isKeyword(item) {\n    return reflection.isInstance(item, Keyword);\n}\nconst NegatedToken = \"NegatedToken\";\nfunction isNegatedToken(item) {\n    return reflection.isInstance(item, NegatedToken);\n}\nconst RegexToken = \"RegexToken\";\nfunction isRegexToken(item) {\n    return reflection.isInstance(item, RegexToken);\n}\nconst RuleCall = \"RuleCall\";\nfunction isRuleCall(item) {\n    return reflection.isInstance(item, RuleCall);\n}\nconst TerminalAlternatives = \"TerminalAlternatives\";\nfunction isTerminalAlternatives(item) {\n    return reflection.isInstance(item, TerminalAlternatives);\n}\nconst TerminalGroup = \"TerminalGroup\";\nfunction isTerminalGroup(item) {\n    return reflection.isInstance(item, TerminalGroup);\n}\nconst TerminalRuleCall = \"TerminalRuleCall\";\nfunction isTerminalRuleCall(item) {\n    return reflection.isInstance(item, TerminalRuleCall);\n}\nconst UnorderedGroup = \"UnorderedGroup\";\nfunction isUnorderedGroup(item) {\n    return reflection.isInstance(item, UnorderedGroup);\n}\nconst UntilToken = \"UntilToken\";\nfunction isUntilToken(item) {\n    return reflection.isInstance(item, UntilToken);\n}\nconst Wildcard = \"Wildcard\";\nfunction isWildcard(item) {\n    return reflection.isInstance(item, Wildcard);\n}\nclass LangiumGrammarAstReflection extends _syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.AbstractAstReflection {\n    getAllTypes() {\n        return [\n            AbstractElement,\n            AbstractRule,\n            AbstractType,\n            Action,\n            Alternatives,\n            ArrayLiteral,\n            ArrayType,\n            Assignment,\n            BooleanLiteral,\n            CharacterRange,\n            Condition,\n            Conjunction,\n            CrossReference,\n            Disjunction,\n            EndOfFile,\n            Grammar,\n            GrammarImport,\n            Group,\n            InferredType,\n            Interface,\n            Keyword,\n            NamedArgument,\n            NegatedToken,\n            Negation,\n            NumberLiteral,\n            Parameter,\n            ParameterReference,\n            ParserRule,\n            ReferenceType,\n            RegexToken,\n            ReturnType,\n            RuleCall,\n            SimpleType,\n            StringLiteral,\n            TerminalAlternatives,\n            TerminalGroup,\n            TerminalRule,\n            TerminalRuleCall,\n            Type,\n            TypeAttribute,\n            TypeDefinition,\n            UnionType,\n            UnorderedGroup,\n            UntilToken,\n            ValueLiteral,\n            Wildcard\n        ];\n    }\n    computeIsSubtype(subtype, supertype) {\n        switch(subtype){\n            case Action:\n            case Alternatives:\n            case Assignment:\n            case CharacterRange:\n            case CrossReference:\n            case EndOfFile:\n            case Group:\n            case Keyword:\n            case NegatedToken:\n            case RegexToken:\n            case RuleCall:\n            case TerminalAlternatives:\n            case TerminalGroup:\n            case TerminalRuleCall:\n            case UnorderedGroup:\n            case UntilToken:\n            case Wildcard:\n                {\n                    return this.isSubtype(AbstractElement, supertype);\n                }\n            case ArrayLiteral:\n            case NumberLiteral:\n            case StringLiteral:\n                {\n                    return this.isSubtype(ValueLiteral, supertype);\n                }\n            case ArrayType:\n            case ReferenceType:\n            case SimpleType:\n            case UnionType:\n                {\n                    return this.isSubtype(TypeDefinition, supertype);\n                }\n            case BooleanLiteral:\n                {\n                    return this.isSubtype(Condition, supertype) || this.isSubtype(ValueLiteral, supertype);\n                }\n            case Conjunction:\n            case Disjunction:\n            case Negation:\n            case ParameterReference:\n                {\n                    return this.isSubtype(Condition, supertype);\n                }\n            case InferredType:\n            case Interface:\n            case Type:\n                {\n                    return this.isSubtype(AbstractType, supertype);\n                }\n            case ParserRule:\n                {\n                    return this.isSubtype(AbstractRule, supertype) || this.isSubtype(AbstractType, supertype);\n                }\n            case TerminalRule:\n                {\n                    return this.isSubtype(AbstractRule, supertype);\n                }\n            default:\n                {\n                    return false;\n                }\n        }\n    }\n    getReferenceType(refInfo) {\n        const referenceId = `${refInfo.container.$type}:${refInfo.property}`;\n        switch(referenceId){\n            case \"Action:type\":\n            case \"CrossReference:type\":\n            case \"Interface:superTypes\":\n            case \"ParserRule:returnType\":\n            case \"SimpleType:typeRef\":\n                {\n                    return AbstractType;\n                }\n            case \"Grammar:hiddenTokens\":\n            case \"ParserRule:hiddenTokens\":\n            case \"RuleCall:rule\":\n                {\n                    return AbstractRule;\n                }\n            case \"Grammar:usedGrammars\":\n                {\n                    return Grammar;\n                }\n            case \"NamedArgument:parameter\":\n            case \"ParameterReference:parameter\":\n                {\n                    return Parameter;\n                }\n            case \"TerminalRuleCall:rule\":\n                {\n                    return TerminalRule;\n                }\n            default:\n                {\n                    throw new Error(`${referenceId} is not a valid reference id.`);\n                }\n        }\n    }\n    getTypeMetaData(type) {\n        switch(type){\n            case AbstractElement:\n                {\n                    return {\n                        name: AbstractElement,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case ArrayLiteral:\n                {\n                    return {\n                        name: ArrayLiteral,\n                        properties: [\n                            {\n                                name: \"elements\",\n                                defaultValue: []\n                            }\n                        ]\n                    };\n                }\n            case ArrayType:\n                {\n                    return {\n                        name: ArrayType,\n                        properties: [\n                            {\n                                name: \"elementType\"\n                            }\n                        ]\n                    };\n                }\n            case BooleanLiteral:\n                {\n                    return {\n                        name: BooleanLiteral,\n                        properties: [\n                            {\n                                name: \"true\",\n                                defaultValue: false\n                            }\n                        ]\n                    };\n                }\n            case Conjunction:\n                {\n                    return {\n                        name: Conjunction,\n                        properties: [\n                            {\n                                name: \"left\"\n                            },\n                            {\n                                name: \"right\"\n                            }\n                        ]\n                    };\n                }\n            case Disjunction:\n                {\n                    return {\n                        name: Disjunction,\n                        properties: [\n                            {\n                                name: \"left\"\n                            },\n                            {\n                                name: \"right\"\n                            }\n                        ]\n                    };\n                }\n            case Grammar:\n                {\n                    return {\n                        name: Grammar,\n                        properties: [\n                            {\n                                name: \"definesHiddenTokens\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"hiddenTokens\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"imports\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"interfaces\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"isDeclared\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"name\"\n                            },\n                            {\n                                name: \"rules\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"types\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"usedGrammars\",\n                                defaultValue: []\n                            }\n                        ]\n                    };\n                }\n            case GrammarImport:\n                {\n                    return {\n                        name: GrammarImport,\n                        properties: [\n                            {\n                                name: \"path\"\n                            }\n                        ]\n                    };\n                }\n            case InferredType:\n                {\n                    return {\n                        name: InferredType,\n                        properties: [\n                            {\n                                name: \"name\"\n                            }\n                        ]\n                    };\n                }\n            case Interface:\n                {\n                    return {\n                        name: Interface,\n                        properties: [\n                            {\n                                name: \"attributes\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"name\"\n                            },\n                            {\n                                name: \"superTypes\",\n                                defaultValue: []\n                            }\n                        ]\n                    };\n                }\n            case NamedArgument:\n                {\n                    return {\n                        name: NamedArgument,\n                        properties: [\n                            {\n                                name: \"calledByName\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"parameter\"\n                            },\n                            {\n                                name: \"value\"\n                            }\n                        ]\n                    };\n                }\n            case Negation:\n                {\n                    return {\n                        name: Negation,\n                        properties: [\n                            {\n                                name: \"value\"\n                            }\n                        ]\n                    };\n                }\n            case NumberLiteral:\n                {\n                    return {\n                        name: NumberLiteral,\n                        properties: [\n                            {\n                                name: \"value\"\n                            }\n                        ]\n                    };\n                }\n            case Parameter:\n                {\n                    return {\n                        name: Parameter,\n                        properties: [\n                            {\n                                name: \"name\"\n                            }\n                        ]\n                    };\n                }\n            case ParameterReference:\n                {\n                    return {\n                        name: ParameterReference,\n                        properties: [\n                            {\n                                name: \"parameter\"\n                            }\n                        ]\n                    };\n                }\n            case ParserRule:\n                {\n                    return {\n                        name: ParserRule,\n                        properties: [\n                            {\n                                name: \"dataType\"\n                            },\n                            {\n                                name: \"definesHiddenTokens\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"definition\"\n                            },\n                            {\n                                name: \"entry\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"fragment\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"hiddenTokens\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"inferredType\"\n                            },\n                            {\n                                name: \"name\"\n                            },\n                            {\n                                name: \"parameters\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"returnType\"\n                            },\n                            {\n                                name: \"wildcard\",\n                                defaultValue: false\n                            }\n                        ]\n                    };\n                }\n            case ReferenceType:\n                {\n                    return {\n                        name: ReferenceType,\n                        properties: [\n                            {\n                                name: \"referenceType\"\n                            }\n                        ]\n                    };\n                }\n            case ReturnType:\n                {\n                    return {\n                        name: ReturnType,\n                        properties: [\n                            {\n                                name: \"name\"\n                            }\n                        ]\n                    };\n                }\n            case SimpleType:\n                {\n                    return {\n                        name: SimpleType,\n                        properties: [\n                            {\n                                name: \"primitiveType\"\n                            },\n                            {\n                                name: \"stringType\"\n                            },\n                            {\n                                name: \"typeRef\"\n                            }\n                        ]\n                    };\n                }\n            case StringLiteral:\n                {\n                    return {\n                        name: StringLiteral,\n                        properties: [\n                            {\n                                name: \"value\"\n                            }\n                        ]\n                    };\n                }\n            case TerminalRule:\n                {\n                    return {\n                        name: TerminalRule,\n                        properties: [\n                            {\n                                name: \"definition\"\n                            },\n                            {\n                                name: \"fragment\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"hidden\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"name\"\n                            },\n                            {\n                                name: \"type\"\n                            }\n                        ]\n                    };\n                }\n            case Type:\n                {\n                    return {\n                        name: Type,\n                        properties: [\n                            {\n                                name: \"name\"\n                            },\n                            {\n                                name: \"type\"\n                            }\n                        ]\n                    };\n                }\n            case TypeAttribute:\n                {\n                    return {\n                        name: TypeAttribute,\n                        properties: [\n                            {\n                                name: \"defaultValue\"\n                            },\n                            {\n                                name: \"isOptional\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"name\"\n                            },\n                            {\n                                name: \"type\"\n                            }\n                        ]\n                    };\n                }\n            case UnionType:\n                {\n                    return {\n                        name: UnionType,\n                        properties: [\n                            {\n                                name: \"types\",\n                                defaultValue: []\n                            }\n                        ]\n                    };\n                }\n            case Action:\n                {\n                    return {\n                        name: Action,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"feature\"\n                            },\n                            {\n                                name: \"inferredType\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"operator\"\n                            },\n                            {\n                                name: \"type\"\n                            }\n                        ]\n                    };\n                }\n            case Alternatives:\n                {\n                    return {\n                        name: Alternatives,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"elements\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case Assignment:\n                {\n                    return {\n                        name: Assignment,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"feature\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"operator\"\n                            },\n                            {\n                                name: \"terminal\"\n                            }\n                        ]\n                    };\n                }\n            case CharacterRange:\n                {\n                    return {\n                        name: CharacterRange,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"left\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"right\"\n                            }\n                        ]\n                    };\n                }\n            case CrossReference:\n                {\n                    return {\n                        name: CrossReference,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"deprecatedSyntax\",\n                                defaultValue: false\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"terminal\"\n                            },\n                            {\n                                name: \"type\"\n                            }\n                        ]\n                    };\n                }\n            case EndOfFile:\n                {\n                    return {\n                        name: EndOfFile,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case Group:\n                {\n                    return {\n                        name: Group,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"elements\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"guardCondition\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case Keyword:\n                {\n                    return {\n                        name: Keyword,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"value\"\n                            }\n                        ]\n                    };\n                }\n            case NegatedToken:\n                {\n                    return {\n                        name: NegatedToken,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"terminal\"\n                            }\n                        ]\n                    };\n                }\n            case RegexToken:\n                {\n                    return {\n                        name: RegexToken,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"regex\"\n                            }\n                        ]\n                    };\n                }\n            case RuleCall:\n                {\n                    return {\n                        name: RuleCall,\n                        properties: [\n                            {\n                                name: \"arguments\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"rule\"\n                            }\n                        ]\n                    };\n                }\n            case TerminalAlternatives:\n                {\n                    return {\n                        name: TerminalAlternatives,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"elements\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case TerminalGroup:\n                {\n                    return {\n                        name: TerminalGroup,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"elements\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case TerminalRuleCall:\n                {\n                    return {\n                        name: TerminalRuleCall,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"rule\"\n                            }\n                        ]\n                    };\n                }\n            case UnorderedGroup:\n                {\n                    return {\n                        name: UnorderedGroup,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"elements\",\n                                defaultValue: []\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            case UntilToken:\n                {\n                    return {\n                        name: UntilToken,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            },\n                            {\n                                name: \"terminal\"\n                            }\n                        ]\n                    };\n                }\n            case Wildcard:\n                {\n                    return {\n                        name: Wildcard,\n                        properties: [\n                            {\n                                name: \"cardinality\"\n                            },\n                            {\n                                name: \"lookahead\"\n                            }\n                        ]\n                    };\n                }\n            default:\n                {\n                    return {\n                        name: type,\n                        properties: []\n                    };\n                }\n        }\n    }\n}\nconst reflection = new LangiumGrammarAstReflection(); //# sourceMappingURL=ast.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvbGFuZ3VhZ2VzL2dlbmVyYXRlZC9hc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OzhFQUc4RSxHQUNqQjtBQUN0RCxNQUFNQywwQkFBMEI7SUFDbkNDLElBQUk7SUFDSkMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLGNBQWM7SUFDZEMsSUFBSTtJQUNKQyxZQUFZO0lBQ1pDLFlBQVk7QUFDaEIsRUFBRTtBQUNLLE1BQU1DLGVBQWUsZUFBZTtBQUNwQyxTQUFTQyxlQUFlQyxJQUFJO0lBQy9CLE9BQU9DLFdBQVdDLFVBQVUsQ0FBQ0YsTUFBTUY7QUFDdkM7QUFDTyxNQUFNSyxlQUFlLGVBQWU7QUFDcEMsU0FBU0MsZUFBZUosSUFBSTtJQUMvQixPQUFPQyxXQUFXQyxVQUFVLENBQUNGLE1BQU1HO0FBQ3ZDO0FBQ08sTUFBTUUsWUFBWSxZQUFZO0FBQzlCLFNBQVNDLFlBQVlOLElBQUk7SUFDNUIsT0FBT0MsV0FBV0MsVUFBVSxDQUFDRixNQUFNSztBQUN2QztBQUNPLFNBQVNFLGNBQWNQLElBQUk7SUFDOUIsT0FBT1EsZ0JBQWdCUixTQUFTQSxTQUFTLGFBQWFBLFNBQVMsV0FBV0EsU0FBUyxhQUFhQSxTQUFTLFdBQVdBLFNBQVMsY0FBY0EsU0FBUyxhQUFhQSxTQUFTLFlBQVlBLFNBQVMsWUFBWUEsU0FBUyxlQUFlQSxTQUFTLGFBQWFBLFNBQVMsY0FBY0EsU0FBUyxVQUFVQSxTQUFTLFVBQVVBLFNBQVMsV0FBV0EsU0FBUyxZQUFZQSxTQUFTLFVBQVcsT0FBT0EsU0FBUyxZQUFhLHFCQUFxQlMsSUFBSSxDQUFDVDtBQUM5YTtBQUNPLFNBQVNRLGdCQUFnQlIsSUFBSTtJQUNoQyxPQUFPQSxTQUFTLFlBQVlBLFNBQVMsWUFBWUEs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TTs0QkFBYzs0QkFDdEI7Z0NBQUVBLE1BQU07NEJBQVk7NEJBQ3BCO2dDQUFFQSxNQUFNOzRCQUFPO3lCQUNsQjtvQkFDTDtnQkFDSjtZQUNBLEtBQUtyQjtnQkFBZ0I7b0JBQ2pCLE9BQU87d0JBQ0hxQixNQUFNckI7d0JBQ05zQixZQUFZOzRCQUNSO2dDQUFFRCxNQUFNOzRCQUFjOzRCQUN0QjtnQ0FBRUEsTUFBTTtnQ0FBWUUsY0FBYyxFQUFFOzRCQUFDOzRCQUNyQztnQ0FBRUYsTUFBTTs0QkFBWTt5QkFDdkI7b0JBQ0w7Z0JBQ0o7WUFDQSxLQUFLbkI7Z0JBQVk7b0JBQ2IsT0FBTzt3QkFDSG1CLE1BQU1uQjt3QkFDTm9CLFlBQVk7NEJBQ1I7Z0NBQUVELE1BQU07NEJBQWM7NEJBQ3RCO2dDQUFFQSxNQUFNOzRCQUFZOzRCQUNwQjtnQ0FBRUEsTUFBTTs0QkFBVzt5QkFDdEI7b0JBQ0w7Z0JBQ0o7WUFDQSxLQUFLakI7Z0JBQVU7b0JBQ1gsT0FBTzt3QkFDSGlCLE1BQU1qQjt3QkFDTmtCLFlBQVk7NEJBQ1I7Z0NBQUVELE1BQU07NEJBQWM7NEJBQ3RCO2dDQUFFQSxNQUFNOzRCQUFZO3lCQUN2QjtvQkFDTDtnQkFDSjtZQUNBO2dCQUFTO29CQUNMLE9BQU87d0JBQ0hBLE1BQU1EO3dCQUNORSxZQUFZLEVBQUU7b0JBQ2xCO2dCQUNKO1FBQ0o7SUFDSjtBQUNKO0FBQ08sTUFBTS9HLGFBQWEsSUFBSStGLDhCQUE4QixDQUM1RCwrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi9sYW5ndWFnZXMvZ2VuZXJhdGVkL2FzdC5qcz9kYTM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxhbmdpdW0tY2xpIDMuMy4wLlxuICogRE8gTk9UIEVESVQgTUFOVUFMTFkhXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgQWJzdHJhY3RBc3RSZWZsZWN0aW9uIH0gZnJvbSAnLi4vLi4vc3ludGF4LXRyZWUuanMnO1xuZXhwb3J0IGNvbnN0IExhbmdpdW1HcmFtbWFyVGVybWluYWxzID0ge1xuICAgIElEOiAvXFxeP1tfYS16QS1aXVtcXHdfXSovLFxuICAgIFNUUklORzogL1wiKFxcXFwufFteXCJcXFxcXSkqXCJ8JyhcXFxcLnxbXidcXFxcXSkqJy8sXG4gICAgTlVNQkVSOiAvTmFOfC0/KChcXGQqXFwuXFxkK3xcXGQrKShbRWVdWystXT9cXGQrKT98SW5maW5pdHkpLyxcbiAgICBSZWdleExpdGVyYWw6IC9cXC8oPyFbKis/XSkoPzpbXlxcclxcblxcWy9cXFxcXXxcXFxcLnxcXFsoPzpbXlxcclxcblxcXVxcXFxdfFxcXFwuKSpcXF0pK1xcL1thLXpdKi8sXG4gICAgV1M6IC9cXHMrLyxcbiAgICBNTF9DT01NRU5UOiAvXFwvXFwqW1xcc1xcU10qP1xcKlxcLy8sXG4gICAgU0xfQ09NTUVOVDogL1xcL1xcL1teXFxuXFxyXSovLFxufTtcbmV4cG9ydCBjb25zdCBBYnN0cmFjdFJ1bGUgPSAnQWJzdHJhY3RSdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBpc0Fic3RyYWN0UnVsZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBBYnN0cmFjdFJ1bGUpO1xufVxuZXhwb3J0IGNvbnN0IEFic3RyYWN0VHlwZSA9ICdBYnN0cmFjdFR5cGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWJzdHJhY3RUeXBlKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIEFic3RyYWN0VHlwZSk7XG59XG5leHBvcnQgY29uc3QgQ29uZGl0aW9uID0gJ0NvbmRpdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNDb25kaXRpb24oaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgQ29uZGl0aW9uKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0ZlYXR1cmVOYW1lKGl0ZW0pIHtcbiAgICByZXR1cm4gaXNQcmltaXRpdmVUeXBlKGl0ZW0pIHx8IGl0ZW0gPT09ICdjdXJyZW50JyB8fCBpdGVtID09PSAnZW50cnknIHx8IGl0ZW0gPT09ICdleHRlbmRzJyB8fCBpdGVtID09PSAnZmFsc2UnIHx8IGl0ZW0gPT09ICdmcmFnbWVudCcgfHwgaXRlbSA9PT0gJ2dyYW1tYXInIHx8IGl0ZW0gPT09ICdoaWRkZW4nIHx8IGl0ZW0gPT09ICdpbXBvcnQnIHx8IGl0ZW0gPT09ICdpbnRlcmZhY2UnIHx8IGl0ZW0gPT09ICdyZXR1cm5zJyB8fCBpdGVtID09PSAndGVybWluYWwnIHx8IGl0ZW0gPT09ICd0cnVlJyB8fCBpdGVtID09PSAndHlwZScgfHwgaXRlbSA9PT0gJ2luZmVyJyB8fCBpdGVtID09PSAnaW5mZXJzJyB8fCBpdGVtID09PSAnd2l0aCcgfHwgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyAmJiAoL1xcXj9bX2EtekEtWl1bXFx3X10qLy50ZXN0KGl0ZW0pKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQcmltaXRpdmVUeXBlKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSA9PT0gJ3N0cmluZycgfHwgaXRlbSA9PT0gJ251bWJlcicgfHwgaXRlbSA9PT0gJ2Jvb2xlYW4nIHx8IGl0ZW0gPT09ICdEYXRlJyB8fCBpdGVtID09PSAnYmlnaW50Jztcbn1cbmV4cG9ydCBjb25zdCBUeXBlRGVmaW5pdGlvbiA9ICdUeXBlRGVmaW5pdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlRGVmaW5pdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBUeXBlRGVmaW5pdGlvbik7XG59XG5leHBvcnQgY29uc3QgVmFsdWVMaXRlcmFsID0gJ1ZhbHVlTGl0ZXJhbCc7XG5leHBvcnQgZnVuY3Rpb24gaXNWYWx1ZUxpdGVyYWwoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgVmFsdWVMaXRlcmFsKTtcbn1cbmV4cG9ydCBjb25zdCBBYnN0cmFjdEVsZW1lbnQgPSAnQWJzdHJhY3RFbGVtZW50JztcbmV4cG9ydCBmdW5jdGlvbiBpc0Fic3RyYWN0RWxlbWVudChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBBYnN0cmFjdEVsZW1lbnQpO1xufVxuZXhwb3J0IGNvbnN0IEFycmF5TGl0ZXJhbCA9ICdBcnJheUxpdGVyYWwnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlMaXRlcmFsKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIEFycmF5TGl0ZXJhbCk7XG59XG5leHBvcnQgY29uc3QgQXJyYXlUeXBlID0gJ0FycmF5VHlwZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheVR5cGUoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgQXJyYXlUeXBlKTtcbn1cbmV4cG9ydCBjb25zdCBCb29sZWFuTGl0ZXJhbCA9ICdCb29sZWFuTGl0ZXJhbCc7XG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuTGl0ZXJhbChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBCb29sZWFuTGl0ZXJhbCk7XG59XG5leHBvcnQgY29uc3QgQ29uanVuY3Rpb24gPSAnQ29uanVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uanVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgQ29uanVuY3Rpb24pO1xufVxuZXhwb3J0IGNvbnN0IERpc2p1bmN0aW9uID0gJ0Rpc2p1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc2p1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIERpc2p1bmN0aW9uKTtcbn1cbmV4cG9ydCBjb25zdCBHcmFtbWFyID0gJ0dyYW1tYXInO1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3JhbW1hcihpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBHcmFtbWFyKTtcbn1cbmV4cG9ydCBjb25zdCBHcmFtbWFySW1wb3J0ID0gJ0dyYW1tYXJJbXBvcnQnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3JhbW1hckltcG9ydChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBHcmFtbWFySW1wb3J0KTtcbn1cbmV4cG9ydCBjb25zdCBJbmZlcnJlZFR5cGUgPSAnSW5mZXJyZWRUeXBlJztcbmV4cG9ydCBmdW5jdGlvbiBpc0luZmVycmVkVHlwZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBJbmZlcnJlZFR5cGUpO1xufVxuZXhwb3J0IGNvbnN0IEludGVyZmFjZSA9ICdJbnRlcmZhY2UnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJmYWNlKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIEludGVyZmFjZSk7XG59XG5leHBvcnQgY29uc3QgTmFtZWRBcmd1bWVudCA9ICdOYW1lZEFyZ3VtZW50JztcbmV4cG9ydCBmdW5jdGlvbiBpc05hbWVkQXJndW1lbnQoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgTmFtZWRBcmd1bWVudCk7XG59XG5leHBvcnQgY29uc3QgTmVnYXRpb24gPSAnTmVnYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTmVnYXRpb24oaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgTmVnYXRpb24pO1xufVxuZXhwb3J0IGNvbnN0IE51bWJlckxpdGVyYWwgPSAnTnVtYmVyTGl0ZXJhbCc7XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXJMaXRlcmFsKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIE51bWJlckxpdGVyYWwpO1xufVxuZXhwb3J0IGNvbnN0IFBhcmFtZXRlciA9ICdQYXJhbWV0ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyYW1ldGVyKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFBhcmFtZXRlcik7XG59XG5leHBvcnQgY29uc3QgUGFyYW1ldGVyUmVmZXJlbmNlID0gJ1BhcmFtZXRlclJlZmVyZW5jZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNQYXJhbWV0ZXJSZWZlcmVuY2UoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgUGFyYW1ldGVyUmVmZXJlbmNlKTtcbn1cbmV4cG9ydCBjb25zdCBQYXJzZXJSdWxlID0gJ1BhcnNlclJ1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyc2VyUnVsZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBQYXJzZXJSdWxlKTtcbn1cbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VUeXBlID0gJ1JlZmVyZW5jZVR5cGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVmZXJlbmNlVHlwZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBSZWZlcmVuY2VUeXBlKTtcbn1cbmV4cG9ydCBjb25zdCBSZXR1cm5UeXBlID0gJ1JldHVyblR5cGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmV0dXJuVHlwZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBSZXR1cm5UeXBlKTtcbn1cbmV4cG9ydCBjb25zdCBTaW1wbGVUeXBlID0gJ1NpbXBsZVR5cGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2ltcGxlVHlwZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBTaW1wbGVUeXBlKTtcbn1cbmV4cG9ydCBjb25zdCBTdHJpbmdMaXRlcmFsID0gJ1N0cmluZ0xpdGVyYWwnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nTGl0ZXJhbChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBTdHJpbmdMaXRlcmFsKTtcbn1cbmV4cG9ydCBjb25zdCBUZXJtaW5hbFJ1bGUgPSAnVGVybWluYWxSdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBpc1Rlcm1pbmFsUnVsZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBUZXJtaW5hbFJ1bGUpO1xufVxuZXhwb3J0IGNvbnN0IFR5cGUgPSAnVHlwZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFR5cGUpO1xufVxuZXhwb3J0IGNvbnN0IFR5cGVBdHRyaWJ1dGUgPSAnVHlwZUF0dHJpYnV0ZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlQXR0cmlidXRlKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFR5cGVBdHRyaWJ1dGUpO1xufVxuZXhwb3J0IGNvbnN0IFVuaW9uVHlwZSA9ICdVbmlvblR5cGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5pb25UeXBlKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFVuaW9uVHlwZSk7XG59XG5leHBvcnQgY29uc3QgQWN0aW9uID0gJ0FjdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgQWN0aW9uKTtcbn1cbmV4cG9ydCBjb25zdCBBbHRlcm5hdGl2ZXMgPSAnQWx0ZXJuYXRpdmVzJztcbmV4cG9ydCBmdW5jdGlvbiBpc0FsdGVybmF0aXZlcyhpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBBbHRlcm5hdGl2ZXMpO1xufVxuZXhwb3J0IGNvbnN0IEFzc2lnbm1lbnQgPSAnQXNzaWdubWVudCc7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3NpZ25tZW50KGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIEFzc2lnbm1lbnQpO1xufVxuZXhwb3J0IGNvbnN0IENoYXJhY3RlclJhbmdlID0gJ0NoYXJhY3RlclJhbmdlJztcbmV4cG9ydCBmdW5jdGlvbiBpc0NoYXJhY3RlclJhbmdlKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIENoYXJhY3RlclJhbmdlKTtcbn1cbmV4cG9ydCBjb25zdCBDcm9zc1JlZmVyZW5jZSA9ICdDcm9zc1JlZmVyZW5jZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNDcm9zc1JlZmVyZW5jZShpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBDcm9zc1JlZmVyZW5jZSk7XG59XG5leHBvcnQgY29uc3QgRW5kT2ZGaWxlID0gJ0VuZE9mRmlsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNFbmRPZkZpbGUoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgRW5kT2ZGaWxlKTtcbn1cbmV4cG9ydCBjb25zdCBHcm91cCA9ICdHcm91cCc7XG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBHcm91cCk7XG59XG5leHBvcnQgY29uc3QgS2V5d29yZCA9ICdLZXl3b3JkJztcbmV4cG9ydCBmdW5jdGlvbiBpc0tleXdvcmQoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgS2V5d29yZCk7XG59XG5leHBvcnQgY29uc3QgTmVnYXRlZFRva2VuID0gJ05lZ2F0ZWRUb2tlbic7XG5leHBvcnQgZnVuY3Rpb24gaXNOZWdhdGVkVG9rZW4oaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgTmVnYXRlZFRva2VuKTtcbn1cbmV4cG9ydCBjb25zdCBSZWdleFRva2VuID0gJ1JlZ2V4VG9rZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnZXhUb2tlbihpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBSZWdleFRva2VuKTtcbn1cbmV4cG9ydCBjb25zdCBSdWxlQ2FsbCA9ICdSdWxlQ2FsbCc7XG5leHBvcnQgZnVuY3Rpb24gaXNSdWxlQ2FsbChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBSdWxlQ2FsbCk7XG59XG5leHBvcnQgY29uc3QgVGVybWluYWxBbHRlcm5hdGl2ZXMgPSAnVGVybWluYWxBbHRlcm5hdGl2ZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGVybWluYWxBbHRlcm5hdGl2ZXMoaXRlbSkge1xuICAgIHJldHVybiByZWZsZWN0aW9uLmlzSW5zdGFuY2UoaXRlbSwgVGVybWluYWxBbHRlcm5hdGl2ZXMpO1xufVxuZXhwb3J0IGNvbnN0IFRlcm1pbmFsR3JvdXAgPSAnVGVybWluYWxHcm91cCc7XG5leHBvcnQgZnVuY3Rpb24gaXNUZXJtaW5hbEdyb3VwKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFRlcm1pbmFsR3JvdXApO1xufVxuZXhwb3J0IGNvbnN0IFRlcm1pbmFsUnVsZUNhbGwgPSAnVGVybWluYWxSdWxlQ2FsbCc7XG5leHBvcnQgZnVuY3Rpb24gaXNUZXJtaW5hbFJ1bGVDYWxsKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFRlcm1pbmFsUnVsZUNhbGwpO1xufVxuZXhwb3J0IGNvbnN0IFVub3JkZXJlZEdyb3VwID0gJ1Vub3JkZXJlZEdyb3VwJztcbmV4cG9ydCBmdW5jdGlvbiBpc1Vub3JkZXJlZEdyb3VwKGl0ZW0pIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbi5pc0luc3RhbmNlKGl0ZW0sIFVub3JkZXJlZEdyb3VwKTtcbn1cbmV4cG9ydCBjb25zdCBVbnRpbFRva2VuID0gJ1VudGlsVG9rZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW50aWxUb2tlbihpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBVbnRpbFRva2VuKTtcbn1cbmV4cG9ydCBjb25zdCBXaWxkY2FyZCA9ICdXaWxkY2FyZCc7XG5leHBvcnQgZnVuY3Rpb24gaXNXaWxkY2FyZChpdGVtKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rpb24uaXNJbnN0YW5jZShpdGVtLCBXaWxkY2FyZCk7XG59XG5leHBvcnQgY2xhc3MgTGFuZ2l1bUdyYW1tYXJBc3RSZWZsZWN0aW9uIGV4dGVuZHMgQWJzdHJhY3RBc3RSZWZsZWN0aW9uIHtcbiAgICBnZXRBbGxUeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIFtBYnN0cmFjdEVsZW1lbnQsIEFic3RyYWN0UnVsZSwgQWJzdHJhY3RUeXBlLCBBY3Rpb24sIEFsdGVybmF0aXZlcywgQXJyYXlMaXRlcmFsLCBBcnJheVR5cGUsIEFzc2lnbm1lbnQsIEJvb2xlYW5MaXRlcmFsLCBDaGFyYWN0ZXJSYW5nZSwgQ29uZGl0aW9uLCBDb25qdW5jdGlvbiwgQ3Jvc3NSZWZlcmVuY2UsIERpc2p1bmN0aW9uLCBFbmRPZkZpbGUsIEdyYW1tYXIsIEdyYW1tYXJJbXBvcnQsIEdyb3VwLCBJbmZlcnJlZFR5cGUsIEludGVyZmFjZSwgS2V5d29yZCwgTmFtZWRBcmd1bWVudCwgTmVnYXRlZFRva2VuLCBOZWdhdGlvbiwgTnVtYmVyTGl0ZXJhbCwgUGFyYW1ldGVyLCBQYXJhbWV0ZXJSZWZlcmVuY2UsIFBhcnNlclJ1bGUsIFJlZmVyZW5jZVR5cGUsIFJlZ2V4VG9rZW4sIFJldHVyblR5cGUsIFJ1bGVDYWxsLCBTaW1wbGVUeXBlLCBTdHJpbmdMaXRlcmFsLCBUZXJtaW5hbEFsdGVybmF0aXZlcywgVGVybWluYWxHcm91cCwgVGVybWluYWxSdWxlLCBUZXJtaW5hbFJ1bGVDYWxsLCBUeXBlLCBUeXBlQXR0cmlidXRlLCBUeXBlRGVmaW5pdGlvbiwgVW5pb25UeXBlLCBVbm9yZGVyZWRHcm91cCwgVW50aWxUb2tlbiwgVmFsdWVMaXRlcmFsLCBXaWxkY2FyZF07XG4gICAgfVxuICAgIGNvbXB1dGVJc1N1YnR5cGUoc3VidHlwZSwgc3VwZXJ0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAoc3VidHlwZSkge1xuICAgICAgICAgICAgY2FzZSBBY3Rpb246XG4gICAgICAgICAgICBjYXNlIEFsdGVybmF0aXZlczpcbiAgICAgICAgICAgIGNhc2UgQXNzaWdubWVudDpcbiAgICAgICAgICAgIGNhc2UgQ2hhcmFjdGVyUmFuZ2U6XG4gICAgICAgICAgICBjYXNlIENyb3NzUmVmZXJlbmNlOlxuICAgICAgICAgICAgY2FzZSBFbmRPZkZpbGU6XG4gICAgICAgICAgICBjYXNlIEdyb3VwOlxuICAgICAgICAgICAgY2FzZSBLZXl3b3JkOlxuICAgICAgICAgICAgY2FzZSBOZWdhdGVkVG9rZW46XG4gICAgICAgICAgICBjYXNlIFJlZ2V4VG9rZW46XG4gICAgICAgICAgICBjYXNlIFJ1bGVDYWxsOlxuICAgICAgICAgICAgY2FzZSBUZXJtaW5hbEFsdGVybmF0aXZlczpcbiAgICAgICAgICAgIGNhc2UgVGVybWluYWxHcm91cDpcbiAgICAgICAgICAgIGNhc2UgVGVybWluYWxSdWxlQ2FsbDpcbiAgICAgICAgICAgIGNhc2UgVW5vcmRlcmVkR3JvdXA6XG4gICAgICAgICAgICBjYXNlIFVudGlsVG9rZW46XG4gICAgICAgICAgICBjYXNlIFdpbGRjYXJkOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTdWJ0eXBlKEFic3RyYWN0RWxlbWVudCwgc3VwZXJ0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQXJyYXlMaXRlcmFsOlxuICAgICAgICAgICAgY2FzZSBOdW1iZXJMaXRlcmFsOlxuICAgICAgICAgICAgY2FzZSBTdHJpbmdMaXRlcmFsOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTdWJ0eXBlKFZhbHVlTGl0ZXJhbCwgc3VwZXJ0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQXJyYXlUeXBlOlxuICAgICAgICAgICAgY2FzZSBSZWZlcmVuY2VUeXBlOlxuICAgICAgICAgICAgY2FzZSBTaW1wbGVUeXBlOlxuICAgICAgICAgICAgY2FzZSBVbmlvblR5cGU6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1N1YnR5cGUoVHlwZURlZmluaXRpb24sIHN1cGVydHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW5MaXRlcmFsOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTdWJ0eXBlKENvbmRpdGlvbiwgc3VwZXJ0eXBlKSB8fCB0aGlzLmlzU3VidHlwZShWYWx1ZUxpdGVyYWwsIHN1cGVydHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIENvbmp1bmN0aW9uOlxuICAgICAgICAgICAgY2FzZSBEaXNqdW5jdGlvbjpcbiAgICAgICAgICAgIGNhc2UgTmVnYXRpb246XG4gICAgICAgICAgICBjYXNlIFBhcmFtZXRlclJlZmVyZW5jZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzU3VidHlwZShDb25kaXRpb24sIHN1cGVydHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEluZmVycmVkVHlwZTpcbiAgICAgICAgICAgIGNhc2UgSW50ZXJmYWNlOlxuICAgICAgICAgICAgY2FzZSBUeXBlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTdWJ0eXBlKEFic3RyYWN0VHlwZSwgc3VwZXJ0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUGFyc2VyUnVsZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzU3VidHlwZShBYnN0cmFjdFJ1bGUsIHN1cGVydHlwZSkgfHwgdGhpcy5pc1N1YnR5cGUoQWJzdHJhY3RUeXBlLCBzdXBlcnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBUZXJtaW5hbFJ1bGU6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1N1YnR5cGUoQWJzdHJhY3RSdWxlLCBzdXBlcnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRSZWZlcmVuY2VUeXBlKHJlZkluZm8pIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlSWQgPSBgJHtyZWZJbmZvLmNvbnRhaW5lci4kdHlwZX06JHtyZWZJbmZvLnByb3BlcnR5fWA7XG4gICAgICAgIHN3aXRjaCAocmVmZXJlbmNlSWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ0FjdGlvbjp0eXBlJzpcbiAgICAgICAgICAgIGNhc2UgJ0Nyb3NzUmVmZXJlbmNlOnR5cGUnOlxuICAgICAgICAgICAgY2FzZSAnSW50ZXJmYWNlOnN1cGVyVHlwZXMnOlxuICAgICAgICAgICAgY2FzZSAnUGFyc2VyUnVsZTpyZXR1cm5UeXBlJzpcbiAgICAgICAgICAgIGNhc2UgJ1NpbXBsZVR5cGU6dHlwZVJlZic6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQWJzdHJhY3RUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnR3JhbW1hcjpoaWRkZW5Ub2tlbnMnOlxuICAgICAgICAgICAgY2FzZSAnUGFyc2VyUnVsZTpoaWRkZW5Ub2tlbnMnOlxuICAgICAgICAgICAgY2FzZSAnUnVsZUNhbGw6cnVsZSc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQWJzdHJhY3RSdWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnR3JhbW1hcjp1c2VkR3JhbW1hcnMnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyYW1tYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdOYW1lZEFyZ3VtZW50OnBhcmFtZXRlcic6XG4gICAgICAgICAgICBjYXNlICdQYXJhbWV0ZXJSZWZlcmVuY2U6cGFyYW1ldGVyJzoge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJhbWV0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUZXJtaW5hbFJ1bGVDYWxsOnJ1bGUnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRlcm1pbmFsUnVsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVmZXJlbmNlSWR9IGlzIG5vdCBhIHZhbGlkIHJlZmVyZW5jZSBpZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUeXBlTWV0YURhdGEodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQWJzdHJhY3RFbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogQWJzdHJhY3RFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjYXJkaW5hbGl0eScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQXJyYXlMaXRlcmFsOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogQXJyYXlMaXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdlbGVtZW50cycsIGRlZmF1bHRWYWx1ZTogW10gfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQXJyYXlUeXBlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogQXJyYXlUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdlbGVtZW50VHlwZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbkxpdGVyYWw6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBCb29sZWFuTGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndHJ1ZScsIGRlZmF1bHRWYWx1ZTogZmFsc2UgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQ29uanVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBDb25qdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbGVmdCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3JpZ2h0JyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBEaXNqdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IERpc2p1bmN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdsZWZ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncmlnaHQnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEdyYW1tYXI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBHcmFtbWFyLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdkZWZpbmVzSGlkZGVuVG9rZW5zJywgZGVmYXVsdFZhbHVlOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnaGlkZGVuVG9rZW5zJywgZGVmYXVsdFZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnaW1wb3J0cycsIGRlZmF1bHRWYWx1ZTogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2ludGVyZmFjZXMnLCBkZWZhdWx0VmFsdWU6IFtdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdpc0RlY2xhcmVkJywgZGVmYXVsdFZhbHVlOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbmFtZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3J1bGVzJywgZGVmYXVsdFZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndHlwZXMnLCBkZWZhdWx0VmFsdWU6IFtdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICd1c2VkR3JhbW1hcnMnLCBkZWZhdWx0VmFsdWU6IFtdIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEdyYW1tYXJJbXBvcnQ6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBHcmFtbWFySW1wb3J0LFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdwYXRoJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBJbmZlcnJlZFR5cGU6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBJbmZlcnJlZFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ25hbWUnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEludGVyZmFjZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IEludGVyZmFjZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnYXR0cmlidXRlcycsIGRlZmF1bHRWYWx1ZTogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ25hbWUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdzdXBlclR5cGVzJywgZGVmYXVsdFZhbHVlOiBbXSB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBOYW1lZEFyZ3VtZW50OiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZWRBcmd1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FsbGVkQnlOYW1lJywgZGVmYXVsdFZhbHVlOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncGFyYW1ldGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndmFsdWUnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIE5lZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogTmVnYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3ZhbHVlJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBOdW1iZXJMaXRlcmFsOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogTnVtYmVyTGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndmFsdWUnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBhcmFtZXRlcjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFBhcmFtZXRlcixcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbmFtZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUGFyYW1ldGVyUmVmZXJlbmNlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUGFyYW1ldGVyUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdwYXJhbWV0ZXInIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBhcnNlclJ1bGU6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBQYXJzZXJSdWxlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdkYXRhVHlwZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2RlZmluZXNIaWRkZW5Ub2tlbnMnLCBkZWZhdWx0VmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdkZWZpbml0aW9uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZW50cnknLCBkZWZhdWx0VmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdmcmFnbWVudCcsIGRlZmF1bHRWYWx1ZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2hpZGRlblRva2VucycsIGRlZmF1bHRWYWx1ZTogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2luZmVycmVkVHlwZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ25hbWUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdwYXJhbWV0ZXJzJywgZGVmYXVsdFZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncmV0dXJuVHlwZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3dpbGRjYXJkJywgZGVmYXVsdFZhbHVlOiBmYWxzZSB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBSZWZlcmVuY2VUeXBlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUmVmZXJlbmNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncmVmZXJlbmNlVHlwZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUmV0dXJuVHlwZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFJldHVyblR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ25hbWUnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFNpbXBsZVR5cGU6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBTaW1wbGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdwcmltaXRpdmVUeXBlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnc3RyaW5nVHlwZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3R5cGVSZWYnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFN0cmluZ0xpdGVyYWw6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBTdHJpbmdMaXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICd2YWx1ZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVGVybWluYWxSdWxlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogVGVybWluYWxSdWxlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdkZWZpbml0aW9uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZnJhZ21lbnQnLCBkZWZhdWx0VmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdoaWRkZW4nLCBkZWZhdWx0VmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICduYW1lJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndHlwZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVHlwZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ25hbWUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICd0eXBlJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBUeXBlQXR0cmlidXRlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogVHlwZUF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZGVmYXVsdFZhbHVlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnaXNPcHRpb25hbCcsIGRlZmF1bHRWYWx1ZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ25hbWUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICd0eXBlJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBVbmlvblR5cGU6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBVbmlvblR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3R5cGVzJywgZGVmYXVsdFZhbHVlOiBbXSB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBY3Rpb246IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhcmRpbmFsaXR5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZmVhdHVyZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2luZmVycmVkVHlwZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ29wZXJhdG9yJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndHlwZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQWx0ZXJuYXRpdmVzOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogQWx0ZXJuYXRpdmVzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjYXJkaW5hbGl0eScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2VsZW1lbnRzJywgZGVmYXVsdFZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBc3NpZ25tZW50OiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogQXNzaWdubWVudCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdmZWF0dXJlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnb3BlcmF0b3InIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICd0ZXJtaW5hbCcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQ2hhcmFjdGVyUmFuZ2U6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBDaGFyYWN0ZXJSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdsZWZ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncmlnaHQnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIENyb3NzUmVmZXJlbmNlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogQ3Jvc3NSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhcmRpbmFsaXR5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZGVwcmVjYXRlZFN5bnRheCcsIGRlZmF1bHRWYWx1ZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3Rlcm1pbmFsJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndHlwZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRW5kT2ZGaWxlOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogRW5kT2ZGaWxlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjYXJkaW5hbGl0eScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgR3JvdXA6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdlbGVtZW50cycsIGRlZmF1bHRWYWx1ZTogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2d1YXJkQ29uZGl0aW9uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBLZXl3b3JkOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogS2V5d29yZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdsb29rYWhlYWQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICd2YWx1ZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTmVnYXRlZFRva2VuOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogTmVnYXRlZFRva2VuLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjYXJkaW5hbGl0eScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3Rlcm1pbmFsJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBSZWdleFRva2VuOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUmVnZXhUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdsb29rYWhlYWQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdyZWdleCcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUnVsZUNhbGw6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBSdWxlQ2FsbCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnYXJndW1lbnRzJywgZGVmYXVsdFZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdsb29rYWhlYWQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdydWxlJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBUZXJtaW5hbEFsdGVybmF0aXZlczoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFRlcm1pbmFsQWx0ZXJuYXRpdmVzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjYXJkaW5hbGl0eScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2VsZW1lbnRzJywgZGVmYXVsdFZhbHVlOiBbXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBUZXJtaW5hbEdyb3VwOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogVGVybWluYWxHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdlbGVtZW50cycsIGRlZmF1bHRWYWx1ZTogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVGVybWluYWxSdWxlQ2FsbDoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFRlcm1pbmFsUnVsZUNhbGwsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhcmRpbmFsaXR5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncnVsZScgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVW5vcmRlcmVkR3JvdXA6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBVbm9yZGVyZWRHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FyZGluYWxpdHknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdlbGVtZW50cycsIGRlZmF1bHRWYWx1ZTogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2xvb2thaGVhZCcgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgVW50aWxUb2tlbjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFVudGlsVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhcmRpbmFsaXR5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAndGVybWluYWwnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFdpbGRjYXJkOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogV2lsZGNhcmQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhcmRpbmFsaXR5JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbG9va2FoZWFkJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCByZWZsZWN0aW9uID0gbmV3IExhbmdpdW1HcmFtbWFyQXN0UmVmbGVjdGlvbigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN0LmpzLm1hcCJdLCJuYW1lcyI6WyJBYnN0cmFjdEFzdFJlZmxlY3Rpb24iLCJMYW5naXVtR3JhbW1hclRlcm1pbmFscyIsIklEIiwiU1RSSU5HIiwiTlVNQkVSIiwiUmVnZXhMaXRlcmFsIiwiV1MiLCJNTF9DT01NRU5UIiwiU0xfQ09NTUVOVCIsIkFic3RyYWN0UnVsZSIsImlzQWJzdHJhY3RSdWxlIiwiaXRlbSIsInJlZmxlY3Rpb24iLCJpc0luc3RhbmNlIiwiQWJzdHJhY3RUeXBlIiwiaXNBYnN0cmFjdFR5cGUiLCJDb25kaXRpb24iLCJpc0NvbmRpdGlvbiIsImlzRmVhdHVyZU5hbWUiLCJpc1ByaW1pdGl2ZVR5cGUiLCJ0ZXN0IiwiVHlwZURlZmluaXRpb24iLCJpc1R5cGVEZWZpbml0aW9uIiwiVmFsdWVMaXRlcmFsIiwiaXNWYWx1ZUxpdGVyYWwiLCJBYnN0cmFjdEVsZW1lbnQiLCJpc0Fic3RyYWN0RWxlbWVudCIsIkFycmF5TGl0ZXJhbCIsImlzQXJyYXlMaXRlcmFsIiwiQXJyYXlUeXBlIiwiaXNBcnJheVR5cGUiLCJCb29sZWFuTGl0ZXJhbCIsImlzQm9vbGVhbkxpdGVyYWwiLCJDb25qdW5jdGlvbiIsImlzQ29uanVuY3Rpb24iLCJEaXNqdW5jdGlvbiIsImlzRGlzanVuY3Rpb24iLCJHcmFtbWFyIiwiaXNHcmFtbWFyIiwiR3JhbW1hckltcG9ydCIsImlzR3JhbW1hckltcG9ydCIsIkluZmVycmVkVHlwZSIsImlzSW5mZXJyZWRUeXBlIiwiSW50ZXJmYWNlIiwiaXNJbnRlcmZhY2UiLCJOYW1lZEFyZ3VtZW50IiwiaXNOYW1lZEFyZ3VtZW50IiwiTmVnYXRpb24iLCJpc05lZ2F0aW9uIiwiTnVtYmVyTGl0ZXJhbCIsImlzTnVtYmVyTGl0ZXJhbCIsIlBhcmFtZXRlciIsImlzUGFyYW1ldGVyIiwiUGFyYW1ldGVyUmVmZXJlbmNlIiwiaXNQYXJhbWV0ZXJSZWZlcmVuY2UiLCJQYXJzZXJSdWxlIiwiaXNQYXJzZXJSdWxlIiwiUmVmZXJlbmNlVHlwZSIsImlzUmVmZXJlbmNlVHlwZSIsIlJldHVyblR5cGUiLCJpc1JldHVyblR5cGUiLCJTaW1wbGVUeXBlIiwiaXNTaW1wbGVUeXBlIiwiU3RyaW5nTGl0ZXJhbCIsImlzU3RyaW5nTGl0ZXJhbCIsIlRlcm1pbmFsUnVsZSIsImlzVGVybWluYWxSdWxlIiwiVHlwZSIsImlzVHlwZSIsIlR5cGVBdHRyaWJ1dGUiLCJpc1R5cGVBdHRyaWJ1dGUiLCJVbmlvblR5cGUiLCJpc1VuaW9uVHlwZSIsIkFjdGlvbiIsImlzQWN0aW9uIiwiQWx0ZXJuYXRpdmVzIiwiaXNBbHRlcm5hdGl2ZXMiLCJBc3NpZ25tZW50IiwiaXNBc3NpZ25tZW50IiwiQ2hhcmFjdGVyUmFuZ2UiLCJpc0NoYXJhY3RlclJhbmdlIiwiQ3Jvc3NSZWZlcmVuY2UiLCJpc0Nyb3NzUmVmZXJlbmNlIiwiRW5kT2ZGaWxlIiwiaXNFbmRPZkZpbGUiLCJHcm91cCIsImlzR3JvdXAiLCJLZXl3b3JkIiwiaXNLZXl3b3JkIiwiTmVnYXRlZFRva2VuIiwiaXNOZWdhdGVkVG9rZW4iLCJSZWdleFRva2VuIiwiaXNSZWdleFRva2VuIiwiUnVsZUNhbGwiLCJpc1J1bGVDYWxsIiwiVGVybWluYWxBbHRlcm5hdGl2ZXMiLCJpc1Rlcm1pbmFsQWx0ZXJuYXRpdmVzIiwiVGVybWluYWxHcm91cCIsImlzVGVybWluYWxHcm91cCIsIlRlcm1pbmFsUnVsZUNhbGwiLCJpc1Rlcm1pbmFsUnVsZUNhbGwiLCJVbm9yZGVyZWRHcm91cCIsImlzVW5vcmRlcmVkR3JvdXAiLCJVbnRpbFRva2VuIiwiaXNVbnRpbFRva2VuIiwiV2lsZGNhcmQiLCJpc1dpbGRjYXJkIiwiTGFuZ2l1bUdyYW1tYXJBc3RSZWZsZWN0aW9uIiwiZ2V0QWxsVHlwZXMiLCJjb21wdXRlSXNTdWJ0eXBlIiwic3VidHlwZSIsInN1cGVydHlwZSIsImlzU3VidHlwZSIsImdldFJlZmVyZW5jZVR5cGUiLCJyZWZJbmZvIiwicmVmZXJlbmNlSWQiLCJjb250YWluZXIiLCIkdHlwZSIsInByb3BlcnR5IiwiRXJyb3IiLCJnZXRUeXBlTWV0YURhdGEiLCJ0eXBlIiwibmFtZSIsInByb3BlcnRpZXMiLCJkZWZhdWx0VmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/languages/generated/ast.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/languages/grammar-config.js":
/*!**************************************************************!*\
  !*** ./node_modules/langium/lib/languages/grammar-config.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGrammarConfig: () => (/* binding */ createGrammarConfig)\n/* harmony export */ });\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/* harmony import */ var _utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/regexp-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/regexp-utils.js\");\n/* harmony import */ var _generated_ast_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n/**\n * Create the default grammar configuration (used by `createDefaultModule`). This can be overridden in a\n * language-specific module.\n */ function createGrammarConfig(services) {\n    const rules = [];\n    const grammar = services.Grammar;\n    for (const rule of grammar.rules){\n        if ((0,_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRule)(rule) && (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCommentTerminal)(rule) && (0,_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_2__.isMultilineComment)((0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.terminalRegex)(rule))) {\n            rules.push(rule.name);\n        }\n    }\n    return {\n        multilineCommentRules: rules,\n        nameRegexp: _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_3__.DefaultNameRegexp\n    };\n} //# sourceMappingURL=grammar-config.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvbGFuZ3VhZ2VzL2dyYW1tYXItY29uZmlnLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ3BCO0FBQ21CO0FBQ2Y7QUFDVjtBQUNwRDs7O0NBR0MsR0FDTSxTQUFTSyxvQkFBb0JDLFFBQVE7SUFDeEMsTUFBTUMsUUFBUSxFQUFFO0lBQ2hCLE1BQU1DLFVBQVVGLFNBQVNHLE9BQU87SUFDaEMsS0FBSyxNQUFNQyxRQUFRRixRQUFRRCxLQUFLLENBQUU7UUFDOUIsSUFBSUgsaUVBQWNBLENBQUNNLFNBQVNULDBFQUFpQkEsQ0FBQ1MsU0FBU1AsMEVBQWtCQSxDQUFDRCxzRUFBYUEsQ0FBQ1EsUUFBUTtZQUM1RkgsTUFBTUksSUFBSSxDQUFDRCxLQUFLRSxJQUFJO1FBQ3hCO0lBQ0o7SUFDQSxPQUFPO1FBQ0hDLHVCQUF1Qk47UUFDdkJPLFlBQVlkLGtFQUFpQkE7SUFDakM7QUFDSixFQUNBLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL2xhbmd1YWdlcy9ncmFtbWFyLWNvbmZpZy5qcz9jMjZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IERlZmF1bHROYW1lUmVnZXhwIH0gZnJvbSAnLi4vdXRpbHMvY3N0LXV0aWxzLmpzJztcbmltcG9ydCB7IGlzQ29tbWVudFRlcm1pbmFsLCB0ZXJtaW5hbFJlZ2V4IH0gZnJvbSAnLi4vdXRpbHMvZ3JhbW1hci11dGlscy5qcyc7XG5pbXBvcnQgeyBpc011bHRpbGluZUNvbW1lbnQgfSBmcm9tICcuLi91dGlscy9yZWdleHAtdXRpbHMuanMnO1xuaW1wb3J0IHsgaXNUZXJtaW5hbFJ1bGUgfSBmcm9tICcuL2dlbmVyYXRlZC9hc3QuanMnO1xuLyoqXG4gKiBDcmVhdGUgdGhlIGRlZmF1bHQgZ3JhbW1hciBjb25maWd1cmF0aW9uICh1c2VkIGJ5IGBjcmVhdGVEZWZhdWx0TW9kdWxlYCkuIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gaW4gYVxuICogbGFuZ3VhZ2Utc3BlY2lmaWMgbW9kdWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR3JhbW1hckNvbmZpZyhzZXJ2aWNlcykge1xuICAgIGNvbnN0IHJ1bGVzID0gW107XG4gICAgY29uc3QgZ3JhbW1hciA9IHNlcnZpY2VzLkdyYW1tYXI7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIGdyYW1tYXIucnVsZXMpIHtcbiAgICAgICAgaWYgKGlzVGVybWluYWxSdWxlKHJ1bGUpICYmIGlzQ29tbWVudFRlcm1pbmFsKHJ1bGUpICYmIGlzTXVsdGlsaW5lQ29tbWVudCh0ZXJtaW5hbFJlZ2V4KHJ1bGUpKSkge1xuICAgICAgICAgICAgcnVsZXMucHVzaChydWxlLm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG11bHRpbGluZUNvbW1lbnRSdWxlczogcnVsZXMsXG4gICAgICAgIG5hbWVSZWdleHA6IERlZmF1bHROYW1lUmVnZXhwXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYW1tYXItY29uZmlnLmpzLm1hcCJdLCJuYW1lcyI6WyJEZWZhdWx0TmFtZVJlZ2V4cCIsImlzQ29tbWVudFRlcm1pbmFsIiwidGVybWluYWxSZWdleCIsImlzTXVsdGlsaW5lQ29tbWVudCIsImlzVGVybWluYWxSdWxlIiwiY3JlYXRlR3JhbW1hckNvbmZpZyIsInNlcnZpY2VzIiwicnVsZXMiLCJncmFtbWFyIiwiR3JhbW1hciIsInJ1bGUiLCJwdXNoIiwibmFtZSIsIm11bHRpbGluZUNvbW1lbnRSdWxlcyIsIm5hbWVSZWdleHAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/languages/grammar-config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/async-parser.js":
/*!*********************************************************!*\
  !*** ./node_modules/langium/lib/parser/async-parser.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractThreadedAsyncParser: () => (/* binding */ AbstractThreadedAsyncParser),\n/* harmony export */   DefaultAsyncParser: () => (/* binding */ DefaultAsyncParser),\n/* harmony export */   ParserWorker: () => (/* binding */ ParserWorker)\n/* harmony export */ });\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _utils_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/event.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/events.js\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n/**\n * Default implementation of the async parser which simply wraps the sync parser in a promise.\n *\n * @remarks\n * A real implementation would create worker threads or web workers to offload the parsing work.\n */ class DefaultAsyncParser {\n    constructor(services){\n        this.syncParser = services.parser.LangiumParser;\n    }\n    parse(text, _cancelToken) {\n        return Promise.resolve(this.syncParser.parse(text));\n    }\n}\nclass AbstractThreadedAsyncParser {\n    constructor(services){\n        /**\n         * The thread count determines how many threads are used to parse files in parallel.\n         * The default value is 8. Decreasing this value increases startup performance, but decreases parallel parsing performance.\n         */ this.threadCount = 8;\n        /**\n         * The termination delay determines how long the parser waits for a thread to finish after a cancellation request.\n         * The default value is 200(ms).\n         */ this.terminationDelay = 200;\n        this.workerPool = [];\n        this.queue = [];\n        this.hydrator = services.serializer.Hydrator;\n    }\n    initializeWorkers() {\n        while(this.workerPool.length < this.threadCount){\n            const worker = this.createWorker();\n            worker.onReady(()=>{\n                if (this.queue.length > 0) {\n                    const deferred = this.queue.shift();\n                    if (deferred) {\n                        worker.lock();\n                        deferred.resolve(worker);\n                    }\n                }\n            });\n            this.workerPool.push(worker);\n        }\n    }\n    async parse(text, cancelToken) {\n        const worker = await this.acquireParserWorker(cancelToken);\n        const deferred = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.Deferred();\n        let timeout;\n        // If the cancellation token is requested, we wait for a certain time before terminating the worker.\n        // Since the cancellation token lives longer than the parsing process, we need to dispose the event listener.\n        // Otherwise, we might accidentally terminate the worker after the parsing process has finished.\n        const cancellation = cancelToken.onCancellationRequested(()=>{\n            timeout = setTimeout(()=>{\n                this.terminateWorker(worker);\n            }, this.terminationDelay);\n        });\n        worker.parse(text).then((result)=>{\n            const hydrated = this.hydrator.hydrate(result);\n            deferred.resolve(hydrated);\n        }).catch((err)=>{\n            deferred.reject(err);\n        }).finally(()=>{\n            cancellation.dispose();\n            clearTimeout(timeout);\n        });\n        return deferred.promise;\n    }\n    terminateWorker(worker) {\n        worker.terminate();\n        const index = this.workerPool.indexOf(worker);\n        if (index >= 0) {\n            this.workerPool.splice(index, 1);\n        }\n    }\n    async acquireParserWorker(cancelToken) {\n        this.initializeWorkers();\n        for (const worker of this.workerPool){\n            if (worker.ready) {\n                worker.lock();\n                return worker;\n            }\n        }\n        const deferred = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.Deferred();\n        cancelToken.onCancellationRequested(()=>{\n            const index = this.queue.indexOf(deferred);\n            if (index >= 0) {\n                this.queue.splice(index, 1);\n            }\n            deferred.reject(_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.OperationCancelled);\n        });\n        this.queue.push(deferred);\n        return deferred.promise;\n    }\n}\nclass ParserWorker {\n    get ready() {\n        return this._ready;\n    }\n    get onReady() {\n        return this.onReadyEmitter.event;\n    }\n    constructor(sendMessage, onMessage, onError, terminate){\n        this.onReadyEmitter = new _utils_event_js__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n        this.deferred = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.Deferred();\n        this._ready = true;\n        this._parsing = false;\n        this.sendMessage = sendMessage;\n        this._terminate = terminate;\n        onMessage((result)=>{\n            const parseResult = result;\n            this.deferred.resolve(parseResult);\n            this.unlock();\n        });\n        onError((error)=>{\n            this.deferred.reject(error);\n            this.unlock();\n        });\n    }\n    terminate() {\n        this.deferred.reject(_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.OperationCancelled);\n        this._terminate();\n    }\n    lock() {\n        this._ready = false;\n    }\n    unlock() {\n        this._parsing = false;\n        this._ready = true;\n        this.onReadyEmitter.fire();\n    }\n    parse(text) {\n        if (this._parsing) {\n            throw new Error(\"Parser worker is busy\");\n        }\n        this._parsing = true;\n        this.deferred = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.Deferred();\n        this.sendMessage(text);\n        return this.deferred.promise;\n    }\n} //# sourceMappingURL=async-parser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2FzeW5jLXBhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNMO0FBQzdCO0FBQzVDOzs7OztDQUtDLEdBQ00sTUFBTUc7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsVUFBVSxHQUFHRCxTQUFTRSxNQUFNLENBQUNDLGFBQWE7SUFDbkQ7SUFDQUMsTUFBTUMsSUFBSSxFQUFFQyxZQUFZLEVBQUU7UUFDdEIsT0FBT0MsUUFBUUMsT0FBTyxDQUFDLElBQUksQ0FBQ1AsVUFBVSxDQUFDRyxLQUFLLENBQUNDO0lBQ2pEO0FBQ0o7QUFDTyxNQUFNSTtJQUNUVixZQUFZQyxRQUFRLENBQUU7UUFDbEI7OztTQUdDLEdBQ0QsSUFBSSxDQUFDVSxXQUFXLEdBQUc7UUFDbkI7OztTQUdDLEdBQ0QsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUNDLFVBQVUsR0FBRyxFQUFFO1FBQ3BCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLEVBQUU7UUFDZixJQUFJLENBQUNDLFFBQVEsR0FBR2QsU0FBU2UsVUFBVSxDQUFDQyxRQUFRO0lBQ2hEO0lBQ0FDLG9CQUFvQjtRQUNoQixNQUFPLElBQUksQ0FBQ0wsVUFBVSxDQUFDTSxNQUFNLEdBQUcsSUFBSSxDQUFDUixXQUFXLENBQUU7WUFDOUMsTUFBTVMsU0FBUyxJQUFJLENBQUNDLFlBQVk7WUFDaENELE9BQU9FLE9BQU8sQ0FBQztnQkFDWCxJQUFJLElBQUksQ0FBQ1IsS0FBSyxDQUFDSyxNQUFNLEdBQUcsR0FBRztvQkFDdkIsTUFBTUksV0FBVyxJQUFJLENBQUNULEtBQUssQ0FBQ1UsS0FBSztvQkFDakMsSUFBSUQsVUFBVTt3QkFDVkgsT0FBT0ssSUFBSTt3QkFDWEYsU0FBU2QsT0FBTyxDQUFDVztvQkFDckI7Z0JBQ0o7WUFDSjtZQUNBLElBQUksQ0FBQ1AsVUFBVSxDQUFDYSxJQUFJ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dEIsUUFBUSxDQUFDaUIsTUFBTSxDQUFDM0MsdUVBQWtCQTtRQUN2QyxJQUFJLENBQUM2RCxVQUFVO0lBQ25CO0lBQ0FqQyxPQUFPO1FBQ0gsSUFBSSxDQUFDMEIsTUFBTSxHQUFHO0lBQ2xCO0lBQ0FTLFNBQVM7UUFDTCxJQUFJLENBQUNILFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUNOLE1BQU0sR0FBRztRQUNkLElBQUksQ0FBQ0MsY0FBYyxDQUFDVSxJQUFJO0lBQzVCO0lBQ0F6RCxNQUFNQyxJQUFJLEVBQUU7UUFDUixJQUFJLElBQUksQ0FBQ21ELFFBQVEsRUFBRTtZQUNmLE1BQU0sSUFBSU0sTUFBTTtRQUNwQjtRQUNBLElBQUksQ0FBQ04sUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ2xDLFFBQVEsR0FBRyxJQUFJM0IsNkRBQVFBO1FBQzVCLElBQUksQ0FBQzBELFdBQVcsQ0FBQ2hEO1FBQ2pCLE9BQU8sSUFBSSxDQUFDaUIsUUFBUSxDQUFDcUIsT0FBTztJQUNoQztBQUNKLEVBQ0Esd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2FzeW5jLXBhcnNlci5qcz9mZDliIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIzIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IERlZmVycmVkLCBPcGVyYXRpb25DYW5jZWxsZWQgfSBmcm9tICcuLi91dGlscy9wcm9taXNlLXV0aWxzLmpzJztcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi91dGlscy9ldmVudC5qcyc7XG4vKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIGFzeW5jIHBhcnNlciB3aGljaCBzaW1wbHkgd3JhcHMgdGhlIHN5bmMgcGFyc2VyIGluIGEgcHJvbWlzZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogQSByZWFsIGltcGxlbWVudGF0aW9uIHdvdWxkIGNyZWF0ZSB3b3JrZXIgdGhyZWFkcyBvciB3ZWIgd29ya2VycyB0byBvZmZsb2FkIHRoZSBwYXJzaW5nIHdvcmsuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0QXN5bmNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuc3luY1BhcnNlciA9IHNlcnZpY2VzLnBhcnNlci5MYW5naXVtUGFyc2VyO1xuICAgIH1cbiAgICBwYXJzZSh0ZXh0LCBfY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN5bmNQYXJzZXIucGFyc2UodGV4dCkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFRocmVhZGVkQXN5bmNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGhyZWFkIGNvdW50IGRldGVybWluZXMgaG93IG1hbnkgdGhyZWFkcyBhcmUgdXNlZCB0byBwYXJzZSBmaWxlcyBpbiBwYXJhbGxlbC5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgOC4gRGVjcmVhc2luZyB0aGlzIHZhbHVlIGluY3JlYXNlcyBzdGFydHVwIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2VzIHBhcmFsbGVsIHBhcnNpbmcgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRocmVhZENvdW50ID0gODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXJtaW5hdGlvbiBkZWxheSBkZXRlcm1pbmVzIGhvdyBsb25nIHRoZSBwYXJzZXIgd2FpdHMgZm9yIGEgdGhyZWFkIHRvIGZpbmlzaCBhZnRlciBhIGNhbmNlbGxhdGlvbiByZXF1ZXN0LlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAyMDAobXMpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXJtaW5hdGlvbkRlbGF5ID0gMjAwO1xuICAgICAgICB0aGlzLndvcmtlclBvb2wgPSBbXTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmh5ZHJhdG9yID0gc2VydmljZXMuc2VyaWFsaXplci5IeWRyYXRvcjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZVdvcmtlcnMoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLndvcmtlclBvb2wubGVuZ3RoIDwgdGhpcy50aHJlYWRDb3VudCkge1xuICAgICAgICAgICAgY29uc3Qgd29ya2VyID0gdGhpcy5jcmVhdGVXb3JrZXIoKTtcbiAgICAgICAgICAgIHdvcmtlci5vblJlYWR5KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci5sb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHdvcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyUG9vbC5wdXNoKHdvcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2UodGV4dCwgY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5hY3F1aXJlUGFyc2VyV29ya2VyKGNhbmNlbFRva2VuKTtcbiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICAgICAgbGV0IHRpbWVvdXQ7XG4gICAgICAgIC8vIElmIHRoZSBjYW5jZWxsYXRpb24gdG9rZW4gaXMgcmVxdWVzdGVkLCB3ZSB3YWl0IGZvciBhIGNlcnRhaW4gdGltZSBiZWZvcmUgdGVybWluYXRpbmcgdGhlIHdvcmtlci5cbiAgICAgICAgLy8gU2luY2UgdGhlIGNhbmNlbGxhdGlvbiB0b2tlbiBsaXZlcyBsb25nZXIgdGhhbiB0aGUgcGFyc2luZyBwcm9jZXNzLCB3ZSBuZWVkIHRvIGRpc3Bvc2UgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIG1pZ2h0IGFjY2lkZW50YWxseSB0ZXJtaW5hdGUgdGhlIHdvcmtlciBhZnRlciB0aGUgcGFyc2luZyBwcm9jZXNzIGhhcyBmaW5pc2hlZC5cbiAgICAgICAgY29uc3QgY2FuY2VsbGF0aW9uID0gY2FuY2VsVG9rZW4ub25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGVybWluYXRlV29ya2VyKHdvcmtlcik7XG4gICAgICAgICAgICB9LCB0aGlzLnRlcm1pbmF0aW9uRGVsYXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgd29ya2VyLnBhcnNlKHRleHQpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGh5ZHJhdGVkID0gdGhpcy5oeWRyYXRvci5oeWRyYXRlKHJlc3VsdCk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGh5ZHJhdGVkKTtcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbGxhdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG4gICAgdGVybWluYXRlV29ya2VyKHdvcmtlcikge1xuICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy53b3JrZXJQb29sLmluZGV4T2Yod29ya2VyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMud29ya2VyUG9vbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGFjcXVpcmVQYXJzZXJXb3JrZXIoY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplV29ya2VycygpO1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmtlciBvZiB0aGlzLndvcmtlclBvb2wpIHtcbiAgICAgICAgICAgIGlmICh3b3JrZXIucmVhZHkpIHtcbiAgICAgICAgICAgICAgICB3b3JrZXIubG9jaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICAgICAgY2FuY2VsVG9rZW4ub25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnF1ZXVlLmluZGV4T2YoZGVmZXJyZWQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoT3BlcmF0aW9uQ2FuY2VsbGVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVldWUucHVzaChkZWZlcnJlZCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQYXJzZXJXb3JrZXIge1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cbiAgICBnZXQgb25SZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25SZWFkeUVtaXR0ZXIuZXZlbnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHNlbmRNZXNzYWdlLCBvbk1lc3NhZ2UsIG9uRXJyb3IsIHRlcm1pbmF0ZSkge1xuICAgICAgICB0aGlzLm9uUmVhZHlFbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgICAgICB0aGlzLl9yZWFkeSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhcnNpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xuICAgICAgICB0aGlzLl90ZXJtaW5hdGUgPSB0ZXJtaW5hdGU7XG4gICAgICAgIG9uTWVzc2FnZShyZXN1bHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgICB0aGlzLmRlZmVycmVkLnJlc29sdmUocGFyc2VSZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uRXJyb3IoZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgdGhpcy5kZWZlcnJlZC5yZWplY3QoT3BlcmF0aW9uQ2FuY2VsbGVkKTtcbiAgICAgICAgdGhpcy5fdGVybWluYXRlKCk7XG4gICAgfVxuICAgIGxvY2soKSB7XG4gICAgICAgIHRoaXMuX3JlYWR5ID0gZmFsc2U7XG4gICAgfVxuICAgIHVubG9jaygpIHtcbiAgICAgICAgdGhpcy5fcGFyc2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWFkeSA9IHRydWU7XG4gICAgICAgIHRoaXMub25SZWFkeUVtaXR0ZXIuZmlyZSgpO1xuICAgIH1cbiAgICBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLl9wYXJzaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcnNlciB3b3JrZXIgaXMgYnVzeScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BhcnNpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UodGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2U7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMtcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJEZWZlcnJlZCIsIk9wZXJhdGlvbkNhbmNlbGxlZCIsIkVtaXR0ZXIiLCJEZWZhdWx0QXN5bmNQYXJzZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwic3luY1BhcnNlciIsInBhcnNlciIsIkxhbmdpdW1QYXJzZXIiLCJwYXJzZSIsInRleHQiLCJfY2FuY2VsVG9rZW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsIkFic3RyYWN0VGhyZWFkZWRBc3luY1BhcnNlciIsInRocmVhZENvdW50IiwidGVybWluYXRpb25EZWxheSIsIndvcmtlclBvb2wiLCJxdWV1ZSIsImh5ZHJhdG9yIiwic2VyaWFsaXplciIsIkh5ZHJhdG9yIiwiaW5pdGlhbGl6ZVdvcmtlcnMiLCJsZW5ndGgiLCJ3b3JrZXIiLCJjcmVhdGVXb3JrZXIiLCJvblJlYWR5IiwiZGVmZXJyZWQiLCJzaGlmdCIsImxvY2siLCJwdXNoIiwiY2FuY2VsVG9rZW4iLCJhY3F1aXJlUGFyc2VyV29ya2VyIiwidGltZW91dCIsImNhbmNlbGxhdGlvbiIsIm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwic2V0VGltZW91dCIsInRlcm1pbmF0ZVdvcmtlciIsInRoZW4iLCJyZXN1bHQiLCJoeWRyYXRlZCIsImh5ZHJhdGUiLCJjYXRjaCIsImVyciIsInJlamVjdCIsImZpbmFsbHkiLCJkaXNwb3NlIiwiY2xlYXJUaW1lb3V0IiwicHJvbWlzZSIsInRlcm1pbmF0ZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInJlYWR5IiwiUGFyc2VyV29ya2VyIiwiX3JlYWR5Iiwib25SZWFkeUVtaXR0ZXIiLCJldmVudCIsInNlbmRNZXNzYWdlIiwib25NZXNzYWdlIiwib25FcnJvciIsIl9wYXJzaW5nIiwiX3Rlcm1pbmF0ZSIsInBhcnNlUmVzdWx0IiwidW5sb2NrIiwiZXJyb3IiLCJmaXJlIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/async-parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/completion-parser-builder.js":
/*!**********************************************************************!*\
  !*** ./node_modules/langium/lib/parser/completion-parser-builder.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCompletionParser: () => (/* binding */ createCompletionParser)\n/* harmony export */ });\n/* harmony import */ var _langium_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./langium-parser.js */ \"(ssr)/./node_modules/langium/lib/parser/langium-parser.js\");\n/* harmony import */ var _parser_builder_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser-builder-base.js */ \"(ssr)/./node_modules/langium/lib/parser/parser-builder-base.js\");\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nfunction createCompletionParser(services) {\n    const grammar = services.Grammar;\n    const lexer = services.parser.Lexer;\n    const parser = new _langium_parser_js__WEBPACK_IMPORTED_MODULE_0__.LangiumCompletionParser(services);\n    (0,_parser_builder_base_js__WEBPACK_IMPORTED_MODULE_1__.createParser)(grammar, parser, lexer.definition);\n    parser.finalize();\n    return parser;\n} //# sourceMappingURL=completion-parser-builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2NvbXBsZXRpb24tcGFyc2VyLWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ2hCO0FBQ047QUFDakQsU0FBU0UsdUJBQXVCQyxRQUFRO0lBQzNDLE1BQU1DLFVBQVVELFNBQVNFLE9BQU87SUFDaEMsTUFBTUMsUUFBUUgsU0FBU0ksTUFBTSxDQUFDQyxLQUFLO0lBQ25DLE1BQU1ELFNBQVMsSUFBSVAsdUVBQXVCQSxDQUFDRztJQUMzQ0YscUVBQVlBLENBQUNHLFNBQVNHLFFBQVFELE1BQU1HLFVBQVU7SUFDOUNGLE9BQU9HLFFBQVE7SUFDZixPQUFPSDtBQUNYLEVBQ0EscURBQXFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2NvbXBsZXRpb24tcGFyc2VyLWJ1aWxkZXIuanM/ZDZkNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMiBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBMYW5naXVtQ29tcGxldGlvblBhcnNlciB9IGZyb20gJy4vbGFuZ2l1bS1wYXJzZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXItYnVpbGRlci1iYXNlLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wbGV0aW9uUGFyc2VyKHNlcnZpY2VzKSB7XG4gICAgY29uc3QgZ3JhbW1hciA9IHNlcnZpY2VzLkdyYW1tYXI7XG4gICAgY29uc3QgbGV4ZXIgPSBzZXJ2aWNlcy5wYXJzZXIuTGV4ZXI7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IExhbmdpdW1Db21wbGV0aW9uUGFyc2VyKHNlcnZpY2VzKTtcbiAgICBjcmVhdGVQYXJzZXIoZ3JhbW1hciwgcGFyc2VyLCBsZXhlci5kZWZpbml0aW9uKTtcbiAgICBwYXJzZXIuZmluYWxpemUoKTtcbiAgICByZXR1cm4gcGFyc2VyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbi1wYXJzZXItYnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiTGFuZ2l1bUNvbXBsZXRpb25QYXJzZXIiLCJjcmVhdGVQYXJzZXIiLCJjcmVhdGVDb21wbGV0aW9uUGFyc2VyIiwic2VydmljZXMiLCJncmFtbWFyIiwiR3JhbW1hciIsImxleGVyIiwicGFyc2VyIiwiTGV4ZXIiLCJkZWZpbml0aW9uIiwiZmluYWxpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/completion-parser-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/cst-node-builder.js":
/*!*************************************************************!*\
  !*** ./node_modules/langium/lib/parser/cst-node-builder.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractCstNode: () => (/* binding */ AbstractCstNode),\n/* harmony export */   CompositeCstNodeImpl: () => (/* binding */ CompositeCstNodeImpl),\n/* harmony export */   CstNodeBuilder: () => (/* binding */ CstNodeBuilder),\n/* harmony export */   LeafCstNodeImpl: () => (/* binding */ LeafCstNodeImpl),\n/* harmony export */   RootCstNodeImpl: () => (/* binding */ RootCstNodeImpl)\n/* harmony export */ });\n/* harmony import */ var vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode-languageserver-types */ \"(ssr)/./node_modules/vscode-languageserver-types/lib/esm/main.js\");\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nclass CstNodeBuilder {\n    constructor(){\n        this.nodeStack = [];\n    }\n    get current() {\n        var _a;\n        return (_a = this.nodeStack[this.nodeStack.length - 1]) !== null && _a !== void 0 ? _a : this.rootNode;\n    }\n    buildRootNode(input) {\n        this.rootNode = new RootCstNodeImpl(input);\n        this.rootNode.root = this.rootNode;\n        this.nodeStack = [\n            this.rootNode\n        ];\n        return this.rootNode;\n    }\n    buildCompositeNode(feature) {\n        const compositeNode = new CompositeCstNodeImpl();\n        compositeNode.grammarSource = feature;\n        compositeNode.root = this.rootNode;\n        this.current.content.push(compositeNode);\n        this.nodeStack.push(compositeNode);\n        return compositeNode;\n    }\n    buildLeafNode(token, feature) {\n        const leafNode = new LeafCstNodeImpl(token.startOffset, token.image.length, (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__.tokenToRange)(token), token.tokenType, !feature);\n        leafNode.grammarSource = feature;\n        leafNode.root = this.rootNode;\n        this.current.content.push(leafNode);\n        return leafNode;\n    }\n    removeNode(node) {\n        const parent = node.container;\n        if (parent) {\n            const index = parent.content.indexOf(node);\n            if (index >= 0) {\n                parent.content.splice(index, 1);\n            }\n        }\n    }\n    addHiddenNodes(tokens) {\n        const nodes = [];\n        for (const token of tokens){\n            const leafNode = new LeafCstNodeImpl(token.startOffset, token.image.length, (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__.tokenToRange)(token), token.tokenType, true);\n            leafNode.root = this.rootNode;\n            nodes.push(leafNode);\n        }\n        let current = this.current;\n        let added = false;\n        // If we are within a composite node, we add the hidden nodes to the content\n        if (current.content.length > 0) {\n            current.content.push(...nodes);\n            return;\n        }\n        // Otherwise we are at a newly created node\n        // Instead of adding the hidden nodes here, we search for the first parent node with content\n        while(current.container){\n            const index = current.container.content.indexOf(current);\n            if (index > 0) {\n                // Add the hidden nodes before the current node\n                current.container.content.splice(index, 0, ...nodes);\n                added = true;\n                break;\n            }\n            current = current.container;\n        }\n        // If we arrive at the root node, we add the hidden nodes at the beginning\n        // This is the case if the hidden nodes are the first nodes in the tree\n        if (!added) {\n            this.rootNode.content.unshift(...nodes);\n        }\n    }\n    construct(item) {\n        const current = this.current;\n        // The specified item could be a datatype ($type is symbol) or a fragment ($type is undefined)\n        // Only if the $type is a string, we actually assign the element\n        if (typeof item.$type === \"string\") {\n            this.current.astNode = item;\n        }\n        item.$cstNode = current;\n        const node = this.nodeStack.pop();\n        // Empty composite nodes are not valid\n        // Simply remove the node from the tree\n        if ((node === null || node === void 0 ? void 0 : node.content.length) === 0) {\n            this.removeNode(node);\n        }\n    }\n}\nclass AbstractCstNode {\n    /** @deprecated use `container` instead. */ get parent() {\n        return this.container;\n    }\n    /** @deprecated use `grammarSource` instead. */ get feature() {\n        return this.grammarSource;\n    }\n    get hidden() {\n        return false;\n    }\n    get astNode() {\n        var _a, _b;\n        const node = typeof ((_a = this._astNode) === null || _a === void 0 ? void 0 : _a.$type) === \"string\" ? this._astNode : (_b = this.container) === null || _b === void 0 ? void 0 : _b.astNode;\n        if (!node) {\n            throw new Error(\"This node has no associated AST element\");\n        }\n        return node;\n    }\n    set astNode(value) {\n        this._astNode = value;\n    }\n    /** @deprecated use `astNode` instead. */ get element() {\n        return this.astNode;\n    }\n    get text() {\n        return this.root.fullText.substring(this.offset, this.end);\n    }\n}\nclass LeafCstNodeImpl extends AbstractCstNode {\n    get offset() {\n        return this._offset;\n    }\n    get length() {\n        return this._length;\n    }\n    get end() {\n        return this._offset + this._length;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    get tokenType() {\n        return this._tokenType;\n    }\n    get range() {\n        return this._range;\n    }\n    constructor(offset, length, range, tokenType, hidden = false){\n        super();\n        this._hidden = hidden;\n        this._offset = offset;\n        this._tokenType = tokenType;\n        this._length = length;\n        this._range = range;\n    }\n}\nclass CompositeCstNodeImpl extends AbstractCstNode {\n    constructor(){\n        super(...arguments);\n        this.content = new CstNodeContainer(this);\n    }\n    /** @deprecated use `content` instead. */ get children() {\n        return this.content;\n    }\n    get offset() {\n        var _a, _b;\n        return (_b = (_a = this.firstNonHiddenNode) === null || _a === void 0 ? void 0 : _a.offset) !== null && _b !== void 0 ? _b : 0;\n    }\n    get length() {\n        return this.end - this.offset;\n    }\n    get end() {\n        var _a, _b;\n        return (_b = (_a = this.lastNonHiddenNode) === null || _a === void 0 ? void 0 : _a.end) !== null && _b !== void 0 ? _b : 0;\n    }\n    get range() {\n        const firstNode = this.firstNonHiddenNode;\n        const lastNode = this.lastNonHiddenNode;\n        if (firstNode && lastNode) {\n            if (this._rangeCache === undefined) {\n                const { range: firstRange } = firstNode;\n                const { range: lastRange } = lastNode;\n                this._rangeCache = {\n                    start: firstRange.start,\n                    end: lastRange.end.line < firstRange.start.line ? firstRange.start : lastRange.end\n                };\n            }\n            return this._rangeCache;\n        } else {\n            return {\n                start: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(0, 0),\n                end: vscode_languageserver_types__WEBPACK_IMPORTED_MODULE_0__.Position.create(0, 0)\n            };\n        }\n    }\n    get firstNonHiddenNode() {\n        for (const child of this.content){\n            if (!child.hidden) {\n                return child;\n            }\n        }\n        return this.content[0];\n    }\n    get lastNonHiddenNode() {\n        for(let i = this.content.length - 1; i >= 0; i--){\n            const child = this.content[i];\n            if (!child.hidden) {\n                return child;\n            }\n        }\n        return this.content[this.content.length - 1];\n    }\n}\nclass CstNodeContainer extends Array {\n    constructor(parent){\n        super();\n        this.parent = parent;\n        Object.setPrototypeOf(this, CstNodeContainer.prototype);\n    }\n    push(...items) {\n        this.addParents(items);\n        return super.push(...items);\n    }\n    unshift(...items) {\n        this.addParents(items);\n        return super.unshift(...items);\n    }\n    splice(start, count, ...items) {\n        this.addParents(items);\n        return super.splice(start, count, ...items);\n    }\n    addParents(items) {\n        for (const item of items){\n            item.container = this.parent;\n        }\n    }\n}\nclass RootCstNodeImpl extends CompositeCstNodeImpl {\n    get text() {\n        return this._text.substring(this.offset, this.end);\n    }\n    get fullText() {\n        return this._text;\n    }\n    constructor(input){\n        super();\n        this._text = \"\";\n        this._text = input !== null && input !== void 0 ? input : \"\";\n    }\n} //# sourceMappingURL=cst-node-builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2NzdC1ub2RlLWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUN2QjtBQUNGO0FBQzlDLE1BQU1FO0lBQ1RDLGFBQWM7UUFDVixJQUFJLENBQUNDLFNBQVMsR0FBRyxFQUFFO0lBQ3ZCO0lBQ0EsSUFBSUMsVUFBVTtRQUNWLElBQUlDO1FBQ0osT0FBTyxDQUFDQSxLQUFLLElBQUksQ0FBQ0YsU0FBUyxDQUFDLElBQUksQ0FBQ0EsU0FBUyxDQUFDRyxNQUFNLEdBQUcsRUFBRSxNQUFNLFFBQVFELE9BQU8sS0FBSyxJQUFJQSxLQUFLLElBQUksQ0FBQ0UsUUFBUTtJQUMxRztJQUNBQyxjQUFjQyxLQUFLLEVBQUU7UUFDakIsSUFBSSxDQUFDRixRQUFRLEdBQUcsSUFBSUcsZ0JBQWdCRDtRQUNwQyxJQUFJLENBQUNGLFFBQVEsQ0FBQ0ksSUFBSSxHQUFHLElBQUksQ0FBQ0osUUFBUTtRQUNsQyxJQUFJLENBQUNKLFNBQVMsR0FBRztZQUFDLElBQUksQ0FBQ0ksUUFBUTtTQUFDO1FBQ2hDLE9BQU8sSUFBSSxDQUFDQSxRQUFRO0lBQ3hCO0lBQ0FLLG1CQUFtQkMsT0FBTyxFQUFFO1FBQ3hCLE1BQU1DLGdCQUFnQixJQUFJQztRQUMxQkQsY0FBY0UsYUFBYSxHQUFHSDtRQUM5QkMsY0FBY0gsSUFBSSxHQUFHLElBQUksQ0FBQ0osUUFBUTtRQUNsQyxJQUFJLENBQUNILE9BQU8sQ0FBQ2EsT0FBTyxDQUFDQyxJQUFJLENBQUNKO1FBQzFCLElBQUksQ0FBQ1gsU0FBUyxDQUFDZSxJQUFJLENBQUNKO1FBQ3BCLE9BQU9BO0lBQ1g7SUFDQUssY0FBY0MsS0FBSyxFQUFFUCxPQUFPLEVBQUU7UUFDMUIsTUFBTVEsV0FBVyxJQUFJQyxnQkFBZ0JGLE1BQU1HLFdBQVcsRUFBRUgsTUFBTUksS0FBSyxDQUFDbEIsTUFBTSxFQUFFTixpRUFBWUEsQ0FBQ29CLFFBQVFB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RUFBRWpCLGlCQUFpQmtCLFNBQVM7SUFDMUQ7SUFDQS9ELEtBQUssR0FBR2dFLEtBQUssRUFBRTtRQUNYLElBQUksQ0FBQ0MsVUFBVSxDQUFDRDtRQUNoQixPQUFPLEtBQUssQ0FBQ2hFLFFBQVFnRTtJQUN6QjtJQUNBN0MsUUFBUSxHQUFHNkMsS0FBSyxFQUFFO1FBQ2QsSUFBSSxDQUFDQyxVQUFVLENBQUNEO1FBQ2hCLE9BQU8sS0FBSyxDQUFDN0MsV0FBVzZDO0lBQzVCO0lBQ0FsRCxPQUFPeUMsS0FBSyxFQUFFVyxLQUFLLEVBQUUsR0FBR0YsS0FBSyxFQUFFO1FBQzNCLElBQUksQ0FBQ0MsVUFBVSxDQUFDRDtRQUNoQixPQUFPLEtBQUssQ0FBQ2xELE9BQU95QyxPQUFPVyxVQUFVRjtJQUN6QztJQUNBQyxXQUFXRCxLQUFLLEVBQUU7UUFDZCxLQUFLLE1BQU0zQyxRQUFRMkMsTUFBTztZQUN0QjNDLEtBQUtWLFNBQVMsR0FBRyxJQUFJLENBQUNELE1BQU07UUFDaEM7SUFDSjtBQUNKO0FBQ08sTUFBTWxCLHdCQUF3Qks7SUFDakMsSUFBSW9DLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQ2tDLEtBQUssQ0FBQ2hDLFNBQVMsQ0FBQyxJQUFJLENBQUNDLE1BQU0sRUFBRSxJQUFJLENBQUNDLEdBQUc7SUFDckQ7SUFDQSxJQUFJSCxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUNpQyxLQUFLO0lBQ3JCO0lBQ0FuRixZQUFZTyxLQUFLLENBQUU7UUFDZixLQUFLO1FBQ0wsSUFBSSxDQUFDNEUsS0FBSyxHQUFHO1FBQ2IsSUFBSSxDQUFDQSxLQUFLLEdBQUc1RSxVQUFVLFFBQVFBLFVBQVUsS0FBSyxJQUFJQSxRQUFRO0lBQzlEO0FBQ0osRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi9wYXJzZXIvY3N0LW5vZGUtYnVpbGRlci5qcz9kYTUzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAndnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzJztcbmltcG9ydCB7IHRva2VuVG9SYW5nZSB9IGZyb20gJy4uL3V0aWxzL2NzdC11dGlscy5qcyc7XG5leHBvcnQgY2xhc3MgQ3N0Tm9kZUJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5vZGVTdGFjayA9IFtdO1xuICAgIH1cbiAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoIC0gMV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMucm9vdE5vZGU7XG4gICAgfVxuICAgIGJ1aWxkUm9vdE5vZGUoaW5wdXQpIHtcbiAgICAgICAgdGhpcy5yb290Tm9kZSA9IG5ldyBSb290Q3N0Tm9kZUltcGwoaW5wdXQpO1xuICAgICAgICB0aGlzLnJvb3ROb2RlLnJvb3QgPSB0aGlzLnJvb3ROb2RlO1xuICAgICAgICB0aGlzLm5vZGVTdGFjayA9IFt0aGlzLnJvb3ROb2RlXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdE5vZGU7XG4gICAgfVxuICAgIGJ1aWxkQ29tcG9zaXRlTm9kZShmZWF0dXJlKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvc2l0ZU5vZGUgPSBuZXcgQ29tcG9zaXRlQ3N0Tm9kZUltcGwoKTtcbiAgICAgICAgY29tcG9zaXRlTm9kZS5ncmFtbWFyU291cmNlID0gZmVhdHVyZTtcbiAgICAgICAgY29tcG9zaXRlTm9kZS5yb290ID0gdGhpcy5yb290Tm9kZTtcbiAgICAgICAgdGhpcy5jdXJyZW50LmNvbnRlbnQucHVzaChjb21wb3NpdGVOb2RlKTtcbiAgICAgICAgdGhpcy5ub2RlU3RhY2sucHVzaChjb21wb3NpdGVOb2RlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZU5vZGU7XG4gICAgfVxuICAgIGJ1aWxkTGVhZk5vZGUodG9rZW4sIGZlYXR1cmUpIHtcbiAgICAgICAgY29uc3QgbGVhZk5vZGUgPSBuZXcgTGVhZkNzdE5vZGVJbXBsKHRva2VuLnN0YXJ0T2Zmc2V0LCB0b2tlbi5pbWFnZS5sZW5ndGgsIHRva2VuVG9SYW5nZSh0b2tlbiksIHRva2VuLnRva2VuVHlwZSwgIWZlYXR1cmUpO1xuICAgICAgICBsZWFmTm9kZS5ncmFtbWFyU291cmNlID0gZmVhdHVyZTtcbiAgICAgICAgbGVhZk5vZGUucm9vdCA9IHRoaXMucm9vdE5vZGU7XG4gICAgICAgIHRoaXMuY3VycmVudC5jb250ZW50LnB1c2gobGVhZk5vZGUpO1xuICAgICAgICByZXR1cm4gbGVhZk5vZGU7XG4gICAgfVxuICAgIHJlbW92ZU5vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuY29udGVudC5pbmRleE9mKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuY29udGVudC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEhpZGRlbk5vZGVzKHRva2Vucykge1xuICAgICAgICBjb25zdCBub2RlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgICAgY29uc3QgbGVhZk5vZGUgPSBuZXcgTGVhZkNzdE5vZGVJbXBsKHRva2VuLnN0YXJ0T2Zmc2V0LCB0b2tlbi5pbWFnZS5sZW5ndGgsIHRva2VuVG9SYW5nZSh0b2tlbiksIHRva2VuLnRva2VuVHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICBsZWFmTm9kZS5yb290ID0gdGhpcy5yb290Tm9kZTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2gobGVhZk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gSWYgd2UgYXJlIHdpdGhpbiBhIGNvbXBvc2l0ZSBub2RlLCB3ZSBhZGQgdGhlIGhpZGRlbiBub2RlcyB0byB0aGUgY29udGVudFxuICAgICAgICBpZiAoY3VycmVudC5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnQuY29udGVudC5wdXNoKC4uLm5vZGVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgYXJlIGF0IGEgbmV3bHkgY3JlYXRlZCBub2RlXG4gICAgICAgIC8vIEluc3RlYWQgb2YgYWRkaW5nIHRoZSBoaWRkZW4gbm9kZXMgaGVyZSwgd2Ugc2VhcmNoIGZvciB0aGUgZmlyc3QgcGFyZW50IG5vZGUgd2l0aCBjb250ZW50XG4gICAgICAgIHdoaWxlIChjdXJyZW50LmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjdXJyZW50LmNvbnRhaW5lci5jb250ZW50LmluZGV4T2YoY3VycmVudCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBoaWRkZW4gbm9kZXMgYmVmb3JlIHRoZSBjdXJyZW50IG5vZGVcbiAgICAgICAgICAgICAgICBjdXJyZW50LmNvbnRhaW5lci5jb250ZW50LnNwbGljZShpbmRleCwgMCwgLi4ubm9kZXMpO1xuICAgICAgICAgICAgICAgIGFkZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBhcnJpdmUgYXQgdGhlIHJvb3Qgbm9kZSwgd2UgYWRkIHRoZSBoaWRkZW4gbm9kZXMgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBjYXNlIGlmIHRoZSBoaWRkZW4gbm9kZXMgYXJlIHRoZSBmaXJzdCBub2RlcyBpbiB0aGUgdHJlZVxuICAgICAgICBpZiAoIWFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3ROb2RlLmNvbnRlbnQudW5zaGlmdCguLi5ub2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0KGl0ZW0pIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgLy8gVGhlIHNwZWNpZmllZCBpdGVtIGNvdWxkIGJlIGEgZGF0YXR5cGUgKCR0eXBlIGlzIHN5bWJvbCkgb3IgYSBmcmFnbWVudCAoJHR5cGUgaXMgdW5kZWZpbmVkKVxuICAgICAgICAvLyBPbmx5IGlmIHRoZSAkdHlwZSBpcyBhIHN0cmluZywgd2UgYWN0dWFsbHkgYXNzaWduIHRoZSBlbGVtZW50XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbS4kdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5hc3ROb2RlID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtLiRjc3ROb2RlID0gY3VycmVudDtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAvLyBFbXB0eSBjb21wb3NpdGUgbm9kZXMgYXJlIG5vdCB2YWxpZFxuICAgICAgICAvLyBTaW1wbHkgcmVtb3ZlIHRoZSBub2RlIGZyb20gdGhlIHRyZWVcbiAgICAgICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuY29udGVudC5sZW5ndGgpID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWJzdHJhY3RDc3ROb2RlIHtcbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGBjb250YWluZXJgIGluc3RlYWQuICovXG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGBncmFtbWFyU291cmNlYCBpbnN0ZWFkLiAqL1xuICAgIGdldCBmZWF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFyU291cmNlO1xuICAgIH1cbiAgICBnZXQgaGlkZGVuKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldCBhc3ROb2RlKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBub2RlID0gdHlwZW9mICgoX2EgPSB0aGlzLl9hc3ROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuJHR5cGUpID09PSAnc3RyaW5nJyA/IHRoaXMuX2FzdE5vZGUgOiAoX2IgPSB0aGlzLmNvbnRhaW5lcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmFzdE5vZGU7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG5vZGUgaGFzIG5vIGFzc29jaWF0ZWQgQVNUIGVsZW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgc2V0IGFzdE5vZGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXN0Tm9kZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGBhc3ROb2RlYCBpbnN0ZWFkLiAqL1xuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3ROb2RlO1xuICAgIH1cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5mdWxsVGV4dC5zdWJzdHJpbmcodGhpcy5vZmZzZXQsIHRoaXMuZW5kKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTGVhZkNzdE5vZGVJbXBsIGV4dGVuZHMgQWJzdHJhY3RDc3ROb2RlIHtcbiAgICBnZXQgb2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgZW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0ICsgdGhpcy5fbGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgaGlkZGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGlkZGVuO1xuICAgIH1cbiAgICBnZXQgdG9rZW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5UeXBlO1xuICAgIH1cbiAgICBnZXQgcmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob2Zmc2V0LCBsZW5ndGgsIHJhbmdlLCB0b2tlblR5cGUsIGhpZGRlbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2hpZGRlbiA9IGhpZGRlbjtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLl90b2tlblR5cGUgPSB0b2tlblR5cGU7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlQ3N0Tm9kZUltcGwgZXh0ZW5kcyBBYnN0cmFjdENzdE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgQ3N0Tm9kZUNvbnRhaW5lcih0aGlzKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIHVzZSBgY29udGVudGAgaW5zdGVhZC4gKi9cbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gICAgfVxuICAgIGdldCBvZmZzZXQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmZpcnN0Tm9uSGlkZGVuTm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9mZnNldCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kIC0gdGhpcy5vZmZzZXQ7XG4gICAgfVxuICAgIGdldCBlbmQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmxhc3ROb25IaWRkZW5Ob2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5kKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgIH1cbiAgICBnZXQgcmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0Tm9kZSA9IHRoaXMuZmlyc3ROb25IaWRkZW5Ob2RlO1xuICAgICAgICBjb25zdCBsYXN0Tm9kZSA9IHRoaXMubGFzdE5vbkhpZGRlbk5vZGU7XG4gICAgICAgIGlmIChmaXJzdE5vZGUgJiYgbGFzdE5vZGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yYW5nZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJhbmdlOiBmaXJzdFJhbmdlIH0gPSBmaXJzdE5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByYW5nZTogbGFzdFJhbmdlIH0gPSBsYXN0Tm9kZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZUNhY2hlID0geyBzdGFydDogZmlyc3RSYW5nZS5zdGFydCwgZW5kOiBsYXN0UmFuZ2UuZW5kLmxpbmUgPCBmaXJzdFJhbmdlLnN0YXJ0LmxpbmUgPyBmaXJzdFJhbmdlLnN0YXJ0IDogbGFzdFJhbmdlLmVuZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlQ2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogUG9zaXRpb24uY3JlYXRlKDAsIDApLCBlbmQ6IFBvc2l0aW9uLmNyZWF0ZSgwLCAwKSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmaXJzdE5vbkhpZGRlbk5vZGUoKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWNoaWxkLmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50WzBdO1xuICAgIH1cbiAgICBnZXQgbGFzdE5vbkhpZGRlbk5vZGUoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jb250ZW50W2ldO1xuICAgICAgICAgICAgaWYgKCFjaGlsZC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgfVxufVxuY2xhc3MgQ3N0Tm9kZUNvbnRhaW5lciBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDc3ROb2RlQ29udGFpbmVyLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIHB1c2goLi4uaXRlbXMpIHtcbiAgICAgICAgdGhpcy5hZGRQYXJlbnRzKGl0ZW1zKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnB1c2goLi4uaXRlbXMpO1xuICAgIH1cbiAgICB1bnNoaWZ0KC4uLml0ZW1zKSB7XG4gICAgICAgIHRoaXMuYWRkUGFyZW50cyhpdGVtcyk7XG4gICAgICAgIHJldHVybiBzdXBlci51bnNoaWZ0KC4uLml0ZW1zKTtcbiAgICB9XG4gICAgc3BsaWNlKHN0YXJ0LCBjb3VudCwgLi4uaXRlbXMpIHtcbiAgICAgICAgdGhpcy5hZGRQYXJlbnRzKGl0ZW1zKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNwbGljZShzdGFydCwgY291bnQsIC4uLml0ZW1zKTtcbiAgICB9XG4gICAgYWRkUGFyZW50cyhpdGVtcykge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGl0ZW0uY29udGFpbmVyID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUm9vdENzdE5vZGVJbXBsIGV4dGVuZHMgQ29tcG9zaXRlQ3N0Tm9kZUltcGwge1xuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dC5zdWJzdHJpbmcodGhpcy5vZmZzZXQsIHRoaXMuZW5kKTtcbiAgICB9XG4gICAgZ2V0IGZ1bGxUZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdGV4dCA9ICcnO1xuICAgICAgICB0aGlzLl90ZXh0ID0gaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09IHZvaWQgMCA/IGlucHV0IDogJyc7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3N0LW5vZGUtYnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiUG9zaXRpb24iLCJ0b2tlblRvUmFuZ2UiLCJDc3ROb2RlQnVpbGRlciIsImNvbnN0cnVjdG9yIiwibm9kZVN0YWNrIiwiY3VycmVudCIsIl9hIiwibGVuZ3RoIiwicm9vdE5vZGUiLCJidWlsZFJvb3ROb2RlIiwiaW5wdXQiLCJSb290Q3N0Tm9kZUltcGwiLCJyb290IiwiYnVpbGRDb21wb3NpdGVOb2RlIiwiZmVhdHVyZSIsImNvbXBvc2l0ZU5vZGUiLCJDb21wb3NpdGVDc3ROb2RlSW1wbCIsImdyYW1tYXJTb3VyY2UiLCJjb250ZW50IiwicHVzaCIsImJ1aWxkTGVhZk5vZGUiLCJ0b2tlbiIsImxlYWZOb2RlIiwiTGVhZkNzdE5vZGVJbXBsIiwic3RhcnRPZmZzZXQiLCJpbWFnZSIsInRva2VuVHlwZSIsInJlbW92ZU5vZGUiLCJub2RlIiwicGFyZW50IiwiY29udGFpbmVyIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiYWRkSGlkZGVuTm9kZXMiLCJ0b2tlbnMiLCJub2RlcyIsImFkZGVkIiwidW5zaGlmdCIsImNvbnN0cnVjdCIsIml0ZW0iLCIkdHlwZSIsImFzdE5vZGUiLCIkY3N0Tm9kZSIsInBvcCIsIkFic3RyYWN0Q3N0Tm9kZSIsImhpZGRlbiIsIl9iIiwiX2FzdE5vZGUiLCJFcnJvciIsInZhbHVlIiwiZWxlbWVudCIsInRleHQiLCJmdWxsVGV4dCIsInN1YnN0cmluZyIsIm9mZnNldCIsImVuZCIsIl9vZmZzZXQiLCJfbGVuZ3RoIiwiX2hpZGRlbiIsIl90b2tlblR5cGUiLCJyYW5nZSIsIl9yYW5nZSIsImFyZ3VtZW50cyIsIkNzdE5vZGVDb250YWluZXIiLCJjaGlsZHJlbiIsImZpcnN0Tm9uSGlkZGVuTm9kZSIsImxhc3ROb25IaWRkZW5Ob2RlIiwiZmlyc3ROb2RlIiwibGFzdE5vZGUiLCJfcmFuZ2VDYWNoZSIsInVuZGVmaW5lZCIsImZpcnN0UmFuZ2UiLCJsYXN0UmFuZ2UiLCJzdGFydCIsImxpbmUiLCJjcmVhdGUiLCJjaGlsZCIsImkiLCJBcnJheSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiaXRlbXMiLCJhZGRQYXJlbnRzIiwiY291bnQiLCJfdGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/cst-node-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/langium-parser-builder.js":
/*!*******************************************************************!*\
  !*** ./node_modules/langium/lib/parser/langium-parser-builder.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLangiumParser: () => (/* binding */ createLangiumParser),\n/* harmony export */   prepareLangiumParser: () => (/* binding */ prepareLangiumParser)\n/* harmony export */ });\n/* harmony import */ var _langium_parser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./langium-parser.js */ \"(ssr)/./node_modules/langium/lib/parser/langium-parser.js\");\n/* harmony import */ var _parser_builder_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser-builder-base.js */ \"(ssr)/./node_modules/langium/lib/parser/parser-builder-base.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n/**\n * Create and finalize a Langium parser. The parser rules are derived from the grammar, which is\n * available at `services.Grammar`.\n */ function createLangiumParser(services) {\n    const parser = prepareLangiumParser(services);\n    parser.finalize();\n    return parser;\n}\n/**\n * Create a Langium parser without finalizing it. This is used to extract more detailed error\n * information when the parser is initially validated.\n */ function prepareLangiumParser(services) {\n    const grammar = services.Grammar;\n    const lexer = services.parser.Lexer;\n    const parser = new _langium_parser_js__WEBPACK_IMPORTED_MODULE_0__.LangiumParser(services);\n    return (0,_parser_builder_base_js__WEBPACK_IMPORTED_MODULE_1__.createParser)(grammar, parser, lexer.definition);\n} //# sourceMappingURL=langium-parser-builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2xhbmdpdW0tcGFyc2VyLWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUMxQjtBQUNJO0FBQ3hEOzs7Q0FHQyxHQUNNLFNBQVNFLG9CQUFvQkMsUUFBUTtJQUN4QyxNQUFNQyxTQUFTQyxxQkFBcUJGO0lBQ3BDQyxPQUFPRSxRQUFRO0lBQ2YsT0FBT0Y7QUFDWDtBQUNBOzs7Q0FHQyxHQUNNLFNBQVNDLHFCQUFxQkYsUUFBUTtJQUN6QyxNQUFNSSxVQUFVSixTQUFTSyxPQUFPO0lBQ2hDLE1BQU1DLFFBQVFOLFNBQVNDLE1BQU0sQ0FBQ00sS0FBSztJQUNuQyxNQUFNTixTQUFTLElBQUlKLDZEQUFhQSxDQUFDRztJQUNqQyxPQUFPRixxRUFBWUEsQ0FBQ00sU0FBU0gsUUFBUUssTUFBTUUsVUFBVTtBQUN6RCxFQUNBLGtEQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3BhcnNlci9sYW5naXVtLXBhcnNlci1idWlsZGVyLmpzP2FjZWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgTGFuZ2l1bVBhcnNlciB9IGZyb20gJy4vbGFuZ2l1bS1wYXJzZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXItYnVpbGRlci1iYXNlLmpzJztcbi8qKlxuICogQ3JlYXRlIGFuZCBmaW5hbGl6ZSBhIExhbmdpdW0gcGFyc2VyLiBUaGUgcGFyc2VyIHJ1bGVzIGFyZSBkZXJpdmVkIGZyb20gdGhlIGdyYW1tYXIsIHdoaWNoIGlzXG4gKiBhdmFpbGFibGUgYXQgYHNlcnZpY2VzLkdyYW1tYXJgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGFuZ2l1bVBhcnNlcihzZXJ2aWNlcykge1xuICAgIGNvbnN0IHBhcnNlciA9IHByZXBhcmVMYW5naXVtUGFyc2VyKHNlcnZpY2VzKTtcbiAgICBwYXJzZXIuZmluYWxpemUoKTtcbiAgICByZXR1cm4gcGFyc2VyO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBMYW5naXVtIHBhcnNlciB3aXRob3V0IGZpbmFsaXppbmcgaXQuIFRoaXMgaXMgdXNlZCB0byBleHRyYWN0IG1vcmUgZGV0YWlsZWQgZXJyb3JcbiAqIGluZm9ybWF0aW9uIHdoZW4gdGhlIHBhcnNlciBpcyBpbml0aWFsbHkgdmFsaWRhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUxhbmdpdW1QYXJzZXIoc2VydmljZXMpIHtcbiAgICBjb25zdCBncmFtbWFyID0gc2VydmljZXMuR3JhbW1hcjtcbiAgICBjb25zdCBsZXhlciA9IHNlcnZpY2VzLnBhcnNlci5MZXhlcjtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgTGFuZ2l1bVBhcnNlcihzZXJ2aWNlcyk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhcnNlcihncmFtbWFyLCBwYXJzZXIsIGxleGVyLmRlZmluaXRpb24pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ2l1bS1wYXJzZXItYnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiTGFuZ2l1bVBhcnNlciIsImNyZWF0ZVBhcnNlciIsImNyZWF0ZUxhbmdpdW1QYXJzZXIiLCJzZXJ2aWNlcyIsInBhcnNlciIsInByZXBhcmVMYW5naXVtUGFyc2VyIiwiZmluYWxpemUiLCJncmFtbWFyIiwiR3JhbW1hciIsImxleGVyIiwiTGV4ZXIiLCJkZWZpbml0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/langium-parser-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/langium-parser.js":
/*!***********************************************************!*\
  !*** ./node_modules/langium/lib/parser/langium-parser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractLangiumParser: () => (/* binding */ AbstractLangiumParser),\n/* harmony export */   AbstractParserErrorMessageProvider: () => (/* binding */ AbstractParserErrorMessageProvider),\n/* harmony export */   DatatypeSymbol: () => (/* binding */ DatatypeSymbol),\n/* harmony export */   LangiumCompletionParser: () => (/* binding */ LangiumCompletionParser),\n/* harmony export */   LangiumParser: () => (/* binding */ LangiumParser),\n/* harmony export */   LangiumParserErrorMessageProvider: () => (/* binding */ LangiumParserErrorMessageProvider)\n/* harmony export */ });\n/* harmony import */ var chevrotain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chevrotain */ \"(ssr)/./node_modules/chevrotain/lib/src/api.js\");\n/* harmony import */ var chevrotain_allstar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chevrotain-allstar */ \"(ssr)/./node_modules/chevrotain-allstar/lib/index.js\");\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _cst_node_builder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cst-node-builder.js */ \"(ssr)/./node_modules/langium/lib/parser/cst-node-builder.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\nconst DatatypeSymbol = Symbol(\"Datatype\");\nfunction isDataTypeNode(node) {\n    return node.$type === DatatypeSymbol;\n}\nconst ruleSuffix = \"​\";\nconst withRuleSuffix = (name)=>name.endsWith(ruleSuffix) ? name : name + ruleSuffix;\nclass AbstractLangiumParser {\n    constructor(services){\n        this._unorderedGroups = new Map();\n        this.allRules = new Map();\n        this.lexer = services.parser.Lexer;\n        const tokens = this.lexer.definition;\n        const production = services.LanguageMetaData.mode === \"production\";\n        this.wrapper = new ChevrotainWrapper(tokens, Object.assign(Object.assign({}, services.parser.ParserConfig), {\n            skipValidations: production,\n            errorMessageProvider: services.parser.ParserErrorMessageProvider\n        }));\n    }\n    alternatives(idx, choices) {\n        this.wrapper.wrapOr(idx, choices);\n    }\n    optional(idx, callback) {\n        this.wrapper.wrapOption(idx, callback);\n    }\n    many(idx, callback) {\n        this.wrapper.wrapMany(idx, callback);\n    }\n    atLeastOne(idx, callback) {\n        this.wrapper.wrapAtLeastOne(idx, callback);\n    }\n    getRule(name) {\n        return this.allRules.get(name);\n    }\n    isRecording() {\n        return this.wrapper.IS_RECORDING;\n    }\n    get unorderedGroups() {\n        return this._unorderedGroups;\n    }\n    getRuleStack() {\n        return this.wrapper.RULE_STACK;\n    }\n    finalize() {\n        this.wrapper.wrapSelfAnalysis();\n    }\n}\nclass LangiumParser extends AbstractLangiumParser {\n    get current() {\n        return this.stack[this.stack.length - 1];\n    }\n    constructor(services){\n        super(services);\n        this.nodeBuilder = new _cst_node_builder_js__WEBPACK_IMPORTED_MODULE_2__.CstNodeBuilder();\n        this.stack = [];\n        this.assignmentMap = new Map();\n        this.linker = services.references.Linker;\n        this.converter = services.parser.ValueConverter;\n        this.astReflection = services.shared.AstReflection;\n    }\n    rule(rule, impl) {\n        const type = this.computeRuleType(rule);\n        const ruleMethod = this.wrapper.DEFINE_RULE(withRuleSuffix(rule.name), this.startImplementation(type, impl).bind(this));\n        this.allRules.set(rule.name, ruleMethod);\n        if (rule.entry) {\n            this.mainRule = ruleMethod;\n        }\n        return ruleMethod;\n    }\n    computeRuleType(rule) {\n        if (rule.fragment) {\n            return undefined;\n        } else if ((0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_3__.isDataTypeRule)(rule)) {\n            return DatatypeSymbol;\n        } else {\n            const explicit = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_3__.getExplicitRuleType)(rule);\n            return explicit !== null && explicit !== void 0 ? explicit : rule.name;\n        }\n    }\n    parse(input, options = {}) {\n        this.nodeBuilder.buildRootNode(input);\n        const lexerResult = this.lexerResult = this.lexer.tokenize(input);\n        this.wrapper.input = lexerResult.tokens;\n        const ruleMethod = options.rule ? this.allRules.get(options.rule) : this.mainRule;\n        if (!ruleMethod) {\n            throw new Error(options.rule ? `No rule found with name '${options.rule}'` : \"No main rule available.\");\n        }\n        const result = ruleMethod.call(this.wrapper, {});\n        this.nodeBuilder.addHiddenNodes(lexerResult.hidden);\n        this.unorderedGroups.clear();\n        this.lexerResult = undefined;\n        return {\n            value: result,\n            lexerErrors: lexerResult.errors,\n            lexerReport: lexerResult.report,\n            parserErrors: this.wrapper.errors\n        };\n    }\n    startImplementation($type, implementation) {\n        return (args)=>{\n            // Only create a new AST node in case the calling rule is not a fragment rule\n            const createNode = !this.isRecording() && $type !== undefined;\n            if (createNode) {\n                const node = {\n                    $type\n                };\n                this.stack.push(node);\n                if ($type === DatatypeSymbol) {\n                    node.value = \"\";\n                }\n            }\n            let result;\n            try {\n                result = implementation(args);\n            } catch (err) {\n                result = undefined;\n            }\n            if (result === undefined && createNode) {\n                result = this.construct();\n            }\n            return result;\n        };\n    }\n    extractHiddenTokens(token) {\n        const hiddenTokens = this.lexerResult.hidden;\n        if (!hiddenTokens.length) {\n            return [];\n        }\n        const offset = token.startOffset;\n        for(let i = 0; i < hiddenTokens.length; i++){\n            const token = hiddenTokens[i];\n            if (token.startOffset > offset) {\n                return hiddenTokens.splice(0, i);\n            }\n        }\n        return hiddenTokens.splice(0, hiddenTokens.length);\n    }\n    consume(idx, tokenType, feature) {\n        const token = this.wrapper.wrapConsume(idx, tokenType);\n        if (!this.isRecording() && this.isValidToken(token)) {\n            const hiddenTokens = this.extractHiddenTokens(token);\n            this.nodeBuilder.addHiddenNodes(hiddenTokens);\n            const leafNode = this.nodeBuilder.buildLeafNode(token, feature);\n            const { assignment, isCrossRef } = this.getAssignment(feature);\n            const current = this.current;\n            if (assignment) {\n                const convertedValue = (0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isKeyword)(feature) ? token.image : this.converter.convert(token.image, leafNode);\n                this.assign(assignment.operator, assignment.feature, convertedValue, leafNode, isCrossRef);\n            } else if (isDataTypeNode(current)) {\n                let text = token.image;\n                if (!(0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isKeyword)(feature)) {\n                    text = this.converter.convert(text, leafNode).toString();\n                }\n                current.value += text;\n            }\n        }\n    }\n    /**\n     * Most consumed parser tokens are valid. However there are two cases in which they are not valid:\n     *\n     * 1. They were inserted during error recovery by the parser. These tokens don't really exist and should not be further processed\n     * 2. They contain invalid token ranges. This might include the special EOF token, or other tokens produced by invalid token builders.\n     */ isValidToken(token) {\n        return !token.isInsertedInRecovery && !isNaN(token.startOffset) && typeof token.endOffset === \"number\" && !isNaN(token.endOffset);\n    }\n    subrule(idx, rule, fragment, feature, args) {\n        let cstNode;\n        if (!this.isRecording() && !fragment) {\n            // We only want to create a new CST node if the subrule actually creates a new AST node.\n            // In other cases like calls of fragment rules the current CST/AST is populated further.\n            // Note that skipping this initialization and leaving cstNode unassigned also skips the subrule assignment later on.\n            // This is intended, as fragment rules only enrich the current AST node\n            cstNode = this.nodeBuilder.buildCompositeNode(feature);\n        }\n        const subruleResult = this.wrapper.wrapSubrule(idx, rule, args);\n        if (!this.isRecording() && cstNode && cstNode.length > 0) {\n            this.performSubruleAssignment(subruleResult, feature, cstNode);\n        }\n    }\n    performSubruleAssignment(result, feature, cstNode) {\n        const { assignment, isCrossRef } = this.getAssignment(feature);\n        if (assignment) {\n            this.assign(assignment.operator, assignment.feature, result, cstNode, isCrossRef);\n        } else if (!assignment) {\n            // If we call a subrule without an assignment we either:\n            // 1. append the result of the subrule (data type rule)\n            // 2. override the current object with the newly parsed object\n            // If the current element is an AST node and the result of the subrule\n            // is a data type rule, we can safely discard the results.\n            const current = this.current;\n            if (isDataTypeNode(current)) {\n                current.value += result.toString();\n            } else if (typeof result === \"object\" && result) {\n                const object = this.assignWithoutOverride(result, current);\n                const newItem = object;\n                this.stack.pop();\n                this.stack.push(newItem);\n            }\n        }\n    }\n    action($type, action) {\n        if (!this.isRecording()) {\n            let last = this.current;\n            if (action.feature && action.operator) {\n                last = this.construct();\n                this.nodeBuilder.removeNode(last.$cstNode);\n                const node = this.nodeBuilder.buildCompositeNode(action);\n                node.content.push(last.$cstNode);\n                const newItem = {\n                    $type\n                };\n                this.stack.push(newItem);\n                this.assign(action.operator, action.feature, last, last.$cstNode, false);\n            } else {\n                last.$type = $type;\n            }\n        }\n    }\n    construct() {\n        if (this.isRecording()) {\n            return undefined;\n        }\n        const obj = this.current;\n        (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__.linkContentToContainer)(obj);\n        this.nodeBuilder.construct(obj);\n        this.stack.pop();\n        if (isDataTypeNode(obj)) {\n            return this.converter.convert(obj.value, obj.$cstNode);\n        } else {\n            (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__.assignMandatoryProperties)(this.astReflection, obj);\n        }\n        return obj;\n    }\n    getAssignment(feature) {\n        if (!this.assignmentMap.has(feature)) {\n            const assignment = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__.getContainerOfType)(feature, _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isAssignment);\n            this.assignmentMap.set(feature, {\n                assignment: assignment,\n                isCrossRef: assignment ? (0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isCrossReference)(assignment.terminal) : false\n            });\n        }\n        return this.assignmentMap.get(feature);\n    }\n    assign(operator, feature, value, cstNode, isCrossRef) {\n        const obj = this.current;\n        let item;\n        if (isCrossRef && typeof value === \"string\") {\n            item = this.linker.buildReference(obj, feature, cstNode, value);\n        } else {\n            item = value;\n        }\n        switch(operator){\n            case \"=\":\n                {\n                    obj[feature] = item;\n                    break;\n                }\n            case \"?=\":\n                {\n                    obj[feature] = true;\n                    break;\n                }\n            case \"+=\":\n                {\n                    if (!Array.isArray(obj[feature])) {\n                        obj[feature] = [];\n                    }\n                    obj[feature].push(item);\n                }\n        }\n    }\n    assignWithoutOverride(target, source) {\n        for (const [name, existingValue] of Object.entries(source)){\n            const newValue = target[name];\n            if (newValue === undefined) {\n                target[name] = existingValue;\n            } else if (Array.isArray(newValue) && Array.isArray(existingValue)) {\n                existingValue.push(...newValue);\n                target[name] = existingValue;\n            }\n        }\n        // The target was parsed from a unassigned subrule\n        // After the subrule construction, it received a cst node\n        // This CST node will later be overriden by the cst node builder\n        // To prevent references to stale AST nodes in the CST,\n        // we need to remove the reference here\n        const targetCstNode = target.$cstNode;\n        if (targetCstNode) {\n            targetCstNode.astNode = undefined;\n            target.$cstNode = undefined;\n        }\n        return target;\n    }\n    get definitionErrors() {\n        return this.wrapper.definitionErrors;\n    }\n}\nclass AbstractParserErrorMessageProvider {\n    buildMismatchTokenMessage(options) {\n        return chevrotain__WEBPACK_IMPORTED_MODULE_0__.defaultParserErrorProvider.buildMismatchTokenMessage(options);\n    }\n    buildNotAllInputParsedMessage(options) {\n        return chevrotain__WEBPACK_IMPORTED_MODULE_0__.defaultParserErrorProvider.buildNotAllInputParsedMessage(options);\n    }\n    buildNoViableAltMessage(options) {\n        return chevrotain__WEBPACK_IMPORTED_MODULE_0__.defaultParserErrorProvider.buildNoViableAltMessage(options);\n    }\n    buildEarlyExitMessage(options) {\n        return chevrotain__WEBPACK_IMPORTED_MODULE_0__.defaultParserErrorProvider.buildEarlyExitMessage(options);\n    }\n}\nclass LangiumParserErrorMessageProvider extends AbstractParserErrorMessageProvider {\n    buildMismatchTokenMessage({ expected, actual }) {\n        const expectedMsg = expected.LABEL ? \"`\" + expected.LABEL + \"`\" : expected.name.endsWith(\":KW\") ? `keyword '${expected.name.substring(0, expected.name.length - 3)}'` : `token of type '${expected.name}'`;\n        return `Expecting ${expectedMsg} but found \\`${actual.image}\\`.`;\n    }\n    buildNotAllInputParsedMessage({ firstRedundant }) {\n        return `Expecting end of file but found \\`${firstRedundant.image}\\`.`;\n    }\n}\nclass LangiumCompletionParser extends AbstractLangiumParser {\n    constructor(){\n        super(...arguments);\n        this.tokens = [];\n        this.elementStack = [];\n        this.lastElementStack = [];\n        this.nextTokenIndex = 0;\n        this.stackSize = 0;\n    }\n    action() {\n    // NOOP\n    }\n    construct() {\n        // NOOP\n        return undefined;\n    }\n    parse(input) {\n        this.resetState();\n        const tokens = this.lexer.tokenize(input, {\n            mode: \"partial\"\n        });\n        this.tokens = tokens.tokens;\n        this.wrapper.input = [\n            ...this.tokens\n        ];\n        this.mainRule.call(this.wrapper, {});\n        this.unorderedGroups.clear();\n        return {\n            tokens: this.tokens,\n            elementStack: [\n                ...this.lastElementStack\n            ],\n            tokenIndex: this.nextTokenIndex\n        };\n    }\n    rule(rule, impl) {\n        const ruleMethod = this.wrapper.DEFINE_RULE(withRuleSuffix(rule.name), this.startImplementation(impl).bind(this));\n        this.allRules.set(rule.name, ruleMethod);\n        if (rule.entry) {\n            this.mainRule = ruleMethod;\n        }\n        return ruleMethod;\n    }\n    resetState() {\n        this.elementStack = [];\n        this.lastElementStack = [];\n        this.nextTokenIndex = 0;\n        this.stackSize = 0;\n    }\n    startImplementation(implementation) {\n        return (args)=>{\n            const size = this.keepStackSize();\n            try {\n                implementation(args);\n            } finally{\n                this.resetStackSize(size);\n            }\n        };\n    }\n    removeUnexpectedElements() {\n        this.elementStack.splice(this.stackSize);\n    }\n    keepStackSize() {\n        const size = this.elementStack.length;\n        this.stackSize = size;\n        return size;\n    }\n    resetStackSize(size) {\n        this.removeUnexpectedElements();\n        this.stackSize = size;\n    }\n    consume(idx, tokenType, feature) {\n        this.wrapper.wrapConsume(idx, tokenType);\n        if (!this.isRecording()) {\n            this.lastElementStack = [\n                ...this.elementStack,\n                feature\n            ];\n            this.nextTokenIndex = this.currIdx + 1;\n        }\n    }\n    subrule(idx, rule, fragment, feature, args) {\n        this.before(feature);\n        this.wrapper.wrapSubrule(idx, rule, args);\n        this.after(feature);\n    }\n    before(element) {\n        if (!this.isRecording()) {\n            this.elementStack.push(element);\n        }\n    }\n    after(element) {\n        if (!this.isRecording()) {\n            const index = this.elementStack.lastIndexOf(element);\n            if (index >= 0) {\n                this.elementStack.splice(index);\n            }\n        }\n    }\n    get currIdx() {\n        return this.wrapper.currIdx;\n    }\n}\nconst defaultConfig = {\n    recoveryEnabled: true,\n    nodeLocationTracking: \"full\",\n    skipValidations: true,\n    errorMessageProvider: new LangiumParserErrorMessageProvider()\n};\n/**\n * This class wraps the embedded actions parser of chevrotain and exposes protected methods.\n * This way, we can build the `LangiumParser` as a composition.\n */ class ChevrotainWrapper extends chevrotain__WEBPACK_IMPORTED_MODULE_0__.EmbeddedActionsParser {\n    constructor(tokens, config){\n        const useDefaultLookahead = config && \"maxLookahead\" in config;\n        super(tokens, Object.assign(Object.assign(Object.assign({}, defaultConfig), {\n            lookaheadStrategy: useDefaultLookahead ? new chevrotain__WEBPACK_IMPORTED_MODULE_0__.LLkLookaheadStrategy({\n                maxLookahead: config.maxLookahead\n            }) : new chevrotain_allstar__WEBPACK_IMPORTED_MODULE_1__.LLStarLookaheadStrategy({\n                // If validations are skipped, don't log the lookahead warnings\n                logging: config.skipValidations ? ()=>{} : undefined\n            })\n        }), config));\n    }\n    get IS_RECORDING() {\n        return this.RECORDING_PHASE;\n    }\n    DEFINE_RULE(name, impl) {\n        return this.RULE(name, impl);\n    }\n    wrapSelfAnalysis() {\n        this.performSelfAnalysis();\n    }\n    wrapConsume(idx, tokenType) {\n        return this.consume(idx, tokenType);\n    }\n    wrapSubrule(idx, rule, args) {\n        return this.subrule(idx, rule, {\n            ARGS: [\n                args\n            ]\n        });\n    }\n    wrapOr(idx, choices) {\n        this.or(idx, choices);\n    }\n    wrapOption(idx, callback) {\n        this.option(idx, callback);\n    }\n    wrapMany(idx, callback) {\n        this.many(idx, callback);\n    }\n    wrapAtLeastOne(idx, callback) {\n        this.atLeastOne(idx, callback);\n    }\n} //# sourceMappingURL=langium-parser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2xhbmdpdW0tcGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUN1QjtBQUN4QztBQUM2QjtBQUNWO0FBQzhCO0FBQ3ZEO0FBQ2hELE1BQU1hLGlCQUFpQkMsT0FBTyxZQUFZO0FBQ2pELFNBQVNDLGVBQWVDLElBQUk7SUFDeEIsT0FBT0EsS0FBS0MsS0FBSyxLQUFLSjtBQUMxQjtBQUNBLE1BQU1LLGFBQWE7QUFDbkIsTUFBTUMsaUJBQWlCLENBQUNDLE9BQVNBLEtBQUtDLFFBQVEsQ0FBQ0gsY0FBY0UsT0FBT0EsT0FBT0Y7QUFDcEUsTUFBTUk7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsSUFBSUM7UUFDNUIsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSUQ7UUFDcEIsSUFBSSxDQUFDRSxLQUFLLEdBQUdKLFNBQVNLLE1BQU0sQ0FBQ0MsS0FBSztRQUNsQyxNQUFNQyxTQUFTLElBQUksQ0FBQ0gsS0FBSyxDQUFDSSxVQUFVO1FBQ3BDLE1BQU1DLGFBQWFULFNBQVNVLGdCQUFnQixDQUFDQyxJQUFJLEtBQUs7UUFDdEQsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSUMsa0JBQWtCTixRQUFRTyxPQUFPQyxNQUFNLENBQUNELE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdmLFNBQVNLLE1BQU0sQ0FBQ1csWUFBWSxHQUFHO1lBQUVDLGlCQUFpQlI7WUFBWVMsc0JBQXNCbEIsU0FBU0ssTUFBTSxDQUFDYywwQkFBMEI7UUFBQztJQUNoTjtJQUNBQyxhQUFhQyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtRQUN2QixJQUFJLENBQUNWLE9BQU8sQ0FBQ1csTUFBTSxDQUFDRixLQUFLQztJQUM3QjtJQUNBRSxTQUFTSCxHQUFHLEVBQUVJLFFBQVEsRUFBRTtRQUNwQixJQUFJLENBQUNiLE9BQU8sQ0FBQ2MsVUFB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S0k7SUFDbkI7SUFDQUssZUFBZVQsR0FBRyxFQUFFSSxRQUFRLEVBQUU7UUFDMUIsSUFBSSxDQUFDSSxVQUFVLENBQUNSLEtBQUtJO0lBQ3pCO0FBQ0osRUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi9wYXJzZXIvbGFuZ2l1bS1wYXJzZXIuanM/YjM2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciwgRW1iZWRkZWRBY3Rpb25zUGFyc2VyLCBMTGtMb29rYWhlYWRTdHJhdGVneSB9IGZyb20gJ2NoZXZyb3RhaW4nO1xuaW1wb3J0IHsgTExTdGFyTG9va2FoZWFkU3RyYXRlZ3kgfSBmcm9tICdjaGV2cm90YWluLWFsbHN0YXInO1xuaW1wb3J0IHsgaXNBc3NpZ25tZW50LCBpc0Nyb3NzUmVmZXJlbmNlLCBpc0tleXdvcmQgfSBmcm9tICcuLi9sYW5ndWFnZXMvZ2VuZXJhdGVkL2FzdC5qcyc7XG5pbXBvcnQgeyBnZXRFeHBsaWNpdFJ1bGVUeXBlLCBpc0RhdGFUeXBlUnVsZSB9IGZyb20gJy4uL3V0aWxzL2dyYW1tYXItdXRpbHMuanMnO1xuaW1wb3J0IHsgYXNzaWduTWFuZGF0b3J5UHJvcGVydGllcywgZ2V0Q29udGFpbmVyT2ZUeXBlLCBsaW5rQ29udGVudFRvQ29udGFpbmVyIH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IENzdE5vZGVCdWlsZGVyIH0gZnJvbSAnLi9jc3Qtbm9kZS1idWlsZGVyLmpzJztcbmV4cG9ydCBjb25zdCBEYXRhdHlwZVN5bWJvbCA9IFN5bWJvbCgnRGF0YXR5cGUnKTtcbmZ1bmN0aW9uIGlzRGF0YVR5cGVOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS4kdHlwZSA9PT0gRGF0YXR5cGVTeW1ib2w7XG59XG5jb25zdCBydWxlU3VmZml4ID0gJ1xcdTIwMEInO1xuY29uc3Qgd2l0aFJ1bGVTdWZmaXggPSAobmFtZSkgPT4gbmFtZS5lbmRzV2l0aChydWxlU3VmZml4KSA/IG5hbWUgOiBuYW1lICsgcnVsZVN1ZmZpeDtcbmV4cG9ydCBjbGFzcyBBYnN0cmFjdExhbmdpdW1QYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuX3Vub3JkZXJlZEdyb3VwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5hbGxSdWxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sZXhlciA9IHNlcnZpY2VzLnBhcnNlci5MZXhlcjtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gdGhpcy5sZXhlci5kZWZpbml0aW9uO1xuICAgICAgICBjb25zdCBwcm9kdWN0aW9uID0gc2VydmljZXMuTGFuZ3VhZ2VNZXRhRGF0YS5tb2RlID09PSAncHJvZHVjdGlvbic7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IG5ldyBDaGV2cm90YWluV3JhcHBlcih0b2tlbnMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc2VydmljZXMucGFyc2VyLlBhcnNlckNvbmZpZyksIHsgc2tpcFZhbGlkYXRpb25zOiBwcm9kdWN0aW9uLCBlcnJvck1lc3NhZ2VQcm92aWRlcjogc2VydmljZXMucGFyc2VyLlBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyIH0pKTtcbiAgICB9XG4gICAgYWx0ZXJuYXRpdmVzKGlkeCwgY2hvaWNlcykge1xuICAgICAgICB0aGlzLndyYXBwZXIud3JhcE9yKGlkeCwgY2hvaWNlcyk7XG4gICAgfVxuICAgIG9wdGlvbmFsKGlkeCwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy53cmFwcGVyLndyYXBPcHRpb24oaWR4LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIG1hbnkoaWR4LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBwZXIud3JhcE1hbnkoaWR4LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGF0TGVhc3RPbmUoaWR4LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBwZXIud3JhcEF0TGVhc3RPbmUoaWR4LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldFJ1bGUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGxSdWxlcy5nZXQobmFtZSk7XG4gICAgfVxuICAgIGlzUmVjb3JkaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLklTX1JFQ09SRElORztcbiAgICB9XG4gICAgZ2V0IHVub3JkZXJlZEdyb3VwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Vub3JkZXJlZEdyb3VwcztcbiAgICB9XG4gICAgZ2V0UnVsZVN0YWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLlJVTEVfU1RBQ0s7XG4gICAgfVxuICAgIGZpbmFsaXplKCkge1xuICAgICAgICB0aGlzLndyYXBwZXIud3JhcFNlbGZBbmFseXNpcygpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBMYW5naXVtUGFyc2VyIGV4dGVuZHMgQWJzdHJhY3RMYW5naXVtUGFyc2VyIHtcbiAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICAgICAgc3VwZXIoc2VydmljZXMpO1xuICAgICAgICB0aGlzLm5vZGVCdWlsZGVyID0gbmV3IENzdE5vZGVCdWlsZGVyKCk7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5hc3NpZ25tZW50TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmxpbmtlciA9IHNlcnZpY2VzLnJlZmVyZW5jZXMuTGlua2VyO1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IHNlcnZpY2VzLnBhcnNlci5WYWx1ZUNvbnZlcnRlcjtcbiAgICAgICAgdGhpcy5hc3RSZWZsZWN0aW9uID0gc2VydmljZXMuc2hhcmVkLkFzdFJlZmxlY3Rpb247XG4gICAgfVxuICAgIHJ1bGUocnVsZSwgaW1wbCkge1xuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5jb21wdXRlUnVsZVR5cGUocnVsZSk7XG4gICAgICAgIGNvbnN0IHJ1bGVNZXRob2QgPSB0aGlzLndyYXBwZXIuREVGSU5FX1JVTEUod2l0aFJ1bGVTdWZmaXgocnVsZS5uYW1lKSwgdGhpcy5zdGFydEltcGxlbWVudGF0aW9uKHR5cGUsIGltcGwpLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmFsbFJ1bGVzLnNldChydWxlLm5hbWUsIHJ1bGVNZXRob2QpO1xuICAgICAgICBpZiAocnVsZS5lbnRyeSkge1xuICAgICAgICAgICAgdGhpcy5tYWluUnVsZSA9IHJ1bGVNZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bGVNZXRob2Q7XG4gICAgfVxuICAgIGNvbXB1dGVSdWxlVHlwZShydWxlKSB7XG4gICAgICAgIGlmIChydWxlLmZyYWdtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRGF0YVR5cGVSdWxlKHJ1bGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0YXR5cGVTeW1ib2w7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBleHBsaWNpdCA9IGdldEV4cGxpY2l0UnVsZVR5cGUocnVsZSk7XG4gICAgICAgICAgICByZXR1cm4gZXhwbGljaXQgIT09IG51bGwgJiYgZXhwbGljaXQgIT09IHZvaWQgMCA/IGV4cGxpY2l0IDogcnVsZS5uYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcnNlKGlucHV0LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5ub2RlQnVpbGRlci5idWlsZFJvb3ROb2RlKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGV4ZXJSZXN1bHQgPSB0aGlzLmxleGVyUmVzdWx0ID0gdGhpcy5sZXhlci50b2tlbml6ZShpbnB1dCk7XG4gICAgICAgIHRoaXMud3JhcHBlci5pbnB1dCA9IGxleGVyUmVzdWx0LnRva2VucztcbiAgICAgICAgY29uc3QgcnVsZU1ldGhvZCA9IG9wdGlvbnMucnVsZSA/IHRoaXMuYWxsUnVsZXMuZ2V0KG9wdGlvbnMucnVsZSkgOiB0aGlzLm1haW5SdWxlO1xuICAgICAgICBpZiAoIXJ1bGVNZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihvcHRpb25zLnJ1bGUgPyBgTm8gcnVsZSBmb3VuZCB3aXRoIG5hbWUgJyR7b3B0aW9ucy5ydWxlfSdgIDogJ05vIG1haW4gcnVsZSBhdmFpbGFibGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcnVsZU1ldGhvZC5jYWxsKHRoaXMud3JhcHBlciwge30pO1xuICAgICAgICB0aGlzLm5vZGVCdWlsZGVyLmFkZEhpZGRlbk5vZGVzKGxleGVyUmVzdWx0LmhpZGRlbik7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkR3JvdXBzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubGV4ZXJSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVzdWx0LFxuICAgICAgICAgICAgbGV4ZXJFcnJvcnM6IGxleGVyUmVzdWx0LmVycm9ycyxcbiAgICAgICAgICAgIGxleGVyUmVwb3J0OiBsZXhlclJlc3VsdC5yZXBvcnQsXG4gICAgICAgICAgICBwYXJzZXJFcnJvcnM6IHRoaXMud3JhcHBlci5lcnJvcnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhcnRJbXBsZW1lbnRhdGlvbigkdHlwZSwgaW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIChhcmdzKSA9PiB7XG4gICAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIG5ldyBBU1Qgbm9kZSBpbiBjYXNlIHRoZSBjYWxsaW5nIHJ1bGUgaXMgbm90IGEgZnJhZ21lbnQgcnVsZVxuICAgICAgICAgICAgY29uc3QgY3JlYXRlTm9kZSA9ICF0aGlzLmlzUmVjb3JkaW5nKCkgJiYgJHR5cGUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChjcmVhdGVOb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHsgJHR5cGUgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlID09PSBEYXRhdHlwZVN5bWJvbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaW1wbGVtZW50YXRpb24oYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkICYmIGNyZWF0ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNvbnN0cnVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZXh0cmFjdEhpZGRlblRva2Vucyh0b2tlbikge1xuICAgICAgICBjb25zdCBoaWRkZW5Ub2tlbnMgPSB0aGlzLmxleGVyUmVzdWx0LmhpZGRlbjtcbiAgICAgICAgaWYgKCFoaWRkZW5Ub2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdG9rZW4uc3RhcnRPZmZzZXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGlkZGVuVG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGhpZGRlblRva2Vuc1tpXTtcbiAgICAgICAgICAgIGlmICh0b2tlbi5zdGFydE9mZnNldCA+IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoaWRkZW5Ub2tlbnMuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWRkZW5Ub2tlbnMuc3BsaWNlKDAsIGhpZGRlblRva2Vucy5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdW1lKGlkeCwgdG9rZW5UeXBlLCBmZWF0dXJlKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy53cmFwcGVyLndyYXBDb25zdW1lKGlkeCwgdG9rZW5UeXBlKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVjb3JkaW5nKCkgJiYgdGhpcy5pc1ZhbGlkVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICBjb25zdCBoaWRkZW5Ub2tlbnMgPSB0aGlzLmV4dHJhY3RIaWRkZW5Ub2tlbnModG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5ub2RlQnVpbGRlci5hZGRIaWRkZW5Ob2RlcyhoaWRkZW5Ub2tlbnMpO1xuICAgICAgICAgICAgY29uc3QgbGVhZk5vZGUgPSB0aGlzLm5vZGVCdWlsZGVyLmJ1aWxkTGVhZk5vZGUodG9rZW4sIGZlYXR1cmUpO1xuICAgICAgICAgICAgY29uc3QgeyBhc3NpZ25tZW50LCBpc0Nyb3NzUmVmIH0gPSB0aGlzLmdldEFzc2lnbm1lbnQoZmVhdHVyZSk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKGFzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRWYWx1ZSA9IGlzS2V5d29yZChmZWF0dXJlKSA/IHRva2VuLmltYWdlIDogdGhpcy5jb252ZXJ0ZXIuY29udmVydCh0b2tlbi5pbWFnZSwgbGVhZk5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzaWduKGFzc2lnbm1lbnQub3BlcmF0b3IsIGFzc2lnbm1lbnQuZmVhdHVyZSwgY29udmVydGVkVmFsdWUsIGxlYWZOb2RlLCBpc0Nyb3NzUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGF0YVR5cGVOb2RlKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSB0b2tlbi5pbWFnZTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzS2V5d29yZChmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5jb252ZXJ0ZXIuY29udmVydCh0ZXh0LCBsZWFmTm9kZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudC52YWx1ZSArPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vc3QgY29uc3VtZWQgcGFyc2VyIHRva2VucyBhcmUgdmFsaWQuIEhvd2V2ZXIgdGhlcmUgYXJlIHR3byBjYXNlcyBpbiB3aGljaCB0aGV5IGFyZSBub3QgdmFsaWQ6XG4gICAgICpcbiAgICAgKiAxLiBUaGV5IHdlcmUgaW5zZXJ0ZWQgZHVyaW5nIGVycm9yIHJlY292ZXJ5IGJ5IHRoZSBwYXJzZXIuIFRoZXNlIHRva2VucyBkb24ndCByZWFsbHkgZXhpc3QgYW5kIHNob3VsZCBub3QgYmUgZnVydGhlciBwcm9jZXNzZWRcbiAgICAgKiAyLiBUaGV5IGNvbnRhaW4gaW52YWxpZCB0b2tlbiByYW5nZXMuIFRoaXMgbWlnaHQgaW5jbHVkZSB0aGUgc3BlY2lhbCBFT0YgdG9rZW4sIG9yIG90aGVyIHRva2VucyBwcm9kdWNlZCBieSBpbnZhbGlkIHRva2VuIGJ1aWxkZXJzLlxuICAgICAqL1xuICAgIGlzVmFsaWRUb2tlbih0b2tlbikge1xuICAgICAgICByZXR1cm4gIXRva2VuLmlzSW5zZXJ0ZWRJblJlY292ZXJ5ICYmICFpc05hTih0b2tlbi5zdGFydE9mZnNldCkgJiYgdHlwZW9mIHRva2VuLmVuZE9mZnNldCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHRva2VuLmVuZE9mZnNldCk7XG4gICAgfVxuICAgIHN1YnJ1bGUoaWR4LCBydWxlLCBmcmFnbWVudCwgZmVhdHVyZSwgYXJncykge1xuICAgICAgICBsZXQgY3N0Tm9kZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVjb3JkaW5nKCkgJiYgIWZyYWdtZW50KSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gY3JlYXRlIGEgbmV3IENTVCBub2RlIGlmIHRoZSBzdWJydWxlIGFjdHVhbGx5IGNyZWF0ZXMgYSBuZXcgQVNUIG5vZGUuXG4gICAgICAgICAgICAvLyBJbiBvdGhlciBjYXNlcyBsaWtlIGNhbGxzIG9mIGZyYWdtZW50IHJ1bGVzIHRoZSBjdXJyZW50IENTVC9BU1QgaXMgcG9wdWxhdGVkIGZ1cnRoZXIuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgc2tpcHBpbmcgdGhpcyBpbml0aWFsaXphdGlvbiBhbmQgbGVhdmluZyBjc3ROb2RlIHVuYXNzaWduZWQgYWxzbyBza2lwcyB0aGUgc3VicnVsZSBhc3NpZ25tZW50IGxhdGVyIG9uLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbmRlZCwgYXMgZnJhZ21lbnQgcnVsZXMgb25seSBlbnJpY2ggdGhlIGN1cnJlbnQgQVNUIG5vZGVcbiAgICAgICAgICAgIGNzdE5vZGUgPSB0aGlzLm5vZGVCdWlsZGVyLmJ1aWxkQ29tcG9zaXRlTm9kZShmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWJydWxlUmVzdWx0ID0gdGhpcy53cmFwcGVyLndyYXBTdWJydWxlKGlkeCwgcnVsZSwgYXJncyk7XG4gICAgICAgIGlmICghdGhpcy5pc1JlY29yZGluZygpICYmIGNzdE5vZGUgJiYgY3N0Tm9kZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1TdWJydWxlQXNzaWdubWVudChzdWJydWxlUmVzdWx0LCBmZWF0dXJlLCBjc3ROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwZXJmb3JtU3VicnVsZUFzc2lnbm1lbnQocmVzdWx0LCBmZWF0dXJlLCBjc3ROb2RlKSB7XG4gICAgICAgIGNvbnN0IHsgYXNzaWdubWVudCwgaXNDcm9zc1JlZiB9ID0gdGhpcy5nZXRBc3NpZ25tZW50KGZlYXR1cmUpO1xuICAgICAgICBpZiAoYXNzaWdubWVudCkge1xuICAgICAgICAgICAgdGhpcy5hc3NpZ24oYXNzaWdubWVudC5vcGVyYXRvciwgYXNzaWdubWVudC5mZWF0dXJlLCByZXN1bHQsIGNzdE5vZGUsIGlzQ3Jvc3NSZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFhc3NpZ25tZW50KSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBjYWxsIGEgc3VicnVsZSB3aXRob3V0IGFuIGFzc2lnbm1lbnQgd2UgZWl0aGVyOlxuICAgICAgICAgICAgLy8gMS4gYXBwZW5kIHRoZSByZXN1bHQgb2YgdGhlIHN1YnJ1bGUgKGRhdGEgdHlwZSBydWxlKVxuICAgICAgICAgICAgLy8gMi4gb3ZlcnJpZGUgdGhlIGN1cnJlbnQgb2JqZWN0IHdpdGggdGhlIG5ld2x5IHBhcnNlZCBvYmplY3RcbiAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGVsZW1lbnQgaXMgYW4gQVNUIG5vZGUgYW5kIHRoZSByZXN1bHQgb2YgdGhlIHN1YnJ1bGVcbiAgICAgICAgICAgIC8vIGlzIGEgZGF0YSB0eXBlIHJ1bGUsIHdlIGNhbiBzYWZlbHkgZGlzY2FyZCB0aGUgcmVzdWx0cy5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoaXNEYXRhVHlwZU5vZGUoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LnZhbHVlICs9IHJlc3VsdC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5hc3NpZ25XaXRob3V0T3ZlcnJpZGUocmVzdWx0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjay5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFjdGlvbigkdHlwZSwgYWN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlY29yZGluZygpKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uZmVhdHVyZSAmJiBhY3Rpb24ub3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gdGhpcy5jb25zdHJ1Y3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVCdWlsZGVyLnJlbW92ZU5vZGUobGFzdC4kY3N0Tm9kZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZUJ1aWxkZXIuYnVpbGRDb21wb3NpdGVOb2RlKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgbm9kZS5jb250ZW50LnB1c2gobGFzdC4kY3N0Tm9kZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IHsgJHR5cGUgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NpZ24oYWN0aW9uLm9wZXJhdG9yLCBhY3Rpb24uZmVhdHVyZSwgbGFzdCwgbGFzdC4kY3N0Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFzdC4kdHlwZSA9ICR0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNvcmRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGxpbmtDb250ZW50VG9Db250YWluZXIob2JqKTtcbiAgICAgICAgdGhpcy5ub2RlQnVpbGRlci5jb25zdHJ1Y3Qob2JqKTtcbiAgICAgICAgdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKGlzRGF0YVR5cGVOb2RlKG9iaikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRlci5jb252ZXJ0KG9iai52YWx1ZSwgb2JqLiRjc3ROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2lnbk1hbmRhdG9yeVByb3BlcnRpZXModGhpcy5hc3RSZWZsZWN0aW9uLCBvYmopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGdldEFzc2lnbm1lbnQoZmVhdHVyZSkge1xuICAgICAgICBpZiAoIXRoaXMuYXNzaWdubWVudE1hcC5oYXMoZmVhdHVyZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbm1lbnQgPSBnZXRDb250YWluZXJPZlR5cGUoZmVhdHVyZSwgaXNBc3NpZ25tZW50KTtcbiAgICAgICAgICAgIHRoaXMuYXNzaWdubWVudE1hcC5zZXQoZmVhdHVyZSwge1xuICAgICAgICAgICAgICAgIGFzc2lnbm1lbnQ6IGFzc2lnbm1lbnQsXG4gICAgICAgICAgICAgICAgaXNDcm9zc1JlZjogYXNzaWdubWVudCA/IGlzQ3Jvc3NSZWZlcmVuY2UoYXNzaWdubWVudC50ZXJtaW5hbCkgOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudE1hcC5nZXQoZmVhdHVyZSk7XG4gICAgfVxuICAgIGFzc2lnbihvcGVyYXRvciwgZmVhdHVyZSwgdmFsdWUsIGNzdE5vZGUsIGlzQ3Jvc3NSZWYpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgaWYgKGlzQ3Jvc3NSZWYgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaXRlbSA9IHRoaXMubGlua2VyLmJ1aWxkUmVmZXJlbmNlKG9iaiwgZmVhdHVyZSwgY3N0Tm9kZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXRlbSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNhc2UgJz0nOiB7XG4gICAgICAgICAgICAgICAgb2JqW2ZlYXR1cmVdID0gaXRlbTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJz89Jzoge1xuICAgICAgICAgICAgICAgIG9ialtmZWF0dXJlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICcrPSc6IHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqW2ZlYXR1cmVdKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbZmVhdHVyZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqW2ZlYXR1cmVdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXNzaWduV2l0aG91dE92ZXJyaWRlKHRhcmdldCwgc291cmNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIGV4aXN0aW5nVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGFyZ2V0W25hbWVdO1xuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBleGlzdGluZ1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShuZXdWYWx1ZSkgJiYgQXJyYXkuaXNBcnJheShleGlzdGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVmFsdWUucHVzaCguLi5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gZXhpc3RpbmdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgdGFyZ2V0IHdhcyBwYXJzZWQgZnJvbSBhIHVuYXNzaWduZWQgc3VicnVsZVxuICAgICAgICAvLyBBZnRlciB0aGUgc3VicnVsZSBjb25zdHJ1Y3Rpb24sIGl0IHJlY2VpdmVkIGEgY3N0IG5vZGVcbiAgICAgICAgLy8gVGhpcyBDU1Qgbm9kZSB3aWxsIGxhdGVyIGJlIG92ZXJyaWRlbiBieSB0aGUgY3N0IG5vZGUgYnVpbGRlclxuICAgICAgICAvLyBUbyBwcmV2ZW50IHJlZmVyZW5jZXMgdG8gc3RhbGUgQVNUIG5vZGVzIGluIHRoZSBDU1QsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSByZWZlcmVuY2UgaGVyZVxuICAgICAgICBjb25zdCB0YXJnZXRDc3ROb2RlID0gdGFyZ2V0LiRjc3ROb2RlO1xuICAgICAgICBpZiAodGFyZ2V0Q3N0Tm9kZSkge1xuICAgICAgICAgICAgdGFyZ2V0Q3N0Tm9kZS5hc3ROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGFyZ2V0LiRjc3ROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGdldCBkZWZpbml0aW9uRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmRlZmluaXRpb25FcnJvcnM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFyc2VyRXJyb3JNZXNzYWdlUHJvdmlkZXIge1xuICAgIGJ1aWxkTWlzbWF0Y2hUb2tlbk1lc3NhZ2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIuYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZShvcHRpb25zKTtcbiAgICB9XG4gICAgYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIuYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2Uob3B0aW9ucyk7XG4gICAgfVxuICAgIGJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRQYXJzZXJFcnJvclByb3ZpZGVyLmJ1aWxkTm9WaWFibGVBbHRNZXNzYWdlKG9wdGlvbnMpO1xuICAgIH1cbiAgICBidWlsZEVhcmx5RXhpdE1lc3NhZ2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFBhcnNlckVycm9yUHJvdmlkZXIuYnVpbGRFYXJseUV4aXRNZXNzYWdlKG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBMYW5naXVtUGFyc2VyRXJyb3JNZXNzYWdlUHJvdmlkZXIgZXh0ZW5kcyBBYnN0cmFjdFBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyIHtcbiAgICBidWlsZE1pc21hdGNoVG9rZW5NZXNzYWdlKHsgZXhwZWN0ZWQsIGFjdHVhbCB9KSB7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkTXNnID0gZXhwZWN0ZWQuTEFCRUxcbiAgICAgICAgICAgID8gJ2AnICsgZXhwZWN0ZWQuTEFCRUwgKyAnYCdcbiAgICAgICAgICAgIDogZXhwZWN0ZWQubmFtZS5lbmRzV2l0aCgnOktXJylcbiAgICAgICAgICAgICAgICA/IGBrZXl3b3JkICcke2V4cGVjdGVkLm5hbWUuc3Vic3RyaW5nKDAsIGV4cGVjdGVkLm5hbWUubGVuZ3RoIC0gMyl9J2BcbiAgICAgICAgICAgICAgICA6IGB0b2tlbiBvZiB0eXBlICcke2V4cGVjdGVkLm5hbWV9J2A7XG4gICAgICAgIHJldHVybiBgRXhwZWN0aW5nICR7ZXhwZWN0ZWRNc2d9IGJ1dCBmb3VuZCBcXGAke2FjdHVhbC5pbWFnZX1cXGAuYDtcbiAgICB9XG4gICAgYnVpbGROb3RBbGxJbnB1dFBhcnNlZE1lc3NhZ2UoeyBmaXJzdFJlZHVuZGFudCB9KSB7XG4gICAgICAgIHJldHVybiBgRXhwZWN0aW5nIGVuZCBvZiBmaWxlIGJ1dCBmb3VuZCBcXGAke2ZpcnN0UmVkdW5kYW50LmltYWdlfVxcYC5gO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBMYW5naXVtQ29tcGxldGlvblBhcnNlciBleHRlbmRzIEFic3RyYWN0TGFuZ2l1bVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICAgIHRoaXMuZWxlbWVudFN0YWNrID0gW107XG4gICAgICAgIHRoaXMubGFzdEVsZW1lbnRTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLm5leHRUb2tlbkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zdGFja1NpemUgPSAwO1xuICAgIH1cbiAgICBhY3Rpb24oKSB7XG4gICAgICAgIC8vIE5PT1BcbiAgICB9XG4gICAgY29uc3RydWN0KCkge1xuICAgICAgICAvLyBOT09QXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHBhcnNlKGlucHV0KSB7XG4gICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB0b2tlbnMgPSB0aGlzLmxleGVyLnRva2VuaXplKGlucHV0LCB7IG1vZGU6ICdwYXJ0aWFsJyB9KTtcbiAgICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnMudG9rZW5zO1xuICAgICAgICB0aGlzLndyYXBwZXIuaW5wdXQgPSBbLi4udGhpcy50b2tlbnNdO1xuICAgICAgICB0aGlzLm1haW5SdWxlLmNhbGwodGhpcy53cmFwcGVyLCB7fSk7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkR3JvdXBzLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbnM6IHRoaXMudG9rZW5zLFxuICAgICAgICAgICAgZWxlbWVudFN0YWNrOiBbLi4udGhpcy5sYXN0RWxlbWVudFN0YWNrXSxcbiAgICAgICAgICAgIHRva2VuSW5kZXg6IHRoaXMubmV4dFRva2VuSW5kZXhcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcnVsZShydWxlLCBpbXBsKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVNZXRob2QgPSB0aGlzLndyYXBwZXIuREVGSU5FX1JVTEUod2l0aFJ1bGVTdWZmaXgocnVsZS5uYW1lKSwgdGhpcy5zdGFydEltcGxlbWVudGF0aW9uKGltcGwpLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmFsbFJ1bGVzLnNldChydWxlLm5hbWUsIHJ1bGVNZXRob2QpO1xuICAgICAgICBpZiAocnVsZS5lbnRyeSkge1xuICAgICAgICAgICAgdGhpcy5tYWluUnVsZSA9IHJ1bGVNZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bGVNZXRob2Q7XG4gICAgfVxuICAgIHJlc2V0U3RhdGUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFN0YWNrID0gW107XG4gICAgICAgIHRoaXMubGFzdEVsZW1lbnRTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLm5leHRUb2tlbkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zdGFja1NpemUgPSAwO1xuICAgIH1cbiAgICBzdGFydEltcGxlbWVudGF0aW9uKGltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiAoYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMua2VlcFN0YWNrU2l6ZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbihhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTdGFja1NpemUoc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbW92ZVVuZXhwZWN0ZWRFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50U3RhY2suc3BsaWNlKHRoaXMuc3RhY2tTaXplKTtcbiAgICB9XG4gICAga2VlcFN0YWNrU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZWxlbWVudFN0YWNrLmxlbmd0aDtcbiAgICAgICAgdGhpcy5zdGFja1NpemUgPSBzaXplO1xuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gICAgcmVzZXRTdGFja1NpemUoc2l6ZSkge1xuICAgICAgICB0aGlzLnJlbW92ZVVuZXhwZWN0ZWRFbGVtZW50cygpO1xuICAgICAgICB0aGlzLnN0YWNrU2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIGNvbnN1bWUoaWR4LCB0b2tlblR5cGUsIGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyLndyYXBDb25zdW1lKGlkeCwgdG9rZW5UeXBlKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVjb3JkaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdEVsZW1lbnRTdGFjayA9IFsuLi50aGlzLmVsZW1lbnRTdGFjaywgZmVhdHVyZV07XG4gICAgICAgICAgICB0aGlzLm5leHRUb2tlbkluZGV4ID0gdGhpcy5jdXJySWR4ICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdWJydWxlKGlkeCwgcnVsZSwgZnJhZ21lbnQsIGZlYXR1cmUsIGFyZ3MpIHtcbiAgICAgICAgdGhpcy5iZWZvcmUoZmVhdHVyZSk7XG4gICAgICAgIHRoaXMud3JhcHBlci53cmFwU3VicnVsZShpZHgsIHJ1bGUsIGFyZ3MpO1xuICAgICAgICB0aGlzLmFmdGVyKGZlYXR1cmUpO1xuICAgIH1cbiAgICBiZWZvcmUoZWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNSZWNvcmRpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U3RhY2sucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZnRlcihlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlY29yZGluZygpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZWxlbWVudFN0YWNrLmxhc3RJbmRleE9mKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRTdGFjay5zcGxpY2UoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjdXJySWR4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLmN1cnJJZHg7XG4gICAgfVxufVxuY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcbiAgICByZWNvdmVyeUVuYWJsZWQ6IHRydWUsXG4gICAgbm9kZUxvY2F0aW9uVHJhY2tpbmc6ICdmdWxsJyxcbiAgICBza2lwVmFsaWRhdGlvbnM6IHRydWUsXG4gICAgZXJyb3JNZXNzYWdlUHJvdmlkZXI6IG5ldyBMYW5naXVtUGFyc2VyRXJyb3JNZXNzYWdlUHJvdmlkZXIoKVxufTtcbi8qKlxuICogVGhpcyBjbGFzcyB3cmFwcyB0aGUgZW1iZWRkZWQgYWN0aW9ucyBwYXJzZXIgb2YgY2hldnJvdGFpbiBhbmQgZXhwb3NlcyBwcm90ZWN0ZWQgbWV0aG9kcy5cbiAqIFRoaXMgd2F5LCB3ZSBjYW4gYnVpbGQgdGhlIGBMYW5naXVtUGFyc2VyYCBhcyBhIGNvbXBvc2l0aW9uLlxuICovXG5jbGFzcyBDaGV2cm90YWluV3JhcHBlciBleHRlbmRzIEVtYmVkZGVkQWN0aW9uc1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IodG9rZW5zLCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgdXNlRGVmYXVsdExvb2thaGVhZCA9IGNvbmZpZyAmJiAnbWF4TG9va2FoZWFkJyBpbiBjb25maWc7XG4gICAgICAgIHN1cGVyKHRva2VucywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWcpLCB7IGxvb2thaGVhZFN0cmF0ZWd5OiB1c2VEZWZhdWx0TG9va2FoZWFkXG4gICAgICAgICAgICAgICAgPyBuZXcgTExrTG9va2FoZWFkU3RyYXRlZ3koeyBtYXhMb29rYWhlYWQ6IGNvbmZpZy5tYXhMb29rYWhlYWQgfSlcbiAgICAgICAgICAgICAgICA6IG5ldyBMTFN0YXJMb29rYWhlYWRTdHJhdGVneSh7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHZhbGlkYXRpb25zIGFyZSBza2lwcGVkLCBkb24ndCBsb2cgdGhlIGxvb2thaGVhZCB3YXJuaW5nc1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiBjb25maWcuc2tpcFZhbGlkYXRpb25zID8gKCkgPT4geyB9IDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSkgfSksIGNvbmZpZykpO1xuICAgIH1cbiAgICBnZXQgSVNfUkVDT1JESU5HKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5SRUNPUkRJTkdfUEhBU0U7XG4gICAgfVxuICAgIERFRklORV9SVUxFKG5hbWUsIGltcGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuUlVMRShuYW1lLCBpbXBsKTtcbiAgICB9XG4gICAgd3JhcFNlbGZBbmFseXNpcygpIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtU2VsZkFuYWx5c2lzKCk7XG4gICAgfVxuICAgIHdyYXBDb25zdW1lKGlkeCwgdG9rZW5UeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWUoaWR4LCB0b2tlblR5cGUpO1xuICAgIH1cbiAgICB3cmFwU3VicnVsZShpZHgsIHJ1bGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VicnVsZShpZHgsIHJ1bGUsIHtcbiAgICAgICAgICAgIEFSR1M6IFthcmdzXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgd3JhcE9yKGlkeCwgY2hvaWNlcykge1xuICAgICAgICB0aGlzLm9yKGlkeCwgY2hvaWNlcyk7XG4gICAgfVxuICAgIHdyYXBPcHRpb24oaWR4LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLm9wdGlvbihpZHgsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgd3JhcE1hbnkoaWR4LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLm1hbnkoaWR4LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIHdyYXBBdExlYXN0T25lKGlkeCwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5hdExlYXN0T25lKGlkeCwgY2FsbGJhY2spO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhbmdpdW0tcGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJkZWZhdWx0UGFyc2VyRXJyb3JQcm92aWRlciIsIkVtYmVkZGVkQWN0aW9uc1BhcnNlciIsIkxMa0xvb2thaGVhZFN0cmF0ZWd5IiwiTExTdGFyTG9va2FoZWFkU3RyYXRlZ3kiLCJpc0Fzc2lnbm1lbnQiLCJpc0Nyb3NzUmVmZXJlbmNlIiwiaXNLZXl3b3JkIiwiZ2V0RXhwbGljaXRSdWxlVHlwZSIsImlzRGF0YVR5cGVSdWxlIiwiYXNzaWduTWFuZGF0b3J5UHJvcGVydGllcyIsImdldENvbnRhaW5lck9mVHlwZSIsImxpbmtDb250ZW50VG9Db250YWluZXIiLCJDc3ROb2RlQnVpbGRlciIsIkRhdGF0eXBlU3ltYm9sIiwiU3ltYm9sIiwiaXNEYXRhVHlwZU5vZGUiLCJub2RlIiwiJHR5cGUiLCJydWxlU3VmZml4Iiwid2l0aFJ1bGVTdWZmaXgiLCJuYW1lIiwiZW5kc1dpdGgiLCJBYnN0cmFjdExhbmdpdW1QYXJzZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwiX3Vub3JkZXJlZEdyb3VwcyIsIk1hcCIsImFsbFJ1bGVzIiwibGV4ZXIiLCJwYXJzZXIiLCJMZXhlciIsInRva2VucyIsImRlZmluaXRpb24iLCJwcm9kdWN0aW9uIiwiTGFuZ3VhZ2VNZXRhRGF0YSIsIm1vZGUiLCJ3cmFwcGVyIiwiQ2hldnJvdGFpbldyYXBwZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJQYXJzZXJDb25maWciLCJza2lwVmFsaWRhdGlvbnMiLCJlcnJvck1lc3NhZ2VQcm92aWRlciIsIlBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyIiwiYWx0ZXJuYXRpdmVzIiwiaWR4IiwiY2hvaWNlcyIsIndyYXBPciIsIm9wdGlvbmFsIiwiY2FsbGJhY2siLCJ3cmFwT3B0aW9uIiwibWFueSIsIndyYXBNYW55IiwiYXRMZWFzdE9uZSIsIndyYXBBdExlYXN0T25lIiwiZ2V0UnVsZSIsImdldCIsImlzUmVjb3JkaW5nIiwiSVNfUkVDT1JESU5HIiwidW5vcmRlcmVkR3JvdXBzIiwiZ2V0UnVsZVN0YWNrIiwiUlVMRV9TVEFDSyIsImZpbmFsaXplIiwid3JhcFNlbGZBbmFseXNpcyIsIkxhbmdpdW1QYXJzZXIiLCJjdXJyZW50Iiwic3RhY2siLCJsZW5ndGgiLCJub2RlQnVpbGRlciIsImFzc2lnbm1lbnRNYXAiLCJsaW5rZXIiLCJyZWZlcmVuY2VzIiwiTGlua2VyIiwiY29udmVydGVyIiwiVmFsdWVDb252ZXJ0ZXIiLCJhc3RSZWZsZWN0aW9uIiwic2hhcmVkIiwiQXN0UmVmbGVjdGlvbiIsInJ1bGUiLCJpbXBsIiwidHlwZSIsImNvbXB1dGVSdWxlVHlwZSIsInJ1bGVNZXRob2QiLCJERUZJTkVfUlVMRSIsInN0YXJ0SW1wbGVtZW50YXRpb24iLCJiaW5kIiwic2V0IiwiZW50cnkiLCJtYWluUnVsZSIsImZyYWdtZW50IiwidW5kZWZpbmVkIiwiZXhwbGljaXQiLCJwYXJzZSIsImlucHV0Iiwib3B0aW9ucyIsImJ1aWxkUm9vdE5vZGUiLCJsZXhlclJlc3VsdCIsInRva2VuaXplIiwiRXJyb3IiLCJyZXN1bHQiLCJjYWxsIiwiYWRkSGlkZGVuTm9kZXMiLCJoaWRkZW4iLCJjbGVhciIsInZhbHVlIiwibGV4ZXJFcnJvcnMiLCJlcnJvcnMiLCJsZXhlclJlcG9ydCIsInJlcG9ydCIsInBhcnNlckVycm9ycyIsImltcGxlbWVudGF0aW9uIiwiYXJncyIsImNyZWF0ZU5vZGUiLCJwdXNoIiwiZXJyIiwiY29uc3RydWN0IiwiZXh0cmFjdEhpZGRlblRva2VucyIsInRva2VuIiwiaGlkZGVuVG9rZW5zIiwib2Zmc2V0Iiwic3RhcnRPZmZzZXQiLCJpIiwic3BsaWNlIiwiY29uc3VtZSIsInRva2VuVHlwZSIsImZlYXR1cmUiLCJ3cmFwQ29uc3VtZSIsImlzVmFsaWRUb2tlbiIsImxlYWZOb2RlIiwiYnVpbGRMZWFmTm9kZSIsImFzc2lnbm1lbnQiLCJpc0Nyb3NzUmVmIiwiZ2V0QXNzaWdubWVudCIsImNvbnZlcnRlZFZhbHVlIiwiaW1hZ2UiLCJjb252ZXJ0Iiwib3BlcmF0b3IiLCJ0ZXh0IiwidG9TdHJpbmciLCJpc0luc2VydGVkSW5SZWNvdmVyeSIsImlzTmFOIiwiZW5kT2Zmc2V0Iiwic3VicnVsZSIsImNzdE5vZGUiLCJidWlsZENvbXBvc2l0ZU5vZGUiLCJzdWJydWxlUmVzdWx0Iiwid3JhcFN1YnJ1bGUiLCJwZXJmb3JtU3VicnVsZUFzc2lnbm1lbnQiLCJvYmplY3QiLCJhc3NpZ25XaXRob3V0T3ZlcnJpZGUiLCJuZXdJdGVtIiwicG9wIiwiYWN0aW9uIiwibGFzdCIsInJlbW92ZU5vZGUiLCIkY3N0Tm9kZSIsImNvbnRlbnQiLCJvYmoiLCJoYXMiLCJ0ZXJtaW5hbCIsIml0ZW0iLCJidWlsZFJlZmVyZW5jZSIsIkFycmF5IiwiaXNBcnJheSIsInRhcmdldCIsInNvdXJjZSIsImV4aXN0aW5nVmFsdWUiLCJlbnRyaWVzIiwibmV3VmFsdWUiLCJ0YXJnZXRDc3ROb2RlIiwiYXN0Tm9kZSIsImRlZmluaXRpb25FcnJvcnMiLCJBYnN0cmFjdFBhcnNlckVycm9yTWVzc2FnZVByb3ZpZGVyIiwiYnVpbGRNaXNtYXRjaFRva2VuTWVzc2FnZSIsImJ1aWxkTm90QWxsSW5wdXRQYXJzZWRNZXNzYWdlIiwiYnVpbGROb1ZpYWJsZUFsdE1lc3NhZ2UiLCJidWlsZEVhcmx5RXhpdE1lc3NhZ2UiLCJMYW5naXVtUGFyc2VyRXJyb3JNZXNzYWdlUHJvdmlkZXIiLCJleHBlY3RlZCIsImFjdHVhbCIsImV4cGVjdGVkTXNnIiwiTEFCRUwiLCJzdWJzdHJpbmciLCJmaXJzdFJlZHVuZGFudCIsIkxhbmdpdW1Db21wbGV0aW9uUGFyc2VyIiwiYXJndW1lbnRzIiwiZWxlbWVudFN0YWNrIiwibGFzdEVsZW1lbnRTdGFjayIsIm5leHRUb2tlbkluZGV4Iiwic3RhY2tTaXplIiwicmVzZXRTdGF0ZSIsInRva2VuSW5kZXgiLCJzaXplIiwia2VlcFN0YWNrU2l6ZSIsInJlc2V0U3RhY2tTaXplIiwicmVtb3ZlVW5leHBlY3RlZEVsZW1lbnRzIiwiY3VycklkeCIsImJlZm9yZSIsImFmdGVyIiwiZWxlbWVudCIsImluZGV4IiwibGFzdEluZGV4T2YiLCJkZWZhdWx0Q29uZmlnIiwicmVjb3ZlcnlFbmFibGVkIiwibm9kZUxvY2F0aW9uVHJhY2tpbmciLCJjb25maWciLCJ1c2VEZWZhdWx0TG9va2FoZWFkIiwibG9va2FoZWFkU3RyYXRlZ3kiLCJtYXhMb29rYWhlYWQiLCJsb2dnaW5nIiwiUkVDT1JESU5HX1BIQVNFIiwiUlVMRSIsInBlcmZvcm1TZWxmQW5hbHlzaXMiLCJBUkdTIiwib3IiLCJvcHRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/langium-parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/lexer.js":
/*!**************************************************!*\
  !*** ./node_modules/langium/lib/parser/lexer.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_TOKENIZE_OPTIONS: () => (/* binding */ DEFAULT_TOKENIZE_OPTIONS),\n/* harmony export */   DefaultLexer: () => (/* binding */ DefaultLexer),\n/* harmony export */   DefaultLexerErrorMessageProvider: () => (/* binding */ DefaultLexerErrorMessageProvider),\n/* harmony export */   isIMultiModeLexerDefinition: () => (/* binding */ isIMultiModeLexerDefinition),\n/* harmony export */   isTokenTypeArray: () => (/* binding */ isTokenTypeArray),\n/* harmony export */   isTokenTypeDictionary: () => (/* binding */ isTokenTypeDictionary)\n/* harmony export */ });\n/* harmony import */ var chevrotain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chevrotain */ \"(ssr)/./node_modules/chevrotain/lib/src/api.js\");\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \nclass DefaultLexerErrorMessageProvider {\n    buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column) {\n        return chevrotain__WEBPACK_IMPORTED_MODULE_0__.defaultLexerErrorProvider.buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column);\n    }\n    buildUnableToPopLexerModeMessage(token) {\n        return chevrotain__WEBPACK_IMPORTED_MODULE_0__.defaultLexerErrorProvider.buildUnableToPopLexerModeMessage(token);\n    }\n}\nconst DEFAULT_TOKENIZE_OPTIONS = {\n    mode: \"full\"\n};\nclass DefaultLexer {\n    constructor(services){\n        this.errorMessageProvider = services.parser.LexerErrorMessageProvider;\n        this.tokenBuilder = services.parser.TokenBuilder;\n        const tokens = this.tokenBuilder.buildTokens(services.Grammar, {\n            caseInsensitive: services.LanguageMetaData.caseInsensitive\n        });\n        this.tokenTypes = this.toTokenTypeDictionary(tokens);\n        const lexerTokens = isTokenTypeDictionary(tokens) ? Object.values(tokens) : tokens;\n        const production = services.LanguageMetaData.mode === \"production\";\n        this.chevrotainLexer = new chevrotain__WEBPACK_IMPORTED_MODULE_0__.Lexer(lexerTokens, {\n            positionTracking: \"full\",\n            skipValidations: production,\n            errorMessageProvider: this.errorMessageProvider\n        });\n    }\n    get definition() {\n        return this.tokenTypes;\n    }\n    tokenize(text, _options = DEFAULT_TOKENIZE_OPTIONS) {\n        var _a, _b, _c;\n        const chevrotainResult = this.chevrotainLexer.tokenize(text);\n        return {\n            tokens: chevrotainResult.tokens,\n            errors: chevrotainResult.errors,\n            hidden: (_a = chevrotainResult.groups.hidden) !== null && _a !== void 0 ? _a : [],\n            report: (_c = (_b = this.tokenBuilder).flushLexingReport) === null || _c === void 0 ? void 0 : _c.call(_b, text)\n        };\n    }\n    toTokenTypeDictionary(buildTokens) {\n        if (isTokenTypeDictionary(buildTokens)) return buildTokens;\n        const tokens = isIMultiModeLexerDefinition(buildTokens) ? Object.values(buildTokens.modes).flat() : buildTokens;\n        const res = {};\n        tokens.forEach((token)=>res[token.name] = token);\n        return res;\n    }\n}\n/**\n * Returns a check whether the given TokenVocabulary is TokenType array\n */ function isTokenTypeArray(tokenVocabulary) {\n    return Array.isArray(tokenVocabulary) && (tokenVocabulary.length === 0 || \"name\" in tokenVocabulary[0]);\n}\n/**\n * Returns a check whether the given TokenVocabulary is IMultiModeLexerDefinition\n */ function isIMultiModeLexerDefinition(tokenVocabulary) {\n    return tokenVocabulary && \"modes\" in tokenVocabulary && \"defaultMode\" in tokenVocabulary;\n}\n/**\n * Returns a check whether the given TokenVocabulary is TokenTypeDictionary\n */ function isTokenTypeDictionary(tokenVocabulary) {\n    return !isTokenTypeArray(tokenVocabulary) && !isIMultiModeLexerDefinition(tokenVocabulary);\n} //# sourceMappingURL=lexer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2xleGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDRztBQUMxRSxNQUFNRztJQUNUQyxpQ0FBaUNDLFFBQVEsRUFBRUMsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFO1FBQzFFLE9BQU9QLGlFQUF5QkEsQ0FBQ0UsZ0NBQWdDLENBQUNDLFVBQVVDLGFBQWFDLFFBQVFDLE1BQU1DO0lBQzNHO0lBQ0FDLGlDQUFpQ0MsS0FBSyxFQUFFO1FBQ3BDLE9BQU9ULGlFQUF5QkEsQ0FBQ1EsZ0NBQWdDLENBQUNDO0lBQ3RFO0FBQ0o7QUFDTyxNQUFNQywyQkFBMkI7SUFBRUMsTUFBTTtBQUFPLEVBQUU7QUFDbEQsTUFBTUM7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUdELFNBQVNFLE1BQU0sQ0FBQ0MseUJBQXlCO1FBQ3JFLElBQUksQ0FBQ0MsWUFBWSxHQUFHSixTQUFTRSxNQUFNLENBQUNHLFlBQVk7UUFDaEQsTUFBTUMsU0FBUyxJQUFJLENBQUNGLFlBQVksQ0FBQ0csV0FBVyxDQUFDUCxTQUFTUSxPQUFPLEVBQUU7WUFDM0RDLGlCQUFpQlQsU0FBU1UsZ0JBQWdCLENBQUNELGVBQWU7UUFDOUQ7UUFDQSxJQUFJLENBQUNFLFVBQVUsR0FBRyxJQUFJLENBQUNDLHFCQUFxQixDQUFDTjtRQUM3QyxNQUFNTyxjQUFjQyxzQkFBc0JSLFVBQVVTLE9BQU9DLE1BQU0sQ0FBQ1YsVUFBVUE7UUFDNUUsTUFBTVcsYUFBYWpCLFNBQVNVLGdCQUFnQixDQUFDYixJQUFJLEtBQUs7UUFDdEQsSUFBSSxDQUFDcUIsZUFBZSxHQUFHLElBQUlqQyw2Q0FBZUEsQ0FBQzRCLGFBQWE7WUFDcERNLGtCQUFrQjtZQUNsQkMsaUJBQWlCSDtZQUNqQmhCLHNCQUFzQixJQUFJLENBQUNBLG9CQUFvQjtRQUNuRDtJQUNKO0lBQ0EsSUFBSW9CLGFBQWE7UUFDYixPQUFPLElBQUksQ0FBQ1YsVUFBVTtJQUMxQjtJQUNBVyxTQUFTQyxJQUFJLEVBQUVDLFdBQVc1Qix3QkFBd0IsRUFBRTtRQUNoRCxJQUFJNkIsSUFBSUMsSUFBSUM7UUFDWixNQUFNQyxtQkFBbUIsSUFBSSxDQUFDVixlQUFlLENBQUNJLFFBQVEsQ0FBQ0M7UUFDdkQsT0FBTztZQUNIakIsUUFBUXNCLGlCQUFpQnRCLE1BQU07WUFDL0J1QixRQUFRRCxpQkFBaUJDLE1BQU07WUFDL0JDLFFBQVEsQ0FBQ0wsS0FBS0csaUJBQWlCRyxNQUFNLENBQUNELE1BQU0sTUFBTSxRQUFRTCxPQUFPLEtBQUssSUFBSUEsS0FBSyxFQUFFO1lBQ2pGTyxRQUFRLENBQUNMLEtBQUssQ0FBQ0QsS0FBSyxJQUFJLENBQUN0QixZQUFZLEVBQUU2QixpQkFBaUIsTUFBTSxRQUFRTixPQUFPLEtBQUssSUFBSSxLQUFLLElBQUlBLEdBQUdPLElBQUksQ0FBQ1IsSUFBSUg7UUFDL0c7SUFDSjtJQUNBWCxzQkFBc0JMLFdBQVcsRUFBRTtRQUMvQixJQUFJTyxzQkFBc0JQLGNBQ3RCLE9BQU9BO1FBQ1gsTUFBTUQsU0FBUzZCLDRCQUE0QjVCLGVBQWVRLE9BQU9DLE1BQU0sQ0FBQ1QsWUFBWTZCLEtBQUssRUFBRUMsSUFBSSxLQUFLOUI7UUFDcEcsTUFBTStCLE1BQU0sQ0FBQztRQUNiaEMsT0FBT2lDLE9BQU8sQ0FBQzVDLENBQUFBLFFBQVMyQyxHQUFHLENBQUMzQyxNQUFNNkMsSUFBSSxDQUFDLEdBQUc3QztRQUMxQyxPQUFPMkM7SUFDWDtBQUNKO0FBQ0E7O0NBRUMsR0FDTSxTQUFTRyxpQkFBaUJDLGVBQWU7SUFDNUMsT0FBT0MsTUFBTUMsT0FBTyxDQUFDRixvQkFBcUJBLENBQUFBLGdCQUFnQm5ELE1BQU0sS0FBSyxLQUFLLFVBQVVtRCxlQUFlLENBQUMsRUFBRTtBQUMxRztBQUNBOztDQUVDLEdBQ00sU0FBU1AsNEJBQTRCTyxlQUFlO0lBQ3ZELE9BQU9BLG1CQUFtQixXQUFXQSxtQkFBbUIsaUJBQWlCQTtBQUM3RTtBQUNBOztDQUVDLEdBQ00sU0FBUzVCLHNCQUFzQjRCLGVBQWU7SUFDakQsT0FBTyxDQUFDRCxpQkFBaUJDLG9CQUFvQixDQUFDUCw0QkFBNEJPO0FBQzlFLEVBQ0EsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL2xleGVyLmpzP2I4OWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjIgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgTGV4ZXIgYXMgQ2hldnJvdGFpbkxleGVyLCBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyIH0gZnJvbSAnY2hldnJvdGFpbic7XG5leHBvcnQgY2xhc3MgRGVmYXVsdExleGVyRXJyb3JNZXNzYWdlUHJvdmlkZXIge1xuICAgIGJ1aWxkVW5leHBlY3RlZENoYXJhY3RlcnNNZXNzYWdlKGZ1bGxUZXh0LCBzdGFydE9mZnNldCwgbGVuZ3RoLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRMZXhlckVycm9yUHJvdmlkZXIuYnVpbGRVbmV4cGVjdGVkQ2hhcmFjdGVyc01lc3NhZ2UoZnVsbFRleHQsIHN0YXJ0T2Zmc2V0LCBsZW5ndGgsIGxpbmUsIGNvbHVtbik7XG4gICAgfVxuICAgIGJ1aWxkVW5hYmxlVG9Qb3BMZXhlck1vZGVNZXNzYWdlKHRva2VuKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0TGV4ZXJFcnJvclByb3ZpZGVyLmJ1aWxkVW5hYmxlVG9Qb3BMZXhlck1vZGVNZXNzYWdlKHRva2VuKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgREVGQVVMVF9UT0tFTklaRV9PUFRJT05TID0geyBtb2RlOiAnZnVsbCcgfTtcbmV4cG9ydCBjbGFzcyBEZWZhdWx0TGV4ZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXIgPSBzZXJ2aWNlcy5wYXJzZXIuTGV4ZXJFcnJvck1lc3NhZ2VQcm92aWRlcjtcbiAgICAgICAgdGhpcy50b2tlbkJ1aWxkZXIgPSBzZXJ2aWNlcy5wYXJzZXIuVG9rZW5CdWlsZGVyO1xuICAgICAgICBjb25zdCB0b2tlbnMgPSB0aGlzLnRva2VuQnVpbGRlci5idWlsZFRva2VucyhzZXJ2aWNlcy5HcmFtbWFyLCB7XG4gICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmU6IHNlcnZpY2VzLkxhbmd1YWdlTWV0YURhdGEuY2FzZUluc2Vuc2l0aXZlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRva2VuVHlwZXMgPSB0aGlzLnRvVG9rZW5UeXBlRGljdGlvbmFyeSh0b2tlbnMpO1xuICAgICAgICBjb25zdCBsZXhlclRva2VucyA9IGlzVG9rZW5UeXBlRGljdGlvbmFyeSh0b2tlbnMpID8gT2JqZWN0LnZhbHVlcyh0b2tlbnMpIDogdG9rZW5zO1xuICAgICAgICBjb25zdCBwcm9kdWN0aW9uID0gc2VydmljZXMuTGFuZ3VhZ2VNZXRhRGF0YS5tb2RlID09PSAncHJvZHVjdGlvbic7XG4gICAgICAgIHRoaXMuY2hldnJvdGFpbkxleGVyID0gbmV3IENoZXZyb3RhaW5MZXhlcihsZXhlclRva2Vucywge1xuICAgICAgICAgICAgcG9zaXRpb25UcmFja2luZzogJ2Z1bGwnLFxuICAgICAgICAgICAgc2tpcFZhbGlkYXRpb25zOiBwcm9kdWN0aW9uLFxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlUHJvdmlkZXI6IHRoaXMuZXJyb3JNZXNzYWdlUHJvdmlkZXJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBkZWZpbml0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlblR5cGVzO1xuICAgIH1cbiAgICB0b2tlbml6ZSh0ZXh0LCBfb3B0aW9ucyA9IERFRkFVTFRfVE9LRU5JWkVfT1BUSU9OUykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgY2hldnJvdGFpblJlc3VsdCA9IHRoaXMuY2hldnJvdGFpbkxleGVyLnRva2VuaXplKHRleHQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW5zOiBjaGV2cm90YWluUmVzdWx0LnRva2VucyxcbiAgICAgICAgICAgIGVycm9yczogY2hldnJvdGFpblJlc3VsdC5lcnJvcnMsXG4gICAgICAgICAgICBoaWRkZW46IChfYSA9IGNoZXZyb3RhaW5SZXN1bHQuZ3JvdXBzLmhpZGRlbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICByZXBvcnQ6IChfYyA9IChfYiA9IHRoaXMudG9rZW5CdWlsZGVyKS5mbHVzaExleGluZ1JlcG9ydCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIHRleHQpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvVG9rZW5UeXBlRGljdGlvbmFyeShidWlsZFRva2Vucykge1xuICAgICAgICBpZiAoaXNUb2tlblR5cGVEaWN0aW9uYXJ5KGJ1aWxkVG9rZW5zKSlcbiAgICAgICAgICAgIHJldHVybiBidWlsZFRva2VucztcbiAgICAgICAgY29uc3QgdG9rZW5zID0gaXNJTXVsdGlNb2RlTGV4ZXJEZWZpbml0aW9uKGJ1aWxkVG9rZW5zKSA/IE9iamVjdC52YWx1ZXMoYnVpbGRUb2tlbnMubW9kZXMpLmZsYXQoKSA6IGJ1aWxkVG9rZW5zO1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgdG9rZW5zLmZvckVhY2godG9rZW4gPT4gcmVzW3Rva2VuLm5hbWVdID0gdG9rZW4pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhIGNoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIFRva2VuVm9jYWJ1bGFyeSBpcyBUb2tlblR5cGUgYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVG9rZW5UeXBlQXJyYXkodG9rZW5Wb2NhYnVsYXJ5KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodG9rZW5Wb2NhYnVsYXJ5KSAmJiAodG9rZW5Wb2NhYnVsYXJ5Lmxlbmd0aCA9PT0gMCB8fCAnbmFtZScgaW4gdG9rZW5Wb2NhYnVsYXJ5WzBdKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGNoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIFRva2VuVm9jYWJ1bGFyeSBpcyBJTXVsdGlNb2RlTGV4ZXJEZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0lNdWx0aU1vZGVMZXhlckRlZmluaXRpb24odG9rZW5Wb2NhYnVsYXJ5KSB7XG4gICAgcmV0dXJuIHRva2VuVm9jYWJ1bGFyeSAmJiAnbW9kZXMnIGluIHRva2VuVm9jYWJ1bGFyeSAmJiAnZGVmYXVsdE1vZGUnIGluIHRva2VuVm9jYWJ1bGFyeTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGNoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIFRva2VuVm9jYWJ1bGFyeSBpcyBUb2tlblR5cGVEaWN0aW9uYXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Rva2VuVHlwZURpY3Rpb25hcnkodG9rZW5Wb2NhYnVsYXJ5KSB7XG4gICAgcmV0dXJuICFpc1Rva2VuVHlwZUFycmF5KHRva2VuVm9jYWJ1bGFyeSkgJiYgIWlzSU11bHRpTW9kZUxleGVyRGVmaW5pdGlvbih0b2tlblZvY2FidWxhcnkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV4ZXIuanMubWFwIl0sIm5hbWVzIjpbIkxleGVyIiwiQ2hldnJvdGFpbkxleGVyIiwiZGVmYXVsdExleGVyRXJyb3JQcm92aWRlciIsIkRlZmF1bHRMZXhlckVycm9yTWVzc2FnZVByb3ZpZGVyIiwiYnVpbGRVbmV4cGVjdGVkQ2hhcmFjdGVyc01lc3NhZ2UiLCJmdWxsVGV4dCIsInN0YXJ0T2Zmc2V0IiwibGVuZ3RoIiwibGluZSIsImNvbHVtbiIsImJ1aWxkVW5hYmxlVG9Qb3BMZXhlck1vZGVNZXNzYWdlIiwidG9rZW4iLCJERUZBVUxUX1RPS0VOSVpFX09QVElPTlMiLCJtb2RlIiwiRGVmYXVsdExleGVyIiwiY29uc3RydWN0b3IiLCJzZXJ2aWNlcyIsImVycm9yTWVzc2FnZVByb3ZpZGVyIiwicGFyc2VyIiwiTGV4ZXJFcnJvck1lc3NhZ2VQcm92aWRlciIsInRva2VuQnVpbGRlciIsIlRva2VuQnVpbGRlciIsInRva2VucyIsImJ1aWxkVG9rZW5zIiwiR3JhbW1hciIsImNhc2VJbnNlbnNpdGl2ZSIsIkxhbmd1YWdlTWV0YURhdGEiLCJ0b2tlblR5cGVzIiwidG9Ub2tlblR5cGVEaWN0aW9uYXJ5IiwibGV4ZXJUb2tlbnMiLCJpc1Rva2VuVHlwZURpY3Rpb25hcnkiLCJPYmplY3QiLCJ2YWx1ZXMiLCJwcm9kdWN0aW9uIiwiY2hldnJvdGFpbkxleGVyIiwicG9zaXRpb25UcmFja2luZyIsInNraXBWYWxpZGF0aW9ucyIsImRlZmluaXRpb24iLCJ0b2tlbml6ZSIsInRleHQiLCJfb3B0aW9ucyIsIl9hIiwiX2IiLCJfYyIsImNoZXZyb3RhaW5SZXN1bHQiLCJlcnJvcnMiLCJoaWRkZW4iLCJncm91cHMiLCJyZXBvcnQiLCJmbHVzaExleGluZ1JlcG9ydCIsImNhbGwiLCJpc0lNdWx0aU1vZGVMZXhlckRlZmluaXRpb24iLCJtb2RlcyIsImZsYXQiLCJyZXMiLCJmb3JFYWNoIiwibmFtZSIsImlzVG9rZW5UeXBlQXJyYXkiLCJ0b2tlblZvY2FidWxhcnkiLCJBcnJheSIsImlzQXJyYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/lexer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/parser-builder-base.js":
/*!****************************************************************!*\
  !*** ./node_modules/langium/lib/parser/parser-builder-base.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createParser: () => (/* binding */ createParser)\n/* harmony export */ });\n/* harmony import */ var chevrotain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chevrotain */ \"(ssr)/./node_modules/chevrotain/lib/src/api.js\");\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/errors.js */ \"(ssr)/./node_modules/langium/lib/utils/errors.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\nfunction createParser(grammar, parser, tokens) {\n    const parserContext = {\n        parser,\n        tokens,\n        ruleNames: new Map()\n    };\n    buildRules(parserContext, grammar);\n    return parser;\n}\nfunction buildRules(parserContext, grammar) {\n    const reachable = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAllReachableRules)(grammar, false);\n    const parserRules = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_2__.stream)(grammar.rules).filter(_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isParserRule).filter((rule)=>reachable.has(rule));\n    for (const rule of parserRules){\n        const ctx = Object.assign(Object.assign({}, parserContext), {\n            consume: 1,\n            optional: 1,\n            subrule: 1,\n            many: 1,\n            or: 1\n        });\n        parserContext.parser.rule(rule, buildElement(ctx, rule.definition));\n    }\n}\nfunction buildElement(ctx, element, ignoreGuard = false) {\n    let method;\n    if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isKeyword)(element)) {\n        method = buildKeyword(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isAction)(element)) {\n        method = buildAction(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isAssignment)(element)) {\n        method = buildElement(ctx, element.terminal);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isCrossReference)(element)) {\n        method = buildCrossReference(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isRuleCall)(element)) {\n        method = buildRuleCall(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isAlternatives)(element)) {\n        method = buildAlternatives(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isUnorderedGroup)(element)) {\n        method = buildUnorderedGroup(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isGroup)(element)) {\n        method = buildGroup(ctx, element);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isEndOfFile)(element)) {\n        const idx = ctx.consume++;\n        method = ()=>ctx.parser.consume(idx, chevrotain__WEBPACK_IMPORTED_MODULE_0__.EOF, element);\n    } else {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.ErrorWithLocation(element.$cstNode, `Unexpected element type: ${element.$type}`);\n    }\n    return wrap(ctx, ignoreGuard ? undefined : getGuardCondition(element), method, element.cardinality);\n}\nfunction buildAction(ctx, action) {\n    const actionType = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.getTypeName)(action);\n    return ()=>ctx.parser.action(actionType, action);\n}\nfunction buildRuleCall(ctx, ruleCall) {\n    const rule = ruleCall.rule.ref;\n    if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isParserRule)(rule)) {\n        const idx = ctx.subrule++;\n        const fragment = rule.fragment;\n        const predicate = ruleCall.arguments.length > 0 ? buildRuleCallPredicate(rule, ruleCall.arguments) : ()=>({});\n        return (args)=>ctx.parser.subrule(idx, getRule(ctx, rule), fragment, ruleCall, predicate(args));\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isTerminalRule)(rule)) {\n        const idx = ctx.consume++;\n        const method = getToken(ctx, rule.name);\n        return ()=>ctx.parser.consume(idx, method, ruleCall);\n    } else if (!rule) {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.ErrorWithLocation(ruleCall.$cstNode, `Undefined rule: ${ruleCall.rule.$refText}`);\n    } else {\n        (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.assertUnreachable)(rule);\n    }\n}\nfunction buildRuleCallPredicate(rule, namedArgs) {\n    const predicates = namedArgs.map((e)=>buildPredicate(e.value));\n    return (args)=>{\n        const ruleArgs = {};\n        for(let i = 0; i < predicates.length; i++){\n            const ruleTarget = rule.parameters[i];\n            const predicate = predicates[i];\n            ruleArgs[ruleTarget.name] = predicate(args);\n        }\n        return ruleArgs;\n    };\n}\nfunction buildPredicate(condition) {\n    if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isDisjunction)(condition)) {\n        const left = buildPredicate(condition.left);\n        const right = buildPredicate(condition.right);\n        return (args)=>left(args) || right(args);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isConjunction)(condition)) {\n        const left = buildPredicate(condition.left);\n        const right = buildPredicate(condition.right);\n        return (args)=>left(args) && right(args);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isNegation)(condition)) {\n        const value = buildPredicate(condition.value);\n        return (args)=>!value(args);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isParameterReference)(condition)) {\n        const name = condition.parameter.ref.name;\n        return (args)=>args !== undefined && args[name] === true;\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isBooleanLiteral)(condition)) {\n        const value = Boolean(condition.true);\n        return ()=>value;\n    }\n    (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.assertUnreachable)(condition);\n}\nfunction buildAlternatives(ctx, alternatives) {\n    if (alternatives.elements.length === 1) {\n        return buildElement(ctx, alternatives.elements[0]);\n    } else {\n        const methods = [];\n        for (const element of alternatives.elements){\n            const predicatedMethod = {\n                // Since we handle the guard condition in the alternative already\n                // We can ignore the group guard condition inside\n                ALT: buildElement(ctx, element, true)\n            };\n            const guard = getGuardCondition(element);\n            if (guard) {\n                predicatedMethod.GATE = buildPredicate(guard);\n            }\n            methods.push(predicatedMethod);\n        }\n        const idx = ctx.or++;\n        return (args)=>ctx.parser.alternatives(idx, methods.map((method)=>{\n                const alt = {\n                    ALT: ()=>method.ALT(args)\n                };\n                const gate = method.GATE;\n                if (gate) {\n                    alt.GATE = ()=>gate(args);\n                }\n                return alt;\n            }));\n    }\n}\nfunction buildUnorderedGroup(ctx, group) {\n    if (group.elements.length === 1) {\n        return buildElement(ctx, group.elements[0]);\n    }\n    const methods = [];\n    for (const element of group.elements){\n        const predicatedMethod = {\n            // Since we handle the guard condition in the alternative already\n            // We can ignore the group guard condition inside\n            ALT: buildElement(ctx, element, true)\n        };\n        const guard = getGuardCondition(element);\n        if (guard) {\n            predicatedMethod.GATE = buildPredicate(guard);\n        }\n        methods.push(predicatedMethod);\n    }\n    const orIdx = ctx.or++;\n    const idFunc = (groupIdx, lParser)=>{\n        const stackId = lParser.getRuleStack().join(\"-\");\n        return `uGroup_${groupIdx}_${stackId}`;\n    };\n    const alternatives = (args)=>ctx.parser.alternatives(orIdx, methods.map((method, idx)=>{\n            const alt = {\n                ALT: ()=>true\n            };\n            const parser = ctx.parser;\n            alt.ALT = ()=>{\n                method.ALT(args);\n                if (!parser.isRecording()) {\n                    const key = idFunc(orIdx, parser);\n                    if (!parser.unorderedGroups.get(key)) {\n                        // init after clear state\n                        parser.unorderedGroups.set(key, []);\n                    }\n                    const groupState = parser.unorderedGroups.get(key);\n                    if (typeof (groupState === null || groupState === void 0 ? void 0 : groupState[idx]) === \"undefined\") {\n                        // Not accessed yet\n                        groupState[idx] = true;\n                    }\n                }\n            };\n            const gate = method.GATE;\n            if (gate) {\n                alt.GATE = ()=>gate(args);\n            } else {\n                alt.GATE = ()=>{\n                    const trackedAlternatives = parser.unorderedGroups.get(idFunc(orIdx, parser));\n                    const allow = !(trackedAlternatives === null || trackedAlternatives === void 0 ? void 0 : trackedAlternatives[idx]);\n                    return allow;\n                };\n            }\n            return alt;\n        }));\n    const wrapped = wrap(ctx, getGuardCondition(group), alternatives, \"*\");\n    return (args)=>{\n        wrapped(args);\n        if (!ctx.parser.isRecording()) {\n            ctx.parser.unorderedGroups.delete(idFunc(orIdx, ctx.parser));\n        }\n    };\n}\nfunction buildGroup(ctx, group) {\n    const methods = group.elements.map((e)=>buildElement(ctx, e));\n    return (args)=>methods.forEach((method)=>method(args));\n}\nfunction getGuardCondition(element) {\n    if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isGroup)(element)) {\n        return element.guardCondition;\n    }\n    return undefined;\n}\nfunction buildCrossReference(ctx, crossRef, terminal = crossRef.terminal) {\n    if (!terminal) {\n        if (!crossRef.type.ref) {\n            throw new Error(\"Could not resolve reference to type: \" + crossRef.type.$refText);\n        }\n        const assignment = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.findNameAssignment)(crossRef.type.ref);\n        const assignTerminal = assignment === null || assignment === void 0 ? void 0 : assignment.terminal;\n        if (!assignTerminal) {\n            throw new Error(\"Could not find name assignment for type: \" + (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.getTypeName)(crossRef.type.ref));\n        }\n        return buildCrossReference(ctx, crossRef, assignTerminal);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isRuleCall)(terminal) && (0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isParserRule)(terminal.rule.ref)) {\n        // The terminal is a data type rule here. Everything else will result in a validation error.\n        const rule = terminal.rule.ref;\n        const idx = ctx.subrule++;\n        return (args)=>ctx.parser.subrule(idx, getRule(ctx, rule), false, crossRef, args);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isRuleCall)(terminal) && (0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isTerminalRule)(terminal.rule.ref)) {\n        const idx = ctx.consume++;\n        const terminalRule = getToken(ctx, terminal.rule.ref.name);\n        return ()=>ctx.parser.consume(idx, terminalRule, crossRef);\n    } else if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isKeyword)(terminal)) {\n        const idx = ctx.consume++;\n        const keyword = getToken(ctx, terminal.value);\n        return ()=>ctx.parser.consume(idx, keyword, crossRef);\n    } else {\n        throw new Error(\"Could not build cross reference parser\");\n    }\n}\nfunction buildKeyword(ctx, keyword) {\n    const idx = ctx.consume++;\n    const token = ctx.tokens[keyword.value];\n    if (!token) {\n        throw new Error(\"Could not find token for keyword: \" + keyword.value);\n    }\n    return ()=>ctx.parser.consume(idx, token, keyword);\n}\nfunction wrap(ctx, guard, method, cardinality) {\n    const gate = guard && buildPredicate(guard);\n    if (!cardinality) {\n        if (gate) {\n            const idx = ctx.or++;\n            return (args)=>ctx.parser.alternatives(idx, [\n                    {\n                        ALT: ()=>method(args),\n                        GATE: ()=>gate(args)\n                    },\n                    {\n                        ALT: (0,chevrotain__WEBPACK_IMPORTED_MODULE_0__.EMPTY_ALT)(),\n                        GATE: ()=>!gate(args)\n                    }\n                ]);\n        } else {\n            return method;\n        }\n    }\n    if (cardinality === \"*\") {\n        const idx = ctx.many++;\n        return (args)=>ctx.parser.many(idx, {\n                DEF: ()=>method(args),\n                GATE: gate ? ()=>gate(args) : undefined\n            });\n    } else if (cardinality === \"+\") {\n        const idx = ctx.many++;\n        if (gate) {\n            const orIdx = ctx.or++;\n            // In the case of a guard condition for the `+` group\n            // We combine it with an empty alternative\n            // If the condition returns true, it needs to parse at least a single iteration\n            // If its false, it is not allowed to parse anything\n            return (args)=>ctx.parser.alternatives(orIdx, [\n                    {\n                        ALT: ()=>ctx.parser.atLeastOne(idx, {\n                                DEF: ()=>method(args)\n                            }),\n                        GATE: ()=>gate(args)\n                    },\n                    {\n                        ALT: (0,chevrotain__WEBPACK_IMPORTED_MODULE_0__.EMPTY_ALT)(),\n                        GATE: ()=>!gate(args)\n                    }\n                ]);\n        } else {\n            return (args)=>ctx.parser.atLeastOne(idx, {\n                    DEF: ()=>method(args)\n                });\n        }\n    } else if (cardinality === \"?\") {\n        const idx = ctx.optional++;\n        return (args)=>ctx.parser.optional(idx, {\n                DEF: ()=>method(args),\n                GATE: gate ? ()=>gate(args) : undefined\n            });\n    } else {\n        (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.assertUnreachable)(cardinality);\n    }\n}\nfunction getRule(ctx, element) {\n    const name = getRuleName(ctx, element);\n    const rule = ctx.parser.getRule(name);\n    if (!rule) throw new Error(`Rule \"${name}\" not found.\"`);\n    return rule;\n}\nfunction getRuleName(ctx, element) {\n    if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isParserRule)(element)) {\n        return element.name;\n    } else if (ctx.ruleNames.has(element)) {\n        return ctx.ruleNames.get(element);\n    } else {\n        let item = element;\n        let parent = item.$container;\n        let ruleName = element.$type;\n        while(!(0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isParserRule)(parent)){\n            if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isGroup)(parent) || (0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isAlternatives)(parent) || (0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_3__.isUnorderedGroup)(parent)) {\n                const index = parent.elements.indexOf(item);\n                ruleName = index.toString() + \":\" + ruleName;\n            }\n            item = parent;\n            parent = parent.$container;\n        }\n        const rule = parent;\n        ruleName = rule.name + \":\" + ruleName;\n        ctx.ruleNames.set(element, ruleName);\n        return ruleName;\n    }\n}\nfunction getToken(ctx, name) {\n    const token = ctx.tokens[name];\n    if (!token) throw new Error(`Token \"${name}\" not found.\"`);\n    return token;\n} //# sourceMappingURL=parser-builder-base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL3BhcnNlci1idWlsZGVyLWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ2xDO0FBQzRPO0FBQzlNO0FBQzlCO0FBQ3NEO0FBQzNGLFNBQVN3QixhQUFhQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsTUFBTTtJQUNoRCxNQUFNQyxnQkFBZ0I7UUFDbEJGO1FBQ0FDO1FBQ0FFLFdBQVcsSUFBSUM7SUFDbkI7SUFDQUMsV0FBV0gsZUFBZUg7SUFDMUIsT0FBT0M7QUFDWDtBQUNBLFNBQVNLLFdBQVdILGFBQWEsRUFBRUgsT0FBTztJQUN0QyxNQUFNTyxZQUFZViw2RUFBb0JBLENBQUNHLFNBQVM7SUFDaEQsTUFBTVEsY0FBY2Isd0RBQU1BLENBQUNLLFFBQVFTLEtBQUssRUFBRUMsTUFBTSxDQUFDdEIscUVBQVlBLEVBQUVzQixNQUFNLENBQUNDLENBQUFBLE9BQVFKLFVBQVVLLEdBQUcsQ0FBQ0Q7SUFDNUYsS0FBSyxNQUFNQSxRQUFRSCxZQUFhO1FBQzVCLE1BQU1LLE1BQU1DLE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR1osZ0JBQWdCO1lBQUVhLFNBQVM7WUFBR0MsVUFBVTtZQUFHQyxTQUFTO1lBQUdDLE1BQU07WUFBR0MsSUFBSTtRQUFFO1FBQ2xIakIsY0FBY0YsTUFBTSxDQUFDVSxJQUFJLENBQUNBLE1BQU1VLGFBQWFSLEtBQUtGLEtBQUtXLFVBQVU7SUFDckU7QUFDSjtBQUNBLFNBQVNELGFBQWFSLEdBQUcsRUFBRVUsT0FBTyxFQUFFQyxjQUFjLEtBQUs7SUFDbkQsSUFBSUM7SUFDSixJQUFJeEMsc0VBQVNBLENBQUNzQyxVQUFVO1FBQ3BCRSxTQUFTQyxhQUFhYixLQUFLVTtJQUMvQixPQUNLLElBQUk5QyxxRUFBUUEsQ0FBQzhDLFVBQVU7UUFDeEJFLFNBQVNFLFlBQVlkLEtBQUtVO0lBQzlCLE9BQ0ssSUFBSTND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QWEsQ0FBQztJQUNqRCxPQUFPdUQ7QUFDWCxFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3BhcnNlci9wYXJzZXItYnVpbGRlci1iYXNlLmpzPzEyMzciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjIgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgRU1QVFlfQUxULCBFT0YgfSBmcm9tICdjaGV2cm90YWluJztcbmltcG9ydCB7IGlzQWN0aW9uLCBpc0FsdGVybmF0aXZlcywgaXNFbmRPZkZpbGUsIGlzQXNzaWdubWVudCwgaXNDb25qdW5jdGlvbiwgaXNDcm9zc1JlZmVyZW5jZSwgaXNEaXNqdW5jdGlvbiwgaXNHcm91cCwgaXNLZXl3b3JkLCBpc05lZ2F0aW9uLCBpc1BhcmFtZXRlclJlZmVyZW5jZSwgaXNQYXJzZXJSdWxlLCBpc1J1bGVDYWxsLCBpc1Rlcm1pbmFsUnVsZSwgaXNVbm9yZGVyZWRHcm91cCwgaXNCb29sZWFuTGl0ZXJhbCB9IGZyb20gJy4uL2xhbmd1YWdlcy9nZW5lcmF0ZWQvYXN0LmpzJztcbmltcG9ydCB7IGFzc2VydFVucmVhY2hhYmxlLCBFcnJvcldpdGhMb2NhdGlvbiB9IGZyb20gJy4uL3V0aWxzL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBzdHJlYW0gfSBmcm9tICcuLi91dGlscy9zdHJlYW0uanMnO1xuaW1wb3J0IHsgZmluZE5hbWVBc3NpZ25tZW50LCBnZXRBbGxSZWFjaGFibGVSdWxlcywgZ2V0VHlwZU5hbWUgfSBmcm9tICcuLi91dGlscy9ncmFtbWFyLXV0aWxzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZ3JhbW1hciwgcGFyc2VyLCB0b2tlbnMpIHtcbiAgICBjb25zdCBwYXJzZXJDb250ZXh0ID0ge1xuICAgICAgICBwYXJzZXIsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgcnVsZU5hbWVzOiBuZXcgTWFwKClcbiAgICB9O1xuICAgIGJ1aWxkUnVsZXMocGFyc2VyQ29udGV4dCwgZ3JhbW1hcik7XG4gICAgcmV0dXJuIHBhcnNlcjtcbn1cbmZ1bmN0aW9uIGJ1aWxkUnVsZXMocGFyc2VyQ29udGV4dCwgZ3JhbW1hcikge1xuICAgIGNvbnN0IHJlYWNoYWJsZSA9IGdldEFsbFJlYWNoYWJsZVJ1bGVzKGdyYW1tYXIsIGZhbHNlKTtcbiAgICBjb25zdCBwYXJzZXJSdWxlcyA9IHN0cmVhbShncmFtbWFyLnJ1bGVzKS5maWx0ZXIoaXNQYXJzZXJSdWxlKS5maWx0ZXIocnVsZSA9PiByZWFjaGFibGUuaGFzKHJ1bGUpKTtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcGFyc2VyUnVsZXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZXJDb250ZXh0KSwgeyBjb25zdW1lOiAxLCBvcHRpb25hbDogMSwgc3VicnVsZTogMSwgbWFueTogMSwgb3I6IDEgfSk7XG4gICAgICAgIHBhcnNlckNvbnRleHQucGFyc2VyLnJ1bGUocnVsZSwgYnVpbGRFbGVtZW50KGN0eCwgcnVsZS5kZWZpbml0aW9uKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYnVpbGRFbGVtZW50KGN0eCwgZWxlbWVudCwgaWdub3JlR3VhcmQgPSBmYWxzZSkge1xuICAgIGxldCBtZXRob2Q7XG4gICAgaWYgKGlzS2V5d29yZChlbGVtZW50KSkge1xuICAgICAgICBtZXRob2QgPSBidWlsZEtleXdvcmQoY3R4LCBlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBY3Rpb24oZWxlbWVudCkpIHtcbiAgICAgICAgbWV0aG9kID0gYnVpbGRBY3Rpb24oY3R4LCBlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3NpZ25tZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIG1ldGhvZCA9IGJ1aWxkRWxlbWVudChjdHgsIGVsZW1lbnQudGVybWluYWwpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Nyb3NzUmVmZXJlbmNlKGVsZW1lbnQpKSB7XG4gICAgICAgIG1ldGhvZCA9IGJ1aWxkQ3Jvc3NSZWZlcmVuY2UoY3R4LCBlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNSdWxlQ2FsbChlbGVtZW50KSkge1xuICAgICAgICBtZXRob2QgPSBidWlsZFJ1bGVDYWxsKGN0eCwgZWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQWx0ZXJuYXRpdmVzKGVsZW1lbnQpKSB7XG4gICAgICAgIG1ldGhvZCA9IGJ1aWxkQWx0ZXJuYXRpdmVzKGN0eCwgZWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVW5vcmRlcmVkR3JvdXAoZWxlbWVudCkpIHtcbiAgICAgICAgbWV0aG9kID0gYnVpbGRVbm9yZGVyZWRHcm91cChjdHgsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0dyb3VwKGVsZW1lbnQpKSB7XG4gICAgICAgIG1ldGhvZCA9IGJ1aWxkR3JvdXAoY3R4LCBlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNFbmRPZkZpbGUoZWxlbWVudCkpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gY3R4LmNvbnN1bWUrKztcbiAgICAgICAgbWV0aG9kID0gKCkgPT4gY3R4LnBhcnNlci5jb25zdW1lKGlkeCwgRU9GLCBlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcldpdGhMb2NhdGlvbihlbGVtZW50LiRjc3ROb2RlLCBgVW5leHBlY3RlZCBlbGVtZW50IHR5cGU6ICR7ZWxlbWVudC4kdHlwZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyYXAoY3R4LCBpZ25vcmVHdWFyZCA/IHVuZGVmaW5lZCA6IGdldEd1YXJkQ29uZGl0aW9uKGVsZW1lbnQpLCBtZXRob2QsIGVsZW1lbnQuY2FyZGluYWxpdHkpO1xufVxuZnVuY3Rpb24gYnVpbGRBY3Rpb24oY3R4LCBhY3Rpb24pIHtcbiAgICBjb25zdCBhY3Rpb25UeXBlID0gZ2V0VHlwZU5hbWUoYWN0aW9uKTtcbiAgICByZXR1cm4gKCkgPT4gY3R4LnBhcnNlci5hY3Rpb24oYWN0aW9uVHlwZSwgYWN0aW9uKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkUnVsZUNhbGwoY3R4LCBydWxlQ2FsbCkge1xuICAgIGNvbnN0IHJ1bGUgPSBydWxlQ2FsbC5ydWxlLnJlZjtcbiAgICBpZiAoaXNQYXJzZXJSdWxlKHJ1bGUpKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGN0eC5zdWJydWxlKys7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gcnVsZS5mcmFnbWVudDtcbiAgICAgICAgY29uc3QgcHJlZGljYXRlID0gcnVsZUNhbGwuYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBidWlsZFJ1bGVDYWxsUHJlZGljYXRlKHJ1bGUsIHJ1bGVDYWxsLmFyZ3VtZW50cykgOiAoKSA9PiAoe30pO1xuICAgICAgICByZXR1cm4gKGFyZ3MpID0+IGN0eC5wYXJzZXIuc3VicnVsZShpZHgsIGdldFJ1bGUoY3R4LCBydWxlKSwgZnJhZ21lbnQsIHJ1bGVDYWxsLCBwcmVkaWNhdGUoYXJncykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1Rlcm1pbmFsUnVsZShydWxlKSkge1xuICAgICAgICBjb25zdCBpZHggPSBjdHguY29uc3VtZSsrO1xuICAgICAgICBjb25zdCBtZXRob2QgPSBnZXRUb2tlbihjdHgsIHJ1bGUubmFtZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjdHgucGFyc2VyLmNvbnN1bWUoaWR4LCBtZXRob2QsIHJ1bGVDYWxsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXJ1bGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yV2l0aExvY2F0aW9uKHJ1bGVDYWxsLiRjc3ROb2RlLCBgVW5kZWZpbmVkIHJ1bGU6ICR7cnVsZUNhbGwucnVsZS4kcmVmVGV4dH1gKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydFVucmVhY2hhYmxlKHJ1bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ1aWxkUnVsZUNhbGxQcmVkaWNhdGUocnVsZSwgbmFtZWRBcmdzKSB7XG4gICAgY29uc3QgcHJlZGljYXRlcyA9IG5hbWVkQXJncy5tYXAoZSA9PiBidWlsZFByZWRpY2F0ZShlLnZhbHVlKSk7XG4gICAgcmV0dXJuIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHJ1bGVBcmdzID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZGljYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcnVsZVRhcmdldCA9IHJ1bGUucGFyYW1ldGVyc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IHByZWRpY2F0ZXNbaV07XG4gICAgICAgICAgICBydWxlQXJnc1tydWxlVGFyZ2V0Lm5hbWVdID0gcHJlZGljYXRlKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydWxlQXJncztcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRQcmVkaWNhdGUoY29uZGl0aW9uKSB7XG4gICAgaWYgKGlzRGlzanVuY3Rpb24oY29uZGl0aW9uKSkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gYnVpbGRQcmVkaWNhdGUoY29uZGl0aW9uLmxlZnQpO1xuICAgICAgICBjb25zdCByaWdodCA9IGJ1aWxkUHJlZGljYXRlKGNvbmRpdGlvbi5yaWdodCk7XG4gICAgICAgIHJldHVybiAoYXJncykgPT4gKGxlZnQoYXJncykgfHwgcmlnaHQoYXJncykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Nvbmp1bmN0aW9uKGNvbmRpdGlvbikpIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IGJ1aWxkUHJlZGljYXRlKGNvbmRpdGlvbi5sZWZ0KTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBidWlsZFByZWRpY2F0ZShjb25kaXRpb24ucmlnaHQpO1xuICAgICAgICByZXR1cm4gKGFyZ3MpID0+IChsZWZ0KGFyZ3MpICYmIHJpZ2h0KGFyZ3MpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOZWdhdGlvbihjb25kaXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYnVpbGRQcmVkaWNhdGUoY29uZGl0aW9uLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIChhcmdzKSA9PiAhdmFsdWUoYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGFyYW1ldGVyUmVmZXJlbmNlKGNvbmRpdGlvbikpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGNvbmRpdGlvbi5wYXJhbWV0ZXIucmVmLm5hbWU7XG4gICAgICAgIHJldHVybiAoYXJncykgPT4gYXJncyAhPT0gdW5kZWZpbmVkICYmIGFyZ3NbbmFtZV0gPT09IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQm9vbGVhbkxpdGVyYWwoY29uZGl0aW9uKSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IEJvb2xlYW4oY29uZGl0aW9uLnRydWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gdmFsdWU7XG4gICAgfVxuICAgIGFzc2VydFVucmVhY2hhYmxlKGNvbmRpdGlvbik7XG59XG5mdW5jdGlvbiBidWlsZEFsdGVybmF0aXZlcyhjdHgsIGFsdGVybmF0aXZlcykge1xuICAgIGlmIChhbHRlcm5hdGl2ZXMuZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBidWlsZEVsZW1lbnQoY3R4LCBhbHRlcm5hdGl2ZXMuZWxlbWVudHNbMF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgYWx0ZXJuYXRpdmVzLmVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVkaWNhdGVkTWV0aG9kID0ge1xuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIGhhbmRsZSB0aGUgZ3VhcmQgY29uZGl0aW9uIGluIHRoZSBhbHRlcm5hdGl2ZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIGlnbm9yZSB0aGUgZ3JvdXAgZ3VhcmQgY29uZGl0aW9uIGluc2lkZVxuICAgICAgICAgICAgICAgIEFMVDogYnVpbGRFbGVtZW50KGN0eCwgZWxlbWVudCwgdHJ1ZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBndWFyZCA9IGdldEd1YXJkQ29uZGl0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGd1YXJkKSB7XG4gICAgICAgICAgICAgICAgcHJlZGljYXRlZE1ldGhvZC5HQVRFID0gYnVpbGRQcmVkaWNhdGUoZ3VhcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5wdXNoKHByZWRpY2F0ZWRNZXRob2QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlkeCA9IGN0eC5vcisrO1xuICAgICAgICByZXR1cm4gKGFyZ3MpID0+IGN0eC5wYXJzZXIuYWx0ZXJuYXRpdmVzKGlkeCwgbWV0aG9kcy5tYXAobWV0aG9kID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsdCA9IHtcbiAgICAgICAgICAgICAgICBBTFQ6ICgpID0+IG1ldGhvZC5BTFQoYXJncylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBnYXRlID0gbWV0aG9kLkdBVEU7XG4gICAgICAgICAgICBpZiAoZ2F0ZSkge1xuICAgICAgICAgICAgICAgIGFsdC5HQVRFID0gKCkgPT4gZ2F0ZShhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbHQ7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5mdW5jdGlvbiBidWlsZFVub3JkZXJlZEdyb3VwKGN0eCwgZ3JvdXApIHtcbiAgICBpZiAoZ3JvdXAuZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBidWlsZEVsZW1lbnQoY3R4LCBncm91cC5lbGVtZW50c1swXSk7XG4gICAgfVxuICAgIGNvbnN0IG1ldGhvZHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZ3JvdXAuZWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgcHJlZGljYXRlZE1ldGhvZCA9IHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHdlIGhhbmRsZSB0aGUgZ3VhcmQgY29uZGl0aW9uIGluIHRoZSBhbHRlcm5hdGl2ZSBhbHJlYWR5XG4gICAgICAgICAgICAvLyBXZSBjYW4gaWdub3JlIHRoZSBncm91cCBndWFyZCBjb25kaXRpb24gaW5zaWRlXG4gICAgICAgICAgICBBTFQ6IGJ1aWxkRWxlbWVudChjdHgsIGVsZW1lbnQsIHRydWUpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGd1YXJkID0gZ2V0R3VhcmRDb25kaXRpb24oZWxlbWVudCk7XG4gICAgICAgIGlmIChndWFyZCkge1xuICAgICAgICAgICAgcHJlZGljYXRlZE1ldGhvZC5HQVRFID0gYnVpbGRQcmVkaWNhdGUoZ3VhcmQpO1xuICAgICAgICB9XG4gICAgICAgIG1ldGhvZHMucHVzaChwcmVkaWNhdGVkTWV0aG9kKTtcbiAgICB9XG4gICAgY29uc3Qgb3JJZHggPSBjdHgub3IrKztcbiAgICBjb25zdCBpZEZ1bmMgPSAoZ3JvdXBJZHgsIGxQYXJzZXIpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhY2tJZCA9IGxQYXJzZXIuZ2V0UnVsZVN0YWNrKCkuam9pbignLScpO1xuICAgICAgICByZXR1cm4gYHVHcm91cF8ke2dyb3VwSWR4fV8ke3N0YWNrSWR9YDtcbiAgICB9O1xuICAgIGNvbnN0IGFsdGVybmF0aXZlcyA9IChhcmdzKSA9PiBjdHgucGFyc2VyLmFsdGVybmF0aXZlcyhvcklkeCwgbWV0aG9kcy5tYXAoKG1ldGhvZCwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFsdCA9IHsgQUxUOiAoKSA9PiB0cnVlIH07XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IGN0eC5wYXJzZXI7XG4gICAgICAgIGFsdC5BTFQgPSAoKSA9PiB7XG4gICAgICAgICAgICBtZXRob2QuQUxUKGFyZ3MpO1xuICAgICAgICAgICAgaWYgKCFwYXJzZXIuaXNSZWNvcmRpbmcoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGlkRnVuYyhvcklkeCwgcGFyc2VyKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlci51bm9yZGVyZWRHcm91cHMuZ2V0KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5pdCBhZnRlciBjbGVhciBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBwYXJzZXIudW5vcmRlcmVkR3JvdXBzLnNldChrZXksIFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBTdGF0ZSA9IHBhcnNlci51bm9yZGVyZWRHcm91cHMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoZ3JvdXBTdGF0ZSA9PT0gbnVsbCB8fCBncm91cFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBncm91cFN0YXRlW2lkeF0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3QgYWNjZXNzZWQgeWV0XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwU3RhdGVbaWR4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBnYXRlID0gbWV0aG9kLkdBVEU7XG4gICAgICAgIGlmIChnYXRlKSB7XG4gICAgICAgICAgICBhbHQuR0FURSA9ICgpID0+IGdhdGUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbHQuR0FURSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja2VkQWx0ZXJuYXRpdmVzID0gcGFyc2VyLnVub3JkZXJlZEdyb3Vwcy5nZXQoaWRGdW5jKG9ySWR4LCBwYXJzZXIpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxvdyA9ICEodHJhY2tlZEFsdGVybmF0aXZlcyA9PT0gbnVsbCB8fCB0cmFja2VkQWx0ZXJuYXRpdmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0cmFja2VkQWx0ZXJuYXRpdmVzW2lkeF0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBhbGxvdztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsdDtcbiAgICB9KSk7XG4gICAgY29uc3Qgd3JhcHBlZCA9IHdyYXAoY3R4LCBnZXRHdWFyZENvbmRpdGlvbihncm91cCksIGFsdGVybmF0aXZlcywgJyonKTtcbiAgICByZXR1cm4gKGFyZ3MpID0+IHtcbiAgICAgICAgd3JhcHBlZChhcmdzKTtcbiAgICAgICAgaWYgKCFjdHgucGFyc2VyLmlzUmVjb3JkaW5nKCkpIHtcbiAgICAgICAgICAgIGN0eC5wYXJzZXIudW5vcmRlcmVkR3JvdXBzLmRlbGV0ZShpZEZ1bmMob3JJZHgsIGN0eC5wYXJzZXIpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZEdyb3VwKGN0eCwgZ3JvdXApIHtcbiAgICBjb25zdCBtZXRob2RzID0gZ3JvdXAuZWxlbWVudHMubWFwKGUgPT4gYnVpbGRFbGVtZW50KGN0eCwgZSkpO1xuICAgIHJldHVybiAoYXJncykgPT4gbWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiBtZXRob2QoYXJncykpO1xufVxuZnVuY3Rpb24gZ2V0R3VhcmRDb25kaXRpb24oZWxlbWVudCkge1xuICAgIGlmIChpc0dyb3VwKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lmd1YXJkQ29uZGl0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gYnVpbGRDcm9zc1JlZmVyZW5jZShjdHgsIGNyb3NzUmVmLCB0ZXJtaW5hbCA9IGNyb3NzUmVmLnRlcm1pbmFsKSB7XG4gICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICBpZiAoIWNyb3NzUmVmLnR5cGUucmVmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXNvbHZlIHJlZmVyZW5jZSB0byB0eXBlOiAnICsgY3Jvc3NSZWYudHlwZS4kcmVmVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXNzaWdubWVudCA9IGZpbmROYW1lQXNzaWdubWVudChjcm9zc1JlZi50eXBlLnJlZik7XG4gICAgICAgIGNvbnN0IGFzc2lnblRlcm1pbmFsID0gYXNzaWdubWVudCA9PT0gbnVsbCB8fCBhc3NpZ25tZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhc3NpZ25tZW50LnRlcm1pbmFsO1xuICAgICAgICBpZiAoIWFzc2lnblRlcm1pbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIG5hbWUgYXNzaWdubWVudCBmb3IgdHlwZTogJyArIGdldFR5cGVOYW1lKGNyb3NzUmVmLnR5cGUucmVmKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkQ3Jvc3NSZWZlcmVuY2UoY3R4LCBjcm9zc1JlZiwgYXNzaWduVGVybWluYWwpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1J1bGVDYWxsKHRlcm1pbmFsKSAmJiBpc1BhcnNlclJ1bGUodGVybWluYWwucnVsZS5yZWYpKSB7XG4gICAgICAgIC8vIFRoZSB0ZXJtaW5hbCBpcyBhIGRhdGEgdHlwZSBydWxlIGhlcmUuIEV2ZXJ5dGhpbmcgZWxzZSB3aWxsIHJlc3VsdCBpbiBhIHZhbGlkYXRpb24gZXJyb3IuXG4gICAgICAgIGNvbnN0IHJ1bGUgPSB0ZXJtaW5hbC5ydWxlLnJlZjtcbiAgICAgICAgY29uc3QgaWR4ID0gY3R4LnN1YnJ1bGUrKztcbiAgICAgICAgcmV0dXJuIChhcmdzKSA9PiBjdHgucGFyc2VyLnN1YnJ1bGUoaWR4LCBnZXRSdWxlKGN0eCwgcnVsZSksIGZhbHNlLCBjcm9zc1JlZiwgYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUnVsZUNhbGwodGVybWluYWwpICYmIGlzVGVybWluYWxSdWxlKHRlcm1pbmFsLnJ1bGUucmVmKSkge1xuICAgICAgICBjb25zdCBpZHggPSBjdHguY29uc3VtZSsrO1xuICAgICAgICBjb25zdCB0ZXJtaW5hbFJ1bGUgPSBnZXRUb2tlbihjdHgsIHRlcm1pbmFsLnJ1bGUucmVmLm5hbWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY3R4LnBhcnNlci5jb25zdW1lKGlkeCwgdGVybWluYWxSdWxlLCBjcm9zc1JlZik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzS2V5d29yZCh0ZXJtaW5hbCkpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gY3R4LmNvbnN1bWUrKztcbiAgICAgICAgY29uc3Qga2V5d29yZCA9IGdldFRva2VuKGN0eCwgdGVybWluYWwudmFsdWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY3R4LnBhcnNlci5jb25zdW1lKGlkeCwga2V5d29yZCwgY3Jvc3NSZWYpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgYnVpbGQgY3Jvc3MgcmVmZXJlbmNlIHBhcnNlcicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ1aWxkS2V5d29yZChjdHgsIGtleXdvcmQpIHtcbiAgICBjb25zdCBpZHggPSBjdHguY29uc3VtZSsrO1xuICAgIGNvbnN0IHRva2VuID0gY3R4LnRva2Vuc1trZXl3b3JkLnZhbHVlXTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgdG9rZW4gZm9yIGtleXdvcmQ6ICcgKyBrZXl3b3JkLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IGN0eC5wYXJzZXIuY29uc3VtZShpZHgsIHRva2VuLCBrZXl3b3JkKTtcbn1cbmZ1bmN0aW9uIHdyYXAoY3R4LCBndWFyZCwgbWV0aG9kLCBjYXJkaW5hbGl0eSkge1xuICAgIGNvbnN0IGdhdGUgPSBndWFyZCAmJiBidWlsZFByZWRpY2F0ZShndWFyZCk7XG4gICAgaWYgKCFjYXJkaW5hbGl0eSkge1xuICAgICAgICBpZiAoZ2F0ZSkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gY3R4Lm9yKys7XG4gICAgICAgICAgICByZXR1cm4gKGFyZ3MpID0+IGN0eC5wYXJzZXIuYWx0ZXJuYXRpdmVzKGlkeCwgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgQUxUOiAoKSA9PiBtZXRob2QoYXJncyksXG4gICAgICAgICAgICAgICAgICAgIEdBVEU6ICgpID0+IGdhdGUoYXJncylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgQUxUOiBFTVBUWV9BTFQoKSxcbiAgICAgICAgICAgICAgICAgICAgR0FURTogKCkgPT4gIWdhdGUoYXJncylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNhcmRpbmFsaXR5ID09PSAnKicpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gY3R4Lm1hbnkrKztcbiAgICAgICAgcmV0dXJuIChhcmdzKSA9PiBjdHgucGFyc2VyLm1hbnkoaWR4LCB7XG4gICAgICAgICAgICBERUY6ICgpID0+IG1ldGhvZChhcmdzKSxcbiAgICAgICAgICAgIEdBVEU6IGdhdGUgPyAoKSA9PiBnYXRlKGFyZ3MpIDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChjYXJkaW5hbGl0eSA9PT0gJysnKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGN0eC5tYW55Kys7XG4gICAgICAgIGlmIChnYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBvcklkeCA9IGN0eC5vcisrO1xuICAgICAgICAgICAgLy8gSW4gdGhlIGNhc2Ugb2YgYSBndWFyZCBjb25kaXRpb24gZm9yIHRoZSBgK2AgZ3JvdXBcbiAgICAgICAgICAgIC8vIFdlIGNvbWJpbmUgaXQgd2l0aCBhbiBlbXB0eSBhbHRlcm5hdGl2ZVxuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbmRpdGlvbiByZXR1cm5zIHRydWUsIGl0IG5lZWRzIHRvIHBhcnNlIGF0IGxlYXN0IGEgc2luZ2xlIGl0ZXJhdGlvblxuICAgICAgICAgICAgLy8gSWYgaXRzIGZhbHNlLCBpdCBpcyBub3QgYWxsb3dlZCB0byBwYXJzZSBhbnl0aGluZ1xuICAgICAgICAgICAgcmV0dXJuIChhcmdzKSA9PiBjdHgucGFyc2VyLmFsdGVybmF0aXZlcyhvcklkeCwgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgQUxUOiAoKSA9PiBjdHgucGFyc2VyLmF0TGVhc3RPbmUoaWR4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBERUY6ICgpID0+IG1ldGhvZChhcmdzKVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgR0FURTogKCkgPT4gZ2F0ZShhcmdzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBBTFQ6IEVNUFRZX0FMVCgpLFxuICAgICAgICAgICAgICAgICAgICBHQVRFOiAoKSA9PiAhZ2F0ZShhcmdzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChhcmdzKSA9PiBjdHgucGFyc2VyLmF0TGVhc3RPbmUoaWR4LCB7XG4gICAgICAgICAgICAgICAgREVGOiAoKSA9PiBtZXRob2QoYXJncyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjYXJkaW5hbGl0eSA9PT0gJz8nKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGN0eC5vcHRpb25hbCsrO1xuICAgICAgICByZXR1cm4gKGFyZ3MpID0+IGN0eC5wYXJzZXIub3B0aW9uYWwoaWR4LCB7XG4gICAgICAgICAgICBERUY6ICgpID0+IG1ldGhvZChhcmdzKSxcbiAgICAgICAgICAgIEdBVEU6IGdhdGUgPyAoKSA9PiBnYXRlKGFyZ3MpIDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0VW5yZWFjaGFibGUoY2FyZGluYWxpdHkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFJ1bGUoY3R4LCBlbGVtZW50KSB7XG4gICAgY29uc3QgbmFtZSA9IGdldFJ1bGVOYW1lKGN0eCwgZWxlbWVudCk7XG4gICAgY29uc3QgcnVsZSA9IGN0eC5wYXJzZXIuZ2V0UnVsZShuYW1lKTtcbiAgICBpZiAoIXJ1bGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUnVsZSBcIiR7bmFtZX1cIiBub3QgZm91bmQuXCJgKTtcbiAgICByZXR1cm4gcnVsZTtcbn1cbmZ1bmN0aW9uIGdldFJ1bGVOYW1lKGN0eCwgZWxlbWVudCkge1xuICAgIGlmIChpc1BhcnNlclJ1bGUoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQubmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY3R4LnJ1bGVOYW1lcy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIGN0eC5ydWxlTmFtZXMuZ2V0KGVsZW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBlbGVtZW50O1xuICAgICAgICBsZXQgcGFyZW50ID0gaXRlbS4kY29udGFpbmVyO1xuICAgICAgICBsZXQgcnVsZU5hbWUgPSBlbGVtZW50LiR0eXBlO1xuICAgICAgICB3aGlsZSAoIWlzUGFyc2VyUnVsZShwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoaXNHcm91cChwYXJlbnQpIHx8IGlzQWx0ZXJuYXRpdmVzKHBhcmVudCkgfHwgaXNVbm9yZGVyZWRHcm91cChwYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuZWxlbWVudHMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgICAgICAgICBydWxlTmFtZSA9IGluZGV4LnRvU3RyaW5nKCkgKyAnOicgKyBydWxlTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0gPSBwYXJlbnQ7XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuJGNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydWxlID0gcGFyZW50O1xuICAgICAgICBydWxlTmFtZSA9IHJ1bGUubmFtZSArICc6JyArIHJ1bGVOYW1lO1xuICAgICAgICBjdHgucnVsZU5hbWVzLnNldChlbGVtZW50LCBydWxlTmFtZSk7XG4gICAgICAgIHJldHVybiBydWxlTmFtZTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUb2tlbihjdHgsIG5hbWUpIHtcbiAgICBjb25zdCB0b2tlbiA9IGN0eC50b2tlbnNbbmFtZV07XG4gICAgaWYgKCF0b2tlbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb2tlbiBcIiR7bmFtZX1cIiBub3QgZm91bmQuXCJgKTtcbiAgICByZXR1cm4gdG9rZW47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXItYnVpbGRlci1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6WyJFTVBUWV9BTFQiLCJFT0YiLCJpc0FjdGlvbiIsImlzQWx0ZXJuYXRpdmVzIiwiaXNFbmRPZkZpbGUiLCJpc0Fzc2lnbm1lbnQiLCJpc0Nvbmp1bmN0aW9uIiwiaXNDcm9zc1JlZmVyZW5jZSIsImlzRGlzanVuY3Rpb24iLCJpc0dyb3VwIiwiaXNLZXl3b3JkIiwiaXNOZWdhdGlvbiIsImlzUGFyYW1ldGVyUmVmZXJlbmNlIiwiaXNQYXJzZXJSdWxlIiwiaXNSdWxlQ2FsbCIsImlzVGVybWluYWxSdWxlIiwiaXNVbm9yZGVyZWRHcm91cCIsImlzQm9vbGVhbkxpdGVyYWwiLCJhc3NlcnRVbnJlYWNoYWJsZSIsIkVycm9yV2l0aExvY2F0aW9uIiwic3RyZWFtIiwiZmluZE5hbWVBc3NpZ25tZW50IiwiZ2V0QWxsUmVhY2hhYmxlUnVsZXMiLCJnZXRUeXBlTmFtZSIsImNyZWF0ZVBhcnNlciIsImdyYW1tYXIiLCJwYXJzZXIiLCJ0b2tlbnMiLCJwYXJzZXJDb250ZXh0IiwicnVsZU5hbWVzIiwiTWFwIiwiYnVpbGRSdWxlcyIsInJlYWNoYWJsZSIsInBhcnNlclJ1bGVzIiwicnVsZXMiLCJmaWx0ZXIiLCJydWxlIiwiaGFzIiwiY3R4IiwiT2JqZWN0IiwiYXNzaWduIiwiY29uc3VtZSIsIm9wdGlvbmFsIiwic3VicnVsZSIsIm1hbnkiLCJvciIsImJ1aWxkRWxlbWVudCIsImRlZmluaXRpb24iLCJlbGVtZW50IiwiaWdub3JlR3VhcmQiLCJtZXRob2QiLCJidWlsZEtleXdvcmQiLCJidWlsZEFjdGlvbiIsInRlcm1pbmFsIiwiYnVpbGRDcm9zc1JlZmVyZW5jZSIsImJ1aWxkUnVsZUNhbGwiLCJidWlsZEFsdGVybmF0aXZlcyIsImJ1aWxkVW5vcmRlcmVkR3JvdXAiLCJidWlsZEdyb3VwIiwiaWR4IiwiJGNzdE5vZGUiLCIkdHlwZSIsIndyYXAiLCJ1bmRlZmluZWQiLCJnZXRHdWFyZENvbmRpdGlvbiIsImNhcmRpbmFsaXR5IiwiYWN0aW9uIiwiYWN0aW9uVHlwZSIsInJ1bGVDYWxsIiwicmVmIiwiZnJhZ21lbnQiLCJwcmVkaWNhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJidWlsZFJ1bGVDYWxsUHJlZGljYXRlIiwiYXJncyIsImdldFJ1bGUiLCJnZXRUb2tlbiIsIm5hbWUiLCIkcmVmVGV4dCIsIm5hbWVkQXJncyIsInByZWRpY2F0ZXMiLCJtYXAiLCJlIiwiYnVpbGRQcmVkaWNhdGUiLCJ2YWx1ZSIsInJ1bGVBcmdzIiwiaSIsInJ1bGVUYXJnZXQiLCJwYXJhbWV0ZXJzIiwiY29uZGl0aW9uIiwibGVmdCIsInJpZ2h0IiwicGFyYW1ldGVyIiwiQm9vbGVhbiIsInRydWUiLCJhbHRlcm5hdGl2ZXMiLCJlbGVtZW50cyIsIm1ldGhvZHMiLCJwcmVkaWNhdGVkTWV0aG9kIiwiQUxUIiwiZ3VhcmQiLCJHQVRFIiwicHVzaCIsImFsdCIsImdhdGUiLCJncm91cCIsIm9ySWR4IiwiaWRGdW5jIiwiZ3JvdXBJZHgiLCJsUGFyc2VyIiwic3RhY2tJZCIsImdldFJ1bGVTdGFjayIsImpvaW4iLCJpc1JlY29yZGluZyIsImtleSIsInVub3JkZXJlZEdyb3VwcyIsImdldCIsInNldCIsImdyb3VwU3RhdGUiLCJ0cmFja2VkQWx0ZXJuYXRpdmVzIiwiYWxsb3ciLCJ3cmFwcGVkIiwiZGVsZXRlIiwiZm9yRWFjaCIsImd1YXJkQ29uZGl0aW9uIiwiY3Jvc3NSZWYiLCJ0eXBlIiwiRXJyb3IiLCJhc3NpZ25tZW50IiwiYXNzaWduVGVybWluYWwiLCJ0ZXJtaW5hbFJ1bGUiLCJrZXl3b3JkIiwidG9rZW4iLCJERUYiLCJhdExlYXN0T25lIiwiZ2V0UnVsZU5hbWUiLCJpdGVtIiwicGFyZW50IiwiJGNvbnRhaW5lciIsInJ1bGVOYW1lIiwiaW5kZXgiLCJpbmRleE9mIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/parser-builder-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/token-builder.js":
/*!**********************************************************!*\
  !*** ./node_modules/langium/lib/parser/token-builder.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultTokenBuilder: () => (/* binding */ DefaultTokenBuilder)\n/* harmony export */ });\n/* harmony import */ var chevrotain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chevrotain */ \"(ssr)/./node_modules/chevrotain/lib/src/api.js\");\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/* harmony import */ var _utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/regexp-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/regexp-utils.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\nclass DefaultTokenBuilder {\n    constructor(){\n        /**\n         * The list of diagnostics stored during the lexing process of a single text.\n         */ this.diagnostics = [];\n    }\n    buildTokens(grammar, options) {\n        const reachableRules = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_1__.stream)((0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_2__.getAllReachableRules)(grammar, false));\n        const terminalTokens = this.buildTerminalTokens(reachableRules);\n        const tokens = this.buildKeywordTokens(reachableRules, terminalTokens, options);\n        terminalTokens.forEach((terminalToken)=>{\n            const pattern = terminalToken.PATTERN;\n            if (typeof pattern === \"object\" && pattern && \"test\" in pattern && (0,_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_3__.isWhitespace)(pattern)) {\n                tokens.unshift(terminalToken);\n            } else {\n                tokens.push(terminalToken);\n            }\n        });\n        // We don't need to add the EOF token explicitly.\n        // It is automatically available at the end of the token stream.\n        return tokens;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    flushLexingReport(text) {\n        return {\n            diagnostics: this.popDiagnostics()\n        };\n    }\n    popDiagnostics() {\n        const diagnostics = [\n            ...this.diagnostics\n        ];\n        this.diagnostics = [];\n        return diagnostics;\n    }\n    buildTerminalTokens(rules) {\n        return rules.filter(_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isTerminalRule).filter((e)=>!e.fragment).map((terminal)=>this.buildTerminalToken(terminal)).toArray();\n    }\n    buildTerminalToken(terminal) {\n        const regex = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_2__.terminalRegex)(terminal);\n        const pattern = this.requiresCustomPattern(regex) ? this.regexPatternFunction(regex) : regex;\n        const tokenType = {\n            name: terminal.name,\n            PATTERN: pattern\n        };\n        if (typeof pattern === \"function\") {\n            tokenType.LINE_BREAKS = true;\n        }\n        if (terminal.hidden) {\n            // Only skip tokens that are able to accept whitespace\n            tokenType.GROUP = (0,_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_3__.isWhitespace)(regex) ? chevrotain__WEBPACK_IMPORTED_MODULE_0__.Lexer.SKIPPED : \"hidden\";\n        }\n        return tokenType;\n    }\n    requiresCustomPattern(regex) {\n        if (regex.flags.includes(\"u\") || regex.flags.includes(\"s\")) {\n            // Unicode and dotall regexes are not supported by Chevrotain.\n            return true;\n        } else if (regex.source.includes(\"?<=\") || regex.source.includes(\"?<!\")) {\n            // Negative and positive lookbehind are not supported by Chevrotain yet.\n            return true;\n        } else {\n            return false;\n        }\n    }\n    regexPatternFunction(regex) {\n        const stickyRegex = new RegExp(regex, regex.flags + \"y\");\n        return (text, offset)=>{\n            stickyRegex.lastIndex = offset;\n            const execResult = stickyRegex.exec(text);\n            return execResult;\n        };\n    }\n    buildKeywordTokens(rules, terminalTokens, options) {\n        return rules// We filter by parser rules, since keywords in terminal rules get transformed into regex and are not actual tokens\n        .filter(_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isParserRule).flatMap((rule)=>(0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__.streamAllContents)(rule).filter(_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_4__.isKeyword)).distinct((e)=>e.value).toArray()// Sort keywords by descending length\n        .sort((a, b)=>b.value.length - a.value.length).map((keyword)=>this.buildKeywordToken(keyword, terminalTokens, Boolean(options === null || options === void 0 ? void 0 : options.caseInsensitive)));\n    }\n    buildKeywordToken(keyword, terminalTokens, caseInsensitive) {\n        const keywordPattern = this.buildKeywordPattern(keyword, caseInsensitive);\n        const tokenType = {\n            name: keyword.value,\n            PATTERN: keywordPattern,\n            LONGER_ALT: this.findLongerAlt(keyword, terminalTokens)\n        };\n        if (typeof keywordPattern === \"function\") {\n            tokenType.LINE_BREAKS = true;\n        }\n        return tokenType;\n    }\n    buildKeywordPattern(keyword, caseInsensitive) {\n        return caseInsensitive ? new RegExp((0,_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_3__.getCaseInsensitivePattern)(keyword.value)) : keyword.value;\n    }\n    findLongerAlt(keyword, terminalTokens) {\n        return terminalTokens.reduce((longerAlts, token)=>{\n            const pattern = token === null || token === void 0 ? void 0 : token.PATTERN;\n            if ((pattern === null || pattern === void 0 ? void 0 : pattern.source) && (0,_utils_regexp_utils_js__WEBPACK_IMPORTED_MODULE_3__.partialMatches)(\"^\" + pattern.source + \"$\", keyword.value)) {\n                longerAlts.push(token);\n            }\n            return longerAlts;\n        }, []);\n    }\n} //# sourceMappingURL=token-builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL3Rva2VuLWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUMzQztBQUNxRDtBQUM5QjtBQUNzQjtBQUNtQjtBQUN2RDtBQUNyQyxNQUFNVztJQUNUQyxhQUFjO1FBQ1Y7O1NBRUMsR0FDRCxJQUFJLENBQUNDLFdBQVcsR0FBRyxFQUFFO0lBQ3pCO0lBQ0FDLFlBQVlDLE9BQU8sRUFBRUMsT0FBTyxFQUFFO1FBQzFCLE1BQU1DLGlCQUFpQlAsd0RBQU1BLENBQUNMLDZFQUFvQkEsQ0FBQ1UsU0FBUztRQUM1RCxNQUFNRyxpQkFBaUIsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQ0Y7UUFDaEQsTUFBTUcsU0FBUyxJQUFJLENBQUNDLGtCQUFrQixDQUFDSixnQkFBZ0JDLGdCQUFnQkY7UUFDdkVFLGVBQWVJLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDbkIsTUFBTUMsVUFBVUQsY0FBY0UsT0FBTztZQUNyQyxJQUFJLE9BQU9ELFlBQVksWUFBWUEsV0FBVyxVQUFVQSxXQUFXaEIsb0VBQVlBLENBQUNnQixVQUFVO2dCQUN0RkosT0FBT00sT0FBTyxDQUFDSDtZQUNuQixPQUNLO2dCQUNESCxPQUFPTyxJQUFJLENBQUNKO1lBQ2hCO1FBQ0o7UUFDQSxpREFBaUQ7UUFDakQsZ0VBQWdFO1FBQ2hFLE9BQU9IO0lBQ1g7SUFDQSw2REFBNkQ7SUFDN0RRLGtCQUFrQkMsSUFBSSxFQUFFO1FBQ3BCLE9BQU87WUFBRWhCLGFBQWEsSUFBSSxDQUFDaUIsY0FBYztRQUFHO0lBQ2hEO0lBQ0FBLGlCQUFpQjtRQUNiLE1BQU1qQixjQUFjO2VBQUksSUFBSSxDQUFDQSxXQUFXO1NBQUM7UUFDekMsSUFBSSxDQUFDQSxXQUFXLEdBQUcsRUFBRTtRQUNyQixPQUFPQTtJQUNYO0lBQ0FNLG9CQUFvQlksS0FBSyxFQUFFO1FBQ3ZCLE9BQU9BLE1BQU1DLE1BQU0sQ0FBQzdCLHVFQUFjQSxF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LE9BQU8sRUFBRS9DLGNBQWMsRUFBRTtRQUNuQyxPQUFPQSxlQUFldUQsTUFBTSxDQUFDLENBQUNDLFlBQVlDO1lBQ3RDLE1BQU1uRCxVQUFVbUQsVUFBVSxRQUFRQSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUlBLE1BQU1sRCxPQUFPO1lBQzNFLElBQUksQ0FBQ0QsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVEwQixNQUFNLEtBQUt6QyxzRUFBY0EsQ0FBQyxNQUFNZSxRQUFRMEIsTUFBTSxHQUFHLEtBQUtlLFFBQVFMLEtBQUssR0FBRztnQkFDakljLFdBQVcvQyxJQUFJLENBQUNnRDtZQUNwQjtZQUNBLE9BQU9EO1FBQ1gsR0FBRyxFQUFFO0lBQ1Q7QUFDSixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3BhcnNlci90b2tlbi1idWlsZGVyLmpzP2U1MTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgTGV4ZXIgfSBmcm9tICdjaGV2cm90YWluJztcbmltcG9ydCB7IGlzS2V5d29yZCwgaXNQYXJzZXJSdWxlLCBpc1Rlcm1pbmFsUnVsZSB9IGZyb20gJy4uL2xhbmd1YWdlcy9nZW5lcmF0ZWQvYXN0LmpzJztcbmltcG9ydCB7IHN0cmVhbUFsbENvbnRlbnRzIH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IGdldEFsbFJlYWNoYWJsZVJ1bGVzLCB0ZXJtaW5hbFJlZ2V4IH0gZnJvbSAnLi4vdXRpbHMvZ3JhbW1hci11dGlscy5qcyc7XG5pbXBvcnQgeyBnZXRDYXNlSW5zZW5zaXRpdmVQYXR0ZXJuLCBpc1doaXRlc3BhY2UsIHBhcnRpYWxNYXRjaGVzIH0gZnJvbSAnLi4vdXRpbHMvcmVnZXhwLXV0aWxzLmpzJztcbmltcG9ydCB7IHN0cmVhbSB9IGZyb20gJy4uL3V0aWxzL3N0cmVhbS5qcyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdFRva2VuQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGlzdCBvZiBkaWFnbm9zdGljcyBzdG9yZWQgZHVyaW5nIHRoZSBsZXhpbmcgcHJvY2VzcyBvZiBhIHNpbmdsZSB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaWFnbm9zdGljcyA9IFtdO1xuICAgIH1cbiAgICBidWlsZFRva2VucyhncmFtbWFyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlYWNoYWJsZVJ1bGVzID0gc3RyZWFtKGdldEFsbFJlYWNoYWJsZVJ1bGVzKGdyYW1tYXIsIGZhbHNlKSk7XG4gICAgICAgIGNvbnN0IHRlcm1pbmFsVG9rZW5zID0gdGhpcy5idWlsZFRlcm1pbmFsVG9rZW5zKHJlYWNoYWJsZVJ1bGVzKTtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gdGhpcy5idWlsZEtleXdvcmRUb2tlbnMocmVhY2hhYmxlUnVsZXMsIHRlcm1pbmFsVG9rZW5zLCBvcHRpb25zKTtcbiAgICAgICAgdGVybWluYWxUb2tlbnMuZm9yRWFjaCh0ZXJtaW5hbFRva2VuID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0ZXJtaW5hbFRva2VuLlBBVFRFUk47XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdvYmplY3QnICYmIHBhdHRlcm4gJiYgJ3Rlc3QnIGluIHBhdHRlcm4gJiYgaXNXaGl0ZXNwYWNlKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnVuc2hpZnQodGVybWluYWxUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0ZXJtaW5hbFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gYWRkIHRoZSBFT0YgdG9rZW4gZXhwbGljaXRseS5cbiAgICAgICAgLy8gSXQgaXMgYXV0b21hdGljYWxseSBhdmFpbGFibGUgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW4gc3RyZWFtLlxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgZmx1c2hMZXhpbmdSZXBvcnQodGV4dCkge1xuICAgICAgICByZXR1cm4geyBkaWFnbm9zdGljczogdGhpcy5wb3BEaWFnbm9zdGljcygpIH07XG4gICAgfVxuICAgIHBvcERpYWdub3N0aWNzKCkge1xuICAgICAgICBjb25zdCBkaWFnbm9zdGljcyA9IFsuLi50aGlzLmRpYWdub3N0aWNzXTtcbiAgICAgICAgdGhpcy5kaWFnbm9zdGljcyA9IFtdO1xuICAgICAgICByZXR1cm4gZGlhZ25vc3RpY3M7XG4gICAgfVxuICAgIGJ1aWxkVGVybWluYWxUb2tlbnMocnVsZXMpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzLmZpbHRlcihpc1Rlcm1pbmFsUnVsZSkuZmlsdGVyKGUgPT4gIWUuZnJhZ21lbnQpXG4gICAgICAgICAgICAubWFwKHRlcm1pbmFsID0+IHRoaXMuYnVpbGRUZXJtaW5hbFRva2VuKHRlcm1pbmFsKSkudG9BcnJheSgpO1xuICAgIH1cbiAgICBidWlsZFRlcm1pbmFsVG9rZW4odGVybWluYWwpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSB0ZXJtaW5hbFJlZ2V4KHRlcm1pbmFsKTtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucmVxdWlyZXNDdXN0b21QYXR0ZXJuKHJlZ2V4KSA/IHRoaXMucmVnZXhQYXR0ZXJuRnVuY3Rpb24ocmVnZXgpIDogcmVnZXg7XG4gICAgICAgIGNvbnN0IHRva2VuVHlwZSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRlcm1pbmFsLm5hbWUsXG4gICAgICAgICAgICBQQVRURVJOOiBwYXR0ZXJuLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRva2VuVHlwZS5MSU5FX0JSRUFLUyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlcm1pbmFsLmhpZGRlbikge1xuICAgICAgICAgICAgLy8gT25seSBza2lwIHRva2VucyB0aGF0IGFyZSBhYmxlIHRvIGFjY2VwdCB3aGl0ZXNwYWNlXG4gICAgICAgICAgICB0b2tlblR5cGUuR1JPVVAgPSBpc1doaXRlc3BhY2UocmVnZXgpID8gTGV4ZXIuU0tJUFBFRCA6ICdoaWRkZW4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlblR5cGU7XG4gICAgfVxuICAgIHJlcXVpcmVzQ3VzdG9tUGF0dGVybihyZWdleCkge1xuICAgICAgICBpZiAocmVnZXguZmxhZ3MuaW5jbHVkZXMoJ3UnKSB8fCByZWdleC5mbGFncy5pbmNsdWRlcygncycpKSB7XG4gICAgICAgICAgICAvLyBVbmljb2RlIGFuZCBkb3RhbGwgcmVnZXhlcyBhcmUgbm90IHN1cHBvcnRlZCBieSBDaGV2cm90YWluLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVnZXguc291cmNlLmluY2x1ZGVzKCc/PD0nKSB8fCByZWdleC5zb3VyY2UuaW5jbHVkZXMoJz88IScpKSB7XG4gICAgICAgICAgICAvLyBOZWdhdGl2ZSBhbmQgcG9zaXRpdmUgbG9va2JlaGluZCBhcmUgbm90IHN1cHBvcnRlZCBieSBDaGV2cm90YWluIHlldC5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2V4UGF0dGVybkZ1bmN0aW9uKHJlZ2V4KSB7XG4gICAgICAgIGNvbnN0IHN0aWNreVJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleCwgcmVnZXguZmxhZ3MgKyAneScpO1xuICAgICAgICByZXR1cm4gKHRleHQsIG9mZnNldCkgPT4ge1xuICAgICAgICAgICAgc3RpY2t5UmVnZXgubGFzdEluZGV4ID0gb2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgZXhlY1Jlc3VsdCA9IHN0aWNreVJlZ2V4LmV4ZWModGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gZXhlY1Jlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYnVpbGRLZXl3b3JkVG9rZW5zKHJ1bGVzLCB0ZXJtaW5hbFRva2Vucywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gcnVsZXNcbiAgICAgICAgICAgIC8vIFdlIGZpbHRlciBieSBwYXJzZXIgcnVsZXMsIHNpbmNlIGtleXdvcmRzIGluIHRlcm1pbmFsIHJ1bGVzIGdldCB0cmFuc2Zvcm1lZCBpbnRvIHJlZ2V4IGFuZCBhcmUgbm90IGFjdHVhbCB0b2tlbnNcbiAgICAgICAgICAgIC5maWx0ZXIoaXNQYXJzZXJSdWxlKVxuICAgICAgICAgICAgLmZsYXRNYXAocnVsZSA9PiBzdHJlYW1BbGxDb250ZW50cyhydWxlKS5maWx0ZXIoaXNLZXl3b3JkKSlcbiAgICAgICAgICAgIC5kaXN0aW5jdChlID0+IGUudmFsdWUpLnRvQXJyYXkoKVxuICAgICAgICAgICAgLy8gU29ydCBrZXl3b3JkcyBieSBkZXNjZW5kaW5nIGxlbmd0aFxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIudmFsdWUubGVuZ3RoIC0gYS52YWx1ZS5sZW5ndGgpXG4gICAgICAgICAgICAubWFwKGtleXdvcmQgPT4gdGhpcy5idWlsZEtleXdvcmRUb2tlbihrZXl3b3JkLCB0ZXJtaW5hbFRva2VucywgQm9vbGVhbihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FzZUluc2Vuc2l0aXZlKSkpO1xuICAgIH1cbiAgICBidWlsZEtleXdvcmRUb2tlbihrZXl3b3JkLCB0ZXJtaW5hbFRva2VucywgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgICAgIGNvbnN0IGtleXdvcmRQYXR0ZXJuID0gdGhpcy5idWlsZEtleXdvcmRQYXR0ZXJuKGtleXdvcmQsIGNhc2VJbnNlbnNpdGl2ZSk7XG4gICAgICAgIGNvbnN0IHRva2VuVHlwZSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGtleXdvcmQudmFsdWUsXG4gICAgICAgICAgICBQQVRURVJOOiBrZXl3b3JkUGF0dGVybixcbiAgICAgICAgICAgIExPTkdFUl9BTFQ6IHRoaXMuZmluZExvbmdlckFsdChrZXl3b3JkLCB0ZXJtaW5hbFRva2VucylcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXl3b3JkUGF0dGVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdG9rZW5UeXBlLkxJTkVfQlJFQUtTID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5UeXBlO1xuICAgIH1cbiAgICBidWlsZEtleXdvcmRQYXR0ZXJuKGtleXdvcmQsIGNhc2VJbnNlbnNpdGl2ZSkge1xuICAgICAgICByZXR1cm4gY2FzZUluc2Vuc2l0aXZlID9cbiAgICAgICAgICAgIG5ldyBSZWdFeHAoZ2V0Q2FzZUluc2Vuc2l0aXZlUGF0dGVybihrZXl3b3JkLnZhbHVlKSkgOlxuICAgICAgICAgICAga2V5d29yZC52YWx1ZTtcbiAgICB9XG4gICAgZmluZExvbmdlckFsdChrZXl3b3JkLCB0ZXJtaW5hbFRva2Vucykge1xuICAgICAgICByZXR1cm4gdGVybWluYWxUb2tlbnMucmVkdWNlKChsb25nZXJBbHRzLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHRva2VuID09PSBudWxsIHx8IHRva2VuID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b2tlbi5QQVRURVJOO1xuICAgICAgICAgICAgaWYgKChwYXR0ZXJuID09PSBudWxsIHx8IHBhdHRlcm4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhdHRlcm4uc291cmNlKSAmJiBwYXJ0aWFsTWF0Y2hlcygnXicgKyBwYXR0ZXJuLnNvdXJjZSArICckJywga2V5d29yZC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBsb25nZXJBbHRzLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxvbmdlckFsdHM7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbi1idWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJMZXhlciIsImlzS2V5d29yZCIsImlzUGFyc2VyUnVsZSIsImlzVGVybWluYWxSdWxlIiwic3RyZWFtQWxsQ29udGVudHMiLCJnZXRBbGxSZWFjaGFibGVSdWxlcyIsInRlcm1pbmFsUmVnZXgiLCJnZXRDYXNlSW5zZW5zaXRpdmVQYXR0ZXJuIiwiaXNXaGl0ZXNwYWNlIiwicGFydGlhbE1hdGNoZXMiLCJzdHJlYW0iLCJEZWZhdWx0VG9rZW5CdWlsZGVyIiwiY29uc3RydWN0b3IiLCJkaWFnbm9zdGljcyIsImJ1aWxkVG9rZW5zIiwiZ3JhbW1hciIsIm9wdGlvbnMiLCJyZWFjaGFibGVSdWxlcyIsInRlcm1pbmFsVG9rZW5zIiwiYnVpbGRUZXJtaW5hbFRva2VucyIsInRva2VucyIsImJ1aWxkS2V5d29yZFRva2VucyIsImZvckVhY2giLCJ0ZXJtaW5hbFRva2VuIiwicGF0dGVybiIsIlBBVFRFUk4iLCJ1bnNoaWZ0IiwicHVzaCIsImZsdXNoTGV4aW5nUmVwb3J0IiwidGV4dCIsInBvcERpYWdub3N0aWNzIiwicnVsZXMiLCJmaWx0ZXIiLCJlIiwiZnJhZ21lbnQiLCJtYXAiLCJ0ZXJtaW5hbCIsImJ1aWxkVGVybWluYWxUb2tlbiIsInRvQXJyYXkiLCJyZWdleCIsInJlcXVpcmVzQ3VzdG9tUGF0dGVybiIsInJlZ2V4UGF0dGVybkZ1bmN0aW9uIiwidG9rZW5UeXBlIiwibmFtZSIsIkxJTkVfQlJFQUtTIiwiaGlkZGVuIiwiR1JPVVAiLCJTS0lQUEVEIiwiZmxhZ3MiLCJpbmNsdWRlcyIsInNvdXJjZSIsInN0aWNreVJlZ2V4IiwiUmVnRXhwIiwib2Zmc2V0IiwibGFzdEluZGV4IiwiZXhlY1Jlc3VsdCIsImV4ZWMiLCJmbGF0TWFwIiwicnVsZSIsImRpc3RpbmN0IiwidmFsdWUiLCJzb3J0IiwiYSIsImIiLCJsZW5ndGgiLCJrZXl3b3JkIiwiYnVpbGRLZXl3b3JkVG9rZW4iLCJCb29sZWFuIiwiY2FzZUluc2Vuc2l0aXZlIiwia2V5d29yZFBhdHRlcm4iLCJidWlsZEtleXdvcmRQYXR0ZXJuIiwiTE9OR0VSX0FMVCIsImZpbmRMb25nZXJBbHQiLCJyZWR1Y2UiLCJsb25nZXJBbHRzIiwidG9rZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/token-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/parser/value-converter.js":
/*!************************************************************!*\
  !*** ./node_modules/langium/lib/parser/value-converter.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultValueConverter: () => (/* binding */ DefaultValueConverter),\n/* harmony export */   ValueConverter: () => (/* binding */ ValueConverter)\n/* harmony export */ });\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nclass DefaultValueConverter {\n    convert(input, cstNode) {\n        let feature = cstNode.grammarSource;\n        if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isCrossReference)(feature)) {\n            feature = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.getCrossReferenceTerminal)(feature);\n        }\n        if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isRuleCall)(feature)) {\n            const rule = feature.rule.ref;\n            if (!rule) {\n                throw new Error(\"This cst node was not parsed by a rule.\");\n            }\n            return this.runConverter(rule, input, cstNode);\n        }\n        return input;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    runConverter(rule, input, cstNode) {\n        var _a;\n        switch(rule.name.toUpperCase()){\n            case \"INT\":\n                return ValueConverter.convertInt(input);\n            case \"STRING\":\n                return ValueConverter.convertString(input);\n            case \"ID\":\n                return ValueConverter.convertID(input);\n        }\n        switch((_a = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRuleType)(rule)) === null || _a === void 0 ? void 0 : _a.toLowerCase()){\n            case \"number\":\n                return ValueConverter.convertNumber(input);\n            case \"boolean\":\n                return ValueConverter.convertBoolean(input);\n            case \"bigint\":\n                return ValueConverter.convertBigint(input);\n            case \"date\":\n                return ValueConverter.convertDate(input);\n            default:\n                return input;\n        }\n    }\n}\nvar ValueConverter;\n(function(ValueConverter) {\n    function convertString(input) {\n        let result = \"\";\n        for(let i = 1; i < input.length - 1; i++){\n            const c = input.charAt(i);\n            if (c === \"\\\\\") {\n                const c1 = input.charAt(++i);\n                result += convertEscapeCharacter(c1);\n            } else {\n                result += c;\n            }\n        }\n        return result;\n    }\n    ValueConverter.convertString = convertString;\n    function convertEscapeCharacter(char) {\n        switch(char){\n            case \"b\":\n                return \"\\b\";\n            case \"f\":\n                return \"\\f\";\n            case \"n\":\n                return \"\\n\";\n            case \"r\":\n                return \"\\r\";\n            case \"t\":\n                return \"\t\";\n            case \"v\":\n                return \"\\v\";\n            case \"0\":\n                return \"\\x00\";\n            default:\n                return char;\n        }\n    }\n    function convertID(input) {\n        if (input.charAt(0) === \"^\") {\n            return input.substring(1);\n        } else {\n            return input;\n        }\n    }\n    ValueConverter.convertID = convertID;\n    function convertInt(input) {\n        return parseInt(input);\n    }\n    ValueConverter.convertInt = convertInt;\n    function convertBigint(input) {\n        return BigInt(input);\n    }\n    ValueConverter.convertBigint = convertBigint;\n    function convertDate(input) {\n        return new Date(input);\n    }\n    ValueConverter.convertDate = convertDate;\n    function convertNumber(input) {\n        return Number(input);\n    }\n    ValueConverter.convertNumber = convertNumber;\n    function convertBoolean(input) {\n        return input.toLowerCase() === \"true\";\n    }\n    ValueConverter.convertBoolean = convertBoolean;\n})(ValueConverter || (ValueConverter = {})); //# sourceMappingURL=value-converter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcGFyc2VyL3ZhbHVlLWNvbnZlcnRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ0Q7QUFDTTtBQUM1RSxNQUFNSTtJQUNUQyxRQUFRQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtRQUNwQixJQUFJQyxVQUFVRCxRQUFRRSxhQUFhO1FBQ25DLElBQUlULDZFQUFnQkEsQ0FBQ1EsVUFBVTtZQUMzQkEsVUFBVU4sa0ZBQXlCQSxDQUFDTTtRQUN4QztRQUNBLElBQUlQLHVFQUFVQSxDQUFDTyxVQUFVO1lBQ3JCLE1BQU1FLE9BQU9GLFFBQVFFLElBQUksQ0FBQ0MsR0FBRztZQUM3QixJQUFJLENBQUNELE1BQU07Z0JBQ1AsTUFBTSxJQUFJRSxNQUFNO1lBQ3BCO1lBQ0EsT0FBTyxJQUFJLENBQUNDLFlBQVksQ0FBQ0gsTUFBTUosT0FBT0M7UUFDMUM7UUFDQSxPQUFPRDtJQUNYO0lBQ0EsNkRBQTZEO0lBQzdETyxhQUFhSCxJQUFJLEVBQUVKLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQy9CLElBQUlPO1FBQ0osT0FBUUosS0FBS0ssSUFBSSxDQUFDQyxXQUFXO1lBQ3pCLEtBQUs7Z0JBQU8sT0FBT0MsZUFBZUMsVUFBVSxDQUFDWjtZQUM3QyxLQUFLO2dCQUFVLE9BQU9XLGVBQWVFLGFBQWEsQ0FBQ2I7WUFDbkQsS0FBSztnQkFBTSxPQUFPVyxlQUFlRyxTQUFTLENBQUNkO1FBQy9DO1FBQ0EsT0FBUSxDQUFDUSxLQUFLWCxvRUFBV0EsQ0FBQ08sS0FBSSxNQUFPLFFBQVFJLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR08sV0FBVztZQUNoRixLQUFLO2dCQUFVLE9BQU9KLGVBQWVLLGFBQWEsQ0FBQ2hCO1lBQ25ELEtBQUs7Z0JBQVcsT0FBT1csZUFBZU0sY0FBYyxDQUFDakI7WUFDckQsS0FBSztnQkFBVSxPQUFPVyxlQUFlTyxhQUFhLENBQUNsQjtZQUNuRCxLQUFLO2dCQUFRLE9BQU9XLGVBQWVRLFdBQVcsQ0FBQ25CO1lBQy9DO2dCQUFTLE9BQU9BO1FBQ3BCO0lBQ0o7QUFDSjtBQUNPLElBQUlXLGVBQWU7QUFDekIsVUFBVUEsY0FBYztJQUNyQixTQUFTRSxjQUFjYixLQUFLO1FBQ3hCLElBQUlvQixTQUFTO1FBQ2IsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlyQixNQUFNc0IsTUFBTSxHQUFHLEdBQUdELElBQUs7WUFDdkMsTUFBTUUsSUFBSXZCLE1BQU13QixNQUFNLENBQUNIO1lBQ3ZCLElBQUlFLE1BQU0sTUFBTTtnQkFDWixNQUFNRSxLQUFLekIsTUFBTXdCLE1BQU0sQ0FBQyxFQUFFSDtnQkFDMUJELFVBQVVNLHVCQUF1QkQ7WUFDckMsT0FDSztnQkFDREwsVUFBVUc7WUFDZDtRQUNKO1FBQ0EsT0FBT0g7SUFDWDtJQUNBVCxlQUFlRSxhQUFhLEdBQUdBO0lBQy9CLFNBQVNhLHVCQUF1QkMsSUFBSTtRQUNoQyxPQUFRQTtZQUNKLEtBQUs7Z0JBQUssT0FBTztZQUNqQixLQUFLO2dCQUFLLE9BQU87WUFDakIsS0FBSztnQkFBSyxPQUFPO1lBQ2pCLEtBQUs7Z0JBQUssT0FBTztZQUNqQixLQUFLO2dCQUFLLE9BQU87WUFDakIsS0FBSztnQkFBSyxPQUFPO1lBQ2pCLEtBQUs7Z0JBQUssT0FBTztZQUNqQjtnQkFBUyxPQUFPQTtRQUNwQjtJQUNKO0lBQ0EsU0FBU2IsVUFBVWQsS0FBSztRQUNwQixJQUFJQSxNQUFNd0IsTUFBTSxDQUFDLE9BQU8sS0FBSztZQUN6QixPQUFPeEIsTUFBTTRCLFNBQVMsQ0FBQztRQUMzQixPQUNLO1lBQ0QsT0FBTzVCO1FBQ1g7SUFDSjtJQUNBVyxlQUFlRyxTQUFTLEdBQUdBO0lBQzNCLFNBQVNGLFdBQVdaLEtBQUs7UUFDckIsT0FBTzZCLFNBQVM3QjtJQUNwQjtJQUNBVyxlQUFlQyxVQUFVLEdBQUdBO0lBQzVCLFNBQVNNLGNBQWNsQixLQUFLO1FBQ3hCLE9BQU84QixPQUFPOUI7SUFDbEI7SUFDQVcsZUFBZU8sYUFBYSxHQUFHQTtJQUMvQixTQUFTQyxZQUFZbkIsS0FBSztRQUN0QixPQUFPLElBQUkrQixLQUFLL0I7SUFDcEI7SUFDQVcsZUFBZVEsV0FBVyxHQUFHQTtJQUM3QixTQUFTSCxjQUFjaEIsS0FBSztRQUN4QixPQUFPZ0MsT0FBT2hDO0lBQ2xCO0lBQ0FXLGVBQWVLLGFBQWEsR0FBR0E7SUFDL0IsU0FBU0MsZUFBZWpCLEtBQUs7UUFDekIsT0FBT0EsTUFBTWUsV0FBVyxPQUFPO0lBQ25DO0lBQ0FKLGVBQWVNLGNBQWMsR0FBR0E7QUFDcEMsR0FBR04sa0JBQW1CQSxDQUFBQSxpQkFBaUIsQ0FBQyxLQUN4QywyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi9wYXJzZXIvdmFsdWUtY29udmVydGVyLmpzPzU5MzEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgaXNDcm9zc1JlZmVyZW5jZSwgaXNSdWxlQ2FsbCB9IGZyb20gJy4uL2xhbmd1YWdlcy9nZW5lcmF0ZWQvYXN0LmpzJztcbmltcG9ydCB7IGdldENyb3NzUmVmZXJlbmNlVGVybWluYWwsIGdldFJ1bGVUeXBlIH0gZnJvbSAnLi4vdXRpbHMvZ3JhbW1hci11dGlscy5qcyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdFZhbHVlQ29udmVydGVyIHtcbiAgICBjb252ZXJ0KGlucHV0LCBjc3ROb2RlKSB7XG4gICAgICAgIGxldCBmZWF0dXJlID0gY3N0Tm9kZS5ncmFtbWFyU291cmNlO1xuICAgICAgICBpZiAoaXNDcm9zc1JlZmVyZW5jZShmZWF0dXJlKSkge1xuICAgICAgICAgICAgZmVhdHVyZSA9IGdldENyb3NzUmVmZXJlbmNlVGVybWluYWwoZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUnVsZUNhbGwoZmVhdHVyZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSBmZWF0dXJlLnJ1bGUucmVmO1xuICAgICAgICAgICAgaWYgKCFydWxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGNzdCBub2RlIHdhcyBub3QgcGFyc2VkIGJ5IGEgcnVsZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bkNvbnZlcnRlcihydWxlLCBpbnB1dCwgY3N0Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgcnVuQ29udmVydGVyKHJ1bGUsIGlucHV0LCBjc3ROb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3dpdGNoIChydWxlLm5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAnSU5UJzogcmV0dXJuIFZhbHVlQ29udmVydGVyLmNvbnZlcnRJbnQoaW5wdXQpO1xuICAgICAgICAgICAgY2FzZSAnU1RSSU5HJzogcmV0dXJuIFZhbHVlQ29udmVydGVyLmNvbnZlcnRTdHJpbmcoaW5wdXQpO1xuICAgICAgICAgICAgY2FzZSAnSUQnOiByZXR1cm4gVmFsdWVDb252ZXJ0ZXIuY29udmVydElEKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKChfYSA9IGdldFJ1bGVUeXBlKHJ1bGUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuIFZhbHVlQ29udmVydGVyLmNvbnZlcnROdW1iZXIoaW5wdXQpO1xuICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiBWYWx1ZUNvbnZlcnRlci5jb252ZXJ0Qm9vbGVhbihpbnB1dCk7XG4gICAgICAgICAgICBjYXNlICdiaWdpbnQnOiByZXR1cm4gVmFsdWVDb252ZXJ0ZXIuY29udmVydEJpZ2ludChpbnB1dCk7XG4gICAgICAgICAgICBjYXNlICdkYXRlJzogcmV0dXJuIFZhbHVlQ29udmVydGVyLmNvbnZlcnREYXRlKGlucHV0KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB2YXIgVmFsdWVDb252ZXJ0ZXI7XG4oZnVuY3Rpb24gKFZhbHVlQ29udmVydGVyKSB7XG4gICAgZnVuY3Rpb24gY29udmVydFN0cmluZyhpbnB1dCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaW5wdXQubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gaW5wdXQuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMxID0gaW5wdXQuY2hhckF0KCsraSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGNvbnZlcnRFc2NhcGVDaGFyYWN0ZXIoYzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmFsdWVDb252ZXJ0ZXIuY29udmVydFN0cmluZyA9IGNvbnZlcnRTdHJpbmc7XG4gICAgZnVuY3Rpb24gY29udmVydEVzY2FwZUNoYXJhY3RlcihjaGFyKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgICAgY2FzZSAnYic6IHJldHVybiAnXFxiJztcbiAgICAgICAgICAgIGNhc2UgJ2YnOiByZXR1cm4gJ1xcZic7XG4gICAgICAgICAgICBjYXNlICduJzogcmV0dXJuICdcXG4nO1xuICAgICAgICAgICAgY2FzZSAncic6IHJldHVybiAnXFxyJztcbiAgICAgICAgICAgIGNhc2UgJ3QnOiByZXR1cm4gJ1xcdCc7XG4gICAgICAgICAgICBjYXNlICd2JzogcmV0dXJuICdcXHYnO1xuICAgICAgICAgICAgY2FzZSAnMCc6IHJldHVybiAnXFwwJztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBjaGFyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbnZlcnRJRChpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckF0KDApID09PSAnXicpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVmFsdWVDb252ZXJ0ZXIuY29udmVydElEID0gY29udmVydElEO1xuICAgIGZ1bmN0aW9uIGNvbnZlcnRJbnQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0KTtcbiAgICB9XG4gICAgVmFsdWVDb252ZXJ0ZXIuY29udmVydEludCA9IGNvbnZlcnRJbnQ7XG4gICAgZnVuY3Rpb24gY29udmVydEJpZ2ludChpbnB1dCkge1xuICAgICAgICByZXR1cm4gQmlnSW50KGlucHV0KTtcbiAgICB9XG4gICAgVmFsdWVDb252ZXJ0ZXIuY29udmVydEJpZ2ludCA9IGNvbnZlcnRCaWdpbnQ7XG4gICAgZnVuY3Rpb24gY29udmVydERhdGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGlucHV0KTtcbiAgICB9XG4gICAgVmFsdWVDb252ZXJ0ZXIuY29udmVydERhdGUgPSBjb252ZXJ0RGF0ZTtcbiAgICBmdW5jdGlvbiBjb252ZXJ0TnVtYmVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoaW5wdXQpO1xuICAgIH1cbiAgICBWYWx1ZUNvbnZlcnRlci5jb252ZXJ0TnVtYmVyID0gY29udmVydE51bWJlcjtcbiAgICBmdW5jdGlvbiBjb252ZXJ0Qm9vbGVhbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICBWYWx1ZUNvbnZlcnRlci5jb252ZXJ0Qm9vbGVhbiA9IGNvbnZlcnRCb29sZWFuO1xufSkoVmFsdWVDb252ZXJ0ZXIgfHwgKFZhbHVlQ29udmVydGVyID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbHVlLWNvbnZlcnRlci5qcy5tYXAiXSwibmFtZXMiOlsiaXNDcm9zc1JlZmVyZW5jZSIsImlzUnVsZUNhbGwiLCJnZXRDcm9zc1JlZmVyZW5jZVRlcm1pbmFsIiwiZ2V0UnVsZVR5cGUiLCJEZWZhdWx0VmFsdWVDb252ZXJ0ZXIiLCJjb252ZXJ0IiwiaW5wdXQiLCJjc3ROb2RlIiwiZmVhdHVyZSIsImdyYW1tYXJTb3VyY2UiLCJydWxlIiwicmVmIiwiRXJyb3IiLCJydW5Db252ZXJ0ZXIiLCJfYSIsIm5hbWUiLCJ0b1VwcGVyQ2FzZSIsIlZhbHVlQ29udmVydGVyIiwiY29udmVydEludCIsImNvbnZlcnRTdHJpbmciLCJjb252ZXJ0SUQiLCJ0b0xvd2VyQ2FzZSIsImNvbnZlcnROdW1iZXIiLCJjb252ZXJ0Qm9vbGVhbiIsImNvbnZlcnRCaWdpbnQiLCJjb252ZXJ0RGF0ZSIsInJlc3VsdCIsImkiLCJsZW5ndGgiLCJjIiwiY2hhckF0IiwiYzEiLCJjb252ZXJ0RXNjYXBlQ2hhcmFjdGVyIiwiY2hhciIsInN1YnN0cmluZyIsInBhcnNlSW50IiwiQmlnSW50IiwiRGF0ZSIsIk51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/parser/value-converter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/references/linker.js":
/*!*******************************************************!*\
  !*** ./node_modules/langium/lib/references/linker.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultLinker: () => (/* binding */ DefaultLinker)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _workspace_documents_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../workspace/documents.js */ \"(ssr)/./node_modules/langium/lib/workspace/documents.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\nconst ref_resolving = Symbol(\"ref_resolving\");\nclass DefaultLinker {\n    constructor(services){\n        this.reflection = services.shared.AstReflection;\n        this.langiumDocuments = ()=>services.shared.workspace.LangiumDocuments;\n        this.scopeProvider = services.references.ScopeProvider;\n        this.astNodeLocator = services.workspace.AstNodeLocator;\n    }\n    async link(document, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        for (const node of (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAst)(document.parseResult.value)){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__.interruptAndCheck)(cancelToken);\n            (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamReferences)(node).forEach((ref)=>this.doLink(ref, document));\n        }\n    }\n    doLink(refInfo, document) {\n        var _a;\n        const ref = refInfo.reference;\n        // The reference may already have been resolved lazily by accessing its `ref` property.\n        if (ref._ref === undefined) {\n            ref._ref = ref_resolving;\n            try {\n                const description = this.getCandidate(refInfo);\n                if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isLinkingError)(description)) {\n                    ref._ref = description;\n                } else {\n                    ref._nodeDescription = description;\n                    if (this.langiumDocuments().hasDocument(description.documentUri)) {\n                        // The target document is already loaded\n                        const linkedNode = this.loadAstNode(description);\n                        ref._ref = linkedNode !== null && linkedNode !== void 0 ? linkedNode : this.createLinkingError(refInfo, description);\n                    } else {\n                        // Try to load the target AST node later using the already provided description\n                        ref._ref = undefined;\n                    }\n                }\n            } catch (err) {\n                console.error(`An error occurred while resolving reference to '${ref.$refText}':`, err);\n                const errorMessage = (_a = err.message) !== null && _a !== void 0 ? _a : String(err);\n                ref._ref = Object.assign(Object.assign({}, refInfo), {\n                    message: `An error occurred while resolving reference to '${ref.$refText}': ${errorMessage}`\n                });\n            }\n            // Add the reference to the document's array of references\n            // Only add if the reference has been not been resolved earlier\n            // Otherwise we end up with duplicates\n            // See also implementation of `buildReference`\n            document.references.push(ref);\n        }\n    }\n    unlink(document) {\n        for (const ref of document.references){\n            delete ref._ref;\n            delete ref._nodeDescription;\n        }\n        document.references = [];\n    }\n    getCandidate(refInfo) {\n        const scope = this.scopeProvider.getScope(refInfo);\n        const description = scope.getElement(refInfo.reference.$refText);\n        return description !== null && description !== void 0 ? description : this.createLinkingError(refInfo);\n    }\n    buildReference(node, property, refNode, refText) {\n        // See behavior description in doc of Linker, update that on changes in here.\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const linker = this;\n        const reference = {\n            $refNode: refNode,\n            $refText: refText,\n            get ref () {\n                var _a;\n                if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNode)(this._ref)) {\n                    // Most frequent case: the target is already resolved.\n                    return this._ref;\n                } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNodeDescription)(this._nodeDescription)) {\n                    // A candidate has been found before, but it is not loaded yet.\n                    const linkedNode = linker.loadAstNode(this._nodeDescription);\n                    this._ref = linkedNode !== null && linkedNode !== void 0 ? linkedNode : linker.createLinkingError({\n                        reference,\n                        container: node,\n                        property\n                    }, this._nodeDescription);\n                } else if (this._ref === undefined) {\n                    // The reference has not been linked yet, so do that now.\n                    this._ref = ref_resolving;\n                    const document = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.findRootNode)(node).$document;\n                    const refData = linker.getLinkedNode({\n                        reference,\n                        container: node,\n                        property\n                    });\n                    if (refData.error && document && document.state < _workspace_documents_js__WEBPACK_IMPORTED_MODULE_4__.DocumentState.ComputedScopes) {\n                        // Document scope is not ready, don't set `this._ref` so linker can retry later.\n                        return this._ref = undefined;\n                    }\n                    this._ref = (_a = refData.node) !== null && _a !== void 0 ? _a : refData.error;\n                    this._nodeDescription = refData.descr;\n                    document === null || document === void 0 ? void 0 : document.references.push(this);\n                } else if (this._ref === ref_resolving) {\n                    throw new Error(`Cyclic reference resolution detected: ${linker.astNodeLocator.getAstNodePath(node)}/${property} (symbol '${refText}')`);\n                }\n                return (0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNode)(this._ref) ? this._ref : undefined;\n            },\n            get $nodeDescription () {\n                return this._nodeDescription;\n            },\n            get error () {\n                return (0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isLinkingError)(this._ref) ? this._ref : undefined;\n            }\n        };\n        return reference;\n    }\n    getLinkedNode(refInfo) {\n        var _a;\n        try {\n            const description = this.getCandidate(refInfo);\n            if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isLinkingError)(description)) {\n                return {\n                    error: description\n                };\n            }\n            const linkedNode = this.loadAstNode(description);\n            if (linkedNode) {\n                return {\n                    node: linkedNode,\n                    descr: description\n                };\n            } else {\n                return {\n                    descr: description,\n                    error: this.createLinkingError(refInfo, description)\n                };\n            }\n        } catch (err) {\n            console.error(`An error occurred while resolving reference to '${refInfo.reference.$refText}':`, err);\n            const errorMessage = (_a = err.message) !== null && _a !== void 0 ? _a : String(err);\n            return {\n                error: Object.assign(Object.assign({}, refInfo), {\n                    message: `An error occurred while resolving reference to '${refInfo.reference.$refText}': ${errorMessage}`\n                })\n            };\n        }\n    }\n    loadAstNode(nodeDescription) {\n        if (nodeDescription.node) {\n            return nodeDescription.node;\n        }\n        const doc = this.langiumDocuments().getDocument(nodeDescription.documentUri);\n        if (!doc) {\n            return undefined;\n        }\n        return this.astNodeLocator.getAstNode(doc.parseResult.value, nodeDescription.path);\n    }\n    createLinkingError(refInfo, targetDescription) {\n        // Check whether the document is sufficiently processed by the DocumentBuilder. If not, this is a hint for a bug\n        // in the language implementation.\n        const document = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.findRootNode)(refInfo.container).$document;\n        if (document && document.state < _workspace_documents_js__WEBPACK_IMPORTED_MODULE_4__.DocumentState.ComputedScopes) {\n            console.warn(`Attempted reference resolution before document reached ComputedScopes state (${document.uri}).`);\n        }\n        const referenceType = this.reflection.getReferenceType(refInfo);\n        return Object.assign(Object.assign({}, refInfo), {\n            message: `Could not resolve reference to ${referenceType} named '${refInfo.reference.$refText}'.`,\n            targetDescription\n        });\n    }\n} //# sourceMappingURL=linker.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9saW5rZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ2pCO0FBQ3VCO0FBQ0Y7QUFDcEI7QUFDSjtBQUMxRCxNQUFNUyxnQkFBZ0JDLE9BQU87QUFDdEIsTUFBTUM7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsVUFBVSxHQUFHRCxTQUFTRSxNQUFNLENBQUNDLGFBQWE7UUFDL0MsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxJQUFNSixTQUFTRSxNQUFNLENBQUNHLFNBQVMsQ0FBQ0MsZ0JBQWdCO1FBQ3hFLElBQUksQ0FBQ0MsYUFBYSxHQUFHUCxTQUFTUSxVQUFVLENBQUNDLGFBQWE7UUFDdEQsSUFBSSxDQUFDQyxjQUFjLEdBQUdWLFNBQVNLLFNBQVMsQ0FBQ00sY0FBYztJQUMzRDtJQUNBLE1BQU1DLEtBQUtDLFFBQVEsRUFBRUMsY0FBYzNCLHFFQUFpQkEsQ0FBQzRCLElBQUksRUFBRTtRQUN2RCxLQUFLLE1BQU1DLFFBQVF4Qiw4REFBU0EsQ0FBQ3FCLFNBQVNJLFdBQVcsQ0FBQ0MsS0FBSyxFQUFHO1lBQ3RELE1BQU14QiwwRUFBaUJBLENBQUNvQjtZQUN4QnJCLHFFQUFnQkEsQ0FBQ3VCLE1BQU1HLE9BQU8sQ0FBQ0MsQ0FBQUEsTUFBTyxJQUFJLENBQUNDLE1BQU0sQ0FBQ0QsS0FBS1A7UUFDM0Q7SUFDSjtJQUNBUSxPQUFPQyxPQUFPLEVBQUVULFFBQVEsRUFBRTtRQUN0QixJQUFJVTtRQUNKLE1BQU1ILE1BQU1FLFFBQVFFLFNBQVM7UUFDN0IsdUZBQXVGO1FBQ3ZGLElBQUlKLElBQUlLLElBQUksS0FBS0MsV0FBVztZQUN4Qk4sSUFBSUssSUFBSSxHQUFHN0I7WUFDWCxJQUFJO2dCQUNBLE1BQU0rQixjQUFjLElBQUksQ0FBQ0MsWUFBWSxDQUFDTjtnQkFDdEMsSUFBSWhDLCtEQUFjQSxDQUFDcUMsY0FBYztvQkFD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Q0FBQ0MsS0FBSyxFQUFFK0MsZ0JBQWdCSSxJQUFJO0lBQ3JGO0lBQ0FuQyxtQkFBbUJaLE9BQU8sRUFBRWdELGlCQUFpQixFQUFFO1FBQzNDLGdIQUFnSDtRQUNoSCxrQ0FBa0M7UUFDbEMsTUFBTXpELFdBQVd0QixpRUFBWUEsQ0FBQytCLFFBQVFpQyxTQUFTLEVBQUVDLFNBQVM7UUFDMUQsSUFBSTNDLFlBQVlBLFNBQVM4QyxLQUFLLEdBQUdoRSxrRUFBYUEsQ0FBQ2lFLGNBQWMsRUFBRTtZQUMzRHhCLFFBQVFtQyxJQUFJLENBQUMsQ0FBQyw2RUFBNkUsRUFBRTFELFNBQVMyRCxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2pIO1FBQ0EsTUFBTUMsZ0JBQWdCLElBQUksQ0FBQ3hFLFVBQVUsQ0FBQ3lFLGdCQUFnQixDQUFDcEQ7UUFDdkQsT0FBT29CLE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR3JCLFVBQVU7WUFBRWtCLFNBQVMsQ0FBQywrQkFBK0IsRUFBRWlDLGNBQWMsUUFBUSxFQUFFbkQsUUFBUUUsU0FBUyxDQUFDYyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQUVnQztRQUFrQjtJQUM1SztBQUNKLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9saW5rZXIuanM/YjAzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlbiB9IGZyb20gJy4uL3V0aWxzL2NhbmNlbGxhdGlvbi5qcyc7XG5pbXBvcnQgeyBpc0FzdE5vZGUsIGlzQXN0Tm9kZURlc2NyaXB0aW9uLCBpc0xpbmtpbmdFcnJvciB9IGZyb20gJy4uL3N5bnRheC10cmVlLmpzJztcbmltcG9ydCB7IGZpbmRSb290Tm9kZSwgc3RyZWFtQXN0LCBzdHJlYW1SZWZlcmVuY2VzIH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IGludGVycnVwdEFuZENoZWNrIH0gZnJvbSAnLi4vdXRpbHMvcHJvbWlzZS11dGlscy5qcyc7XG5pbXBvcnQgeyBEb2N1bWVudFN0YXRlIH0gZnJvbSAnLi4vd29ya3NwYWNlL2RvY3VtZW50cy5qcyc7XG5jb25zdCByZWZfcmVzb2x2aW5nID0gU3ltYm9sKCdyZWZfcmVzb2x2aW5nJyk7XG5leHBvcnQgY2xhc3MgRGVmYXVsdExpbmtlciB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9uID0gc2VydmljZXMuc2hhcmVkLkFzdFJlZmxlY3Rpb247XG4gICAgICAgIHRoaXMubGFuZ2l1bURvY3VtZW50cyA9ICgpID0+IHNlcnZpY2VzLnNoYXJlZC53b3Jrc3BhY2UuTGFuZ2l1bURvY3VtZW50cztcbiAgICAgICAgdGhpcy5zY29wZVByb3ZpZGVyID0gc2VydmljZXMucmVmZXJlbmNlcy5TY29wZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmFzdE5vZGVMb2NhdG9yID0gc2VydmljZXMud29ya3NwYWNlLkFzdE5vZGVMb2NhdG9yO1xuICAgIH1cbiAgICBhc3luYyBsaW5rKGRvY3VtZW50LCBjYW5jZWxUb2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmUpIHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIHN0cmVhbUFzdChkb2N1bWVudC5wYXJzZVJlc3VsdC52YWx1ZSkpIHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIHN0cmVhbVJlZmVyZW5jZXMobm9kZSkuZm9yRWFjaChyZWYgPT4gdGhpcy5kb0xpbmsocmVmLCBkb2N1bWVudCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvTGluayhyZWZJbmZvLCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJlZiA9IHJlZkluZm8ucmVmZXJlbmNlO1xuICAgICAgICAvLyBUaGUgcmVmZXJlbmNlIG1heSBhbHJlYWR5IGhhdmUgYmVlbiByZXNvbHZlZCBsYXppbHkgYnkgYWNjZXNzaW5nIGl0cyBgcmVmYCBwcm9wZXJ0eS5cbiAgICAgICAgaWYgKHJlZi5fcmVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlZi5fcmVmID0gcmVmX3Jlc29sdmluZztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB0aGlzLmdldENhbmRpZGF0ZShyZWZJbmZvKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5raW5nRXJyb3IoZGVzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZi5fcmVmID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWYuX25vZGVEZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYW5naXVtRG9jdW1lbnRzKCkuaGFzRG9jdW1lbnQoZGVzY3JpcHRpb24uZG9jdW1lbnRVcmkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdGFyZ2V0IGRvY3VtZW50IGlzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gdGhpcy5sb2FkQXN0Tm9kZShkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWYuX3JlZiA9IGxpbmtlZE5vZGUgIT09IG51bGwgJiYgbGlua2VkTm9kZSAhPT0gdm9pZCAwID8gbGlua2VkTm9kZSA6IHRoaXMuY3JlYXRlTGlua2luZ0Vycm9yKHJlZkluZm8sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBsb2FkIHRoZSB0YXJnZXQgQVNUIG5vZGUgbGF0ZXIgdXNpbmcgdGhlIGFscmVhZHkgcHJvdmlkZWQgZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZi5fcmVmID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlc29sdmluZyByZWZlcmVuY2UgdG8gJyR7cmVmLiRyZWZUZXh0fSc6YCwgZXJyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoX2EgPSBlcnIubWVzc2FnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU3RyaW5nKGVycik7XG4gICAgICAgICAgICAgICAgcmVmLl9yZWYgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZkluZm8pLCB7IG1lc3NhZ2U6IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXNvbHZpbmcgcmVmZXJlbmNlIHRvICcke3JlZi4kcmVmVGV4dH0nOiAke2Vycm9yTWVzc2FnZX1gIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRoZSByZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50J3MgYXJyYXkgb2YgcmVmZXJlbmNlc1xuICAgICAgICAgICAgLy8gT25seSBhZGQgaWYgdGhlIHJlZmVyZW5jZSBoYXMgYmVlbiBub3QgYmVlbiByZXNvbHZlZCBlYXJsaWVyXG4gICAgICAgICAgICAvLyBPdGhlcndpc2Ugd2UgZW5kIHVwIHdpdGggZHVwbGljYXRlc1xuICAgICAgICAgICAgLy8gU2VlIGFsc28gaW1wbGVtZW50YXRpb24gb2YgYGJ1aWxkUmVmZXJlbmNlYFxuICAgICAgICAgICAgZG9jdW1lbnQucmVmZXJlbmNlcy5wdXNoKHJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5saW5rKGRvY3VtZW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgcmVmIG9mIGRvY3VtZW50LnJlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSByZWYuX3JlZjtcbiAgICAgICAgICAgIGRlbGV0ZSByZWYuX25vZGVEZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5yZWZlcmVuY2VzID0gW107XG4gICAgfVxuICAgIGdldENhbmRpZGF0ZShyZWZJbmZvKSB7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5zY29wZVByb3ZpZGVyLmdldFNjb3BlKHJlZkluZm8pO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjb3BlLmdldEVsZW1lbnQocmVmSW5mby5yZWZlcmVuY2UuJHJlZlRleHQpO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24gIT09IG51bGwgJiYgZGVzY3JpcHRpb24gIT09IHZvaWQgMCA/IGRlc2NyaXB0aW9uIDogdGhpcy5jcmVhdGVMaW5raW5nRXJyb3IocmVmSW5mbyk7XG4gICAgfVxuICAgIGJ1aWxkUmVmZXJlbmNlKG5vZGUsIHByb3BlcnR5LCByZWZOb2RlLCByZWZUZXh0KSB7XG4gICAgICAgIC8vIFNlZSBiZWhhdmlvciBkZXNjcmlwdGlvbiBpbiBkb2Mgb2YgTGlua2VyLCB1cGRhdGUgdGhhdCBvbiBjaGFuZ2VzIGluIGhlcmUuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBjb25zdCBsaW5rZXIgPSB0aGlzO1xuICAgICAgICBjb25zdCByZWZlcmVuY2UgPSB7XG4gICAgICAgICAgICAkcmVmTm9kZTogcmVmTm9kZSxcbiAgICAgICAgICAgICRyZWZUZXh0OiByZWZUZXh0LFxuICAgICAgICAgICAgZ2V0IHJlZigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXN0Tm9kZSh0aGlzLl9yZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1vc3QgZnJlcXVlbnQgY2FzZTogdGhlIHRhcmdldCBpcyBhbHJlYWR5IHJlc29sdmVkLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FzdE5vZGVEZXNjcmlwdGlvbih0aGlzLl9ub2RlRGVzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgY2FuZGlkYXRlIGhhcyBiZWVuIGZvdW5kIGJlZm9yZSwgYnV0IGl0IGlzIG5vdCBsb2FkZWQgeWV0LlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gbGlua2VyLmxvYWRBc3ROb2RlKHRoaXMuX25vZGVEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZiA9IGxpbmtlZE5vZGUgIT09IG51bGwgJiYgbGlua2VkTm9kZSAhPT0gdm9pZCAwID8gbGlua2VkTm9kZSA6IGxpbmtlci5jcmVhdGVMaW5raW5nRXJyb3IoeyByZWZlcmVuY2UsIGNvbnRhaW5lcjogbm9kZSwgcHJvcGVydHkgfSwgdGhpcy5fbm9kZURlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlZmVyZW5jZSBoYXMgbm90IGJlZW4gbGlua2VkIHlldCwgc28gZG8gdGhhdCBub3cuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZiA9IHJlZl9yZXNvbHZpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gZmluZFJvb3ROb2RlKG5vZGUpLiRkb2N1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmRGF0YSA9IGxpbmtlci5nZXRMaW5rZWROb2RlKHsgcmVmZXJlbmNlLCBjb250YWluZXI6IG5vZGUsIHByb3BlcnR5IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVmRGF0YS5lcnJvciAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5zdGF0ZSA8IERvY3VtZW50U3RhdGUuQ29tcHV0ZWRTY29wZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvY3VtZW50IHNjb3BlIGlzIG5vdCByZWFkeSwgZG9uJ3Qgc2V0IGB0aGlzLl9yZWZgIHNvIGxpbmtlciBjYW4gcmV0cnkgbGF0ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZiA9IChfYSA9IHJlZkRhdGEubm9kZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcmVmRGF0YS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9kZURlc2NyaXB0aW9uID0gcmVmRGF0YS5kZXNjcjtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQgPT09IG51bGwgfHwgZG9jdW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50LnJlZmVyZW5jZXMucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVmID09PSByZWZfcmVzb2x2aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ3ljbGljIHJlZmVyZW5jZSByZXNvbHV0aW9uIGRldGVjdGVkOiAke2xpbmtlci5hc3ROb2RlTG9jYXRvci5nZXRBc3ROb2RlUGF0aChub2RlKX0vJHtwcm9wZXJ0eX0gKHN5bWJvbCAnJHtyZWZUZXh0fScpYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpc0FzdE5vZGUodGhpcy5fcmVmKSA/IHRoaXMuX3JlZiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgJG5vZGVEZXNjcmlwdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9kZURlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNMaW5raW5nRXJyb3IodGhpcy5fcmVmKSA/IHRoaXMuX3JlZiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlZmVyZW5jZTtcbiAgICB9XG4gICAgZ2V0TGlua2VkTm9kZShyZWZJbmZvKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5nZXRDYW5kaWRhdGUocmVmSW5mbyk7XG4gICAgICAgICAgICBpZiAoaXNMaW5raW5nRXJyb3IoZGVzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGRlc2NyaXB0aW9uIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gdGhpcy5sb2FkQXN0Tm9kZShkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAobGlua2VkTm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IGxpbmtlZE5vZGUsIGRlc2NyOiBkZXNjcmlwdGlvbiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3I6IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogdGhpcy5jcmVhdGVMaW5raW5nRXJyb3IocmVmSW5mbywgZGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXNvbHZpbmcgcmVmZXJlbmNlIHRvICcke3JlZkluZm8ucmVmZXJlbmNlLiRyZWZUZXh0fSc6YCwgZXJyKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IChfYSA9IGVyci5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTdHJpbmcoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmSW5mbyksIHsgbWVzc2FnZTogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlc29sdmluZyByZWZlcmVuY2UgdG8gJyR7cmVmSW5mby5yZWZlcmVuY2UuJHJlZlRleHR9JzogJHtlcnJvck1lc3NhZ2V9YCB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2FkQXN0Tm9kZShub2RlRGVzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKG5vZGVEZXNjcmlwdGlvbi5ub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZURlc2NyaXB0aW9uLm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9jID0gdGhpcy5sYW5naXVtRG9jdW1lbnRzKCkuZ2V0RG9jdW1lbnQobm9kZURlc2NyaXB0aW9uLmRvY3VtZW50VXJpKTtcbiAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXN0Tm9kZUxvY2F0b3IuZ2V0QXN0Tm9kZShkb2MucGFyc2VSZXN1bHQudmFsdWUsIG5vZGVEZXNjcmlwdGlvbi5wYXRoKTtcbiAgICB9XG4gICAgY3JlYXRlTGlua2luZ0Vycm9yKHJlZkluZm8sIHRhcmdldERlc2NyaXB0aW9uKSB7XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGRvY3VtZW50IGlzIHN1ZmZpY2llbnRseSBwcm9jZXNzZWQgYnkgdGhlIERvY3VtZW50QnVpbGRlci4gSWYgbm90LCB0aGlzIGlzIGEgaGludCBmb3IgYSBidWdcbiAgICAgICAgLy8gaW4gdGhlIGxhbmd1YWdlIGltcGxlbWVudGF0aW9uLlxuICAgICAgICBjb25zdCBkb2N1bWVudCA9IGZpbmRSb290Tm9kZShyZWZJbmZvLmNvbnRhaW5lcikuJGRvY3VtZW50O1xuICAgICAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQuc3RhdGUgPCBEb2N1bWVudFN0YXRlLkNvbXB1dGVkU2NvcGVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEF0dGVtcHRlZCByZWZlcmVuY2UgcmVzb2x1dGlvbiBiZWZvcmUgZG9jdW1lbnQgcmVhY2hlZCBDb21wdXRlZFNjb3BlcyBzdGF0ZSAoJHtkb2N1bWVudC51cml9KS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWZlcmVuY2VUeXBlID0gdGhpcy5yZWZsZWN0aW9uLmdldFJlZmVyZW5jZVR5cGUocmVmSW5mbyk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZkluZm8pLCB7IG1lc3NhZ2U6IGBDb3VsZCBub3QgcmVzb2x2ZSByZWZlcmVuY2UgdG8gJHtyZWZlcmVuY2VUeXBlfSBuYW1lZCAnJHtyZWZJbmZvLnJlZmVyZW5jZS4kcmVmVGV4dH0nLmAsIHRhcmdldERlc2NyaXB0aW9uIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmtlci5qcy5tYXAiXSwibmFtZXMiOlsiQ2FuY2VsbGF0aW9uVG9rZW4iLCJpc0FzdE5vZGUiLCJpc0FzdE5vZGVEZXNjcmlwdGlvbiIsImlzTGlua2luZ0Vycm9yIiwiZmluZFJvb3ROb2RlIiwic3RyZWFtQXN0Iiwic3RyZWFtUmVmZXJlbmNlcyIsImludGVycnVwdEFuZENoZWNrIiwiRG9jdW1lbnRTdGF0ZSIsInJlZl9yZXNvbHZpbmciLCJTeW1ib2wiLCJEZWZhdWx0TGlua2VyIiwiY29uc3RydWN0b3IiLCJzZXJ2aWNlcyIsInJlZmxlY3Rpb24iLCJzaGFyZWQiLCJBc3RSZWZsZWN0aW9uIiwibGFuZ2l1bURvY3VtZW50cyIsIndvcmtzcGFjZSIsIkxhbmdpdW1Eb2N1bWVudHMiLCJzY29wZVByb3ZpZGVyIiwicmVmZXJlbmNlcyIsIlNjb3BlUHJvdmlkZXIiLCJhc3ROb2RlTG9jYXRvciIsIkFzdE5vZGVMb2NhdG9yIiwibGluayIsImRvY3VtZW50IiwiY2FuY2VsVG9rZW4iLCJOb25lIiwibm9kZSIsInBhcnNlUmVzdWx0IiwidmFsdWUiLCJmb3JFYWNoIiwicmVmIiwiZG9MaW5rIiwicmVmSW5mbyIsIl9hIiwicmVmZXJlbmNlIiwiX3JlZiIsInVuZGVmaW5lZCIsImRlc2NyaXB0aW9uIiwiZ2V0Q2FuZGlkYXRlIiwiX25vZGVEZXNjcmlwdGlvbiIsImhhc0RvY3VtZW50IiwiZG9jdW1lbnRVcmkiLCJsaW5rZWROb2RlIiwibG9hZEFzdE5vZGUiLCJjcmVhdGVMaW5raW5nRXJyb3IiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCIkcmVmVGV4dCIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJTdHJpbmciLCJPYmplY3QiLCJhc3NpZ24iLCJwdXNoIiwidW5saW5rIiwic2NvcGUiLCJnZXRTY29wZSIsImdldEVsZW1lbnQiLCJidWlsZFJlZmVyZW5jZSIsInByb3BlcnR5IiwicmVmTm9kZSIsInJlZlRleHQiLCJsaW5rZXIiLCIkcmVmTm9kZSIsImNvbnRhaW5lciIsIiRkb2N1bWVudCIsInJlZkRhdGEiLCJnZXRMaW5rZWROb2RlIiwic3RhdGUiLCJDb21wdXRlZFNjb3BlcyIsImRlc2NyIiwiRXJyb3IiLCJnZXRBc3ROb2RlUGF0aCIsIiRub2RlRGVzY3JpcHRpb24iLCJub2RlRGVzY3JpcHRpb24iLCJkb2MiLCJnZXREb2N1bWVudCIsImdldEFzdE5vZGUiLCJwYXRoIiwidGFyZ2V0RGVzY3JpcHRpb24iLCJ3YXJuIiwidXJpIiwicmVmZXJlbmNlVHlwZSIsImdldFJlZmVyZW5jZVR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/references/linker.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/references/name-provider.js":
/*!**************************************************************!*\
  !*** ./node_modules/langium/lib/references/name-provider.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultNameProvider: () => (/* binding */ DefaultNameProvider),\n/* harmony export */   isNamed: () => (/* binding */ isNamed)\n/* harmony export */ });\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \nfunction isNamed(node) {\n    return typeof node.name === \"string\";\n}\nclass DefaultNameProvider {\n    getName(node) {\n        if (isNamed(node)) {\n            return node.name;\n        }\n        return undefined;\n    }\n    getNameNode(node) {\n        return (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_0__.findNodeForProperty)(node.$cstNode, \"name\");\n    }\n} //# sourceMappingURL=name-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9uYW1lLXByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNkO0FBQ3pELFNBQVNDLFFBQVFDLElBQUk7SUFDeEIsT0FBTyxPQUFPQSxLQUFLQyxJQUFJLEtBQUs7QUFDaEM7QUFDTyxNQUFNQztJQUNUQyxRQUFRSCxJQUFJLEVBQUU7UUFDVixJQUFJRCxRQUFRQyxPQUFPO1lBQ2YsT0FBT0EsS0FBS0MsSUFBSTtRQUNwQjtRQUNBLE9BQU9HO0lBQ1g7SUFDQUMsWUFBWUwsSUFBSSxFQUFFO1FBQ2QsT0FBT0YsNEVBQW1CQSxDQUFDRSxLQUFLTSxRQUFRLEVBQUU7SUFDOUM7QUFDSixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3JlZmVyZW5jZXMvbmFtZS1wcm92aWRlci5qcz8xZTAyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IGZpbmROb2RlRm9yUHJvcGVydHkgfSBmcm9tICcuLi91dGlscy9ncmFtbWFyLXV0aWxzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpc05hbWVkKG5vZGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG5vZGUubmFtZSA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnQgY2xhc3MgRGVmYXVsdE5hbWVQcm92aWRlciB7XG4gICAgZ2V0TmFtZShub2RlKSB7XG4gICAgICAgIGlmIChpc05hbWVkKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldE5hbWVOb2RlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGZpbmROb2RlRm9yUHJvcGVydHkobm9kZS4kY3N0Tm9kZSwgJ25hbWUnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYW1lLXByb3ZpZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJmaW5kTm9kZUZvclByb3BlcnR5IiwiaXNOYW1lZCIsIm5vZGUiLCJuYW1lIiwiRGVmYXVsdE5hbWVQcm92aWRlciIsImdldE5hbWUiLCJ1bmRlZmluZWQiLCJnZXROYW1lTm9kZSIsIiRjc3ROb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/references/name-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/references/references.js":
/*!***********************************************************!*\
  !*** ./node_modules/langium/lib/references/references.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultReferences: () => (/* binding */ DefaultReferences)\n/* harmony export */ });\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/uri-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\nclass DefaultReferences {\n    constructor(services){\n        this.nameProvider = services.references.NameProvider;\n        this.index = services.shared.workspace.IndexManager;\n        this.nodeLocator = services.workspace.AstNodeLocator;\n    }\n    findDeclaration(sourceCstNode) {\n        if (sourceCstNode) {\n            const assignment = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_0__.findAssignment)(sourceCstNode);\n            const nodeElem = sourceCstNode.astNode;\n            if (assignment && nodeElem) {\n                const reference = nodeElem[assignment.feature];\n                if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isReference)(reference)) {\n                    return reference.ref;\n                } else if (Array.isArray(reference)) {\n                    for (const ref of reference){\n                        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isReference)(ref) && ref.$refNode && ref.$refNode.offset <= sourceCstNode.offset && ref.$refNode.end >= sourceCstNode.end) {\n                            return ref.ref;\n                        }\n                    }\n                }\n            }\n            if (nodeElem) {\n                const nameNode = this.nameProvider.getNameNode(nodeElem);\n                // Only return the targeted node in case the targeted cst node is the name node or part of it\n                if (nameNode && (nameNode === sourceCstNode || (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__.isChildNode)(sourceCstNode, nameNode))) {\n                    return nodeElem;\n                }\n            }\n        }\n        return undefined;\n    }\n    findDeclarationNode(sourceCstNode) {\n        const astNode = this.findDeclaration(sourceCstNode);\n        if (astNode === null || astNode === void 0 ? void 0 : astNode.$cstNode) {\n            const targetNode = this.nameProvider.getNameNode(astNode);\n            return targetNode !== null && targetNode !== void 0 ? targetNode : astNode.$cstNode;\n        }\n        return undefined;\n    }\n    findReferences(targetNode, options) {\n        const refs = [];\n        if (options.includeDeclaration) {\n            const ref = this.getReferenceToSelf(targetNode);\n            if (ref) {\n                refs.push(ref);\n            }\n        }\n        let indexReferences = this.index.findAllReferences(targetNode, this.nodeLocator.getAstNodePath(targetNode));\n        if (options.documentUri) {\n            indexReferences = indexReferences.filter((ref)=>_utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_3__.UriUtils.equals(ref.sourceUri, options.documentUri));\n        }\n        refs.push(...indexReferences);\n        return (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_4__.stream)(refs);\n    }\n    getReferenceToSelf(targetNode) {\n        const nameNode = this.nameProvider.getNameNode(targetNode);\n        if (nameNode) {\n            const doc = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_5__.getDocument)(targetNode);\n            const path = this.nodeLocator.getAstNodePath(targetNode);\n            return {\n                sourceUri: doc.uri,\n                sourcePath: path,\n                targetUri: doc.uri,\n                targetPath: path,\n                segment: (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__.toDocumentSegment)(nameNode),\n                local: true\n            };\n        }\n        return undefined;\n    }\n} //# sourceMappingURL=references.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9yZWZlcmVuY2VzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDbkI7QUFDWDtBQUNJO0FBQ21CO0FBQzNCO0FBQ0s7QUFDMUMsTUFBTU87SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsWUFBWSxHQUFHRCxTQUFTRSxVQUFVLENBQUNDLFlBQVk7UUFDcEQsSUFBSSxDQUFDQyxLQUFLLEdBQUdKLFNBQVNLLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxZQUFZO1FBQ25ELElBQUksQ0FBQ0MsV0FBVyxHQUFHUixTQUFTTSxTQUFTLENBQUNHLGNBQWM7SUFDeEQ7SUFDQUMsZ0JBQWdCQyxhQUFhLEVBQUU7UUFDM0IsSUFBSUEsZUFBZTtZQUNmLE1BQU1DLGFBQWFyQix1RUFBY0EsQ0FBQ29CO1lBQ2xDLE1BQU1FLFdBQVdGLGNBQWNHLE9BQU87WUFDdEMsSUFBSUYsY0FBY0MsVUFBVTtnQkFDeEIsTUFBTUUsWUFBWUYsUUFBUSxDQUFDRCxXQUFXSSxPQUFPLENBQUM7Z0JBQzlDLElBQUl4Qiw0REFBV0EsQ0FBQ3VCLFlBQVk7b0JBQ3hCLE9BQU9BLFVBQVVFLEdBQUc7Z0JBQ3hCLE9BQ0ssSUFBSUMsTUFBTUMsT0FBTyxDQUFDSixZQUFZO29CQUMvQixLQUFLLE1BQU1FLE9BQU9GLFVBQVc7d0JBQ3pCLElBQUl2Qiw0REFBV0EsQ0FBQ3lCLFFBQVFBLElBQUlHLFFBQVEsSUFDN0JILElBQUlHLFFBQVEsQ0FBQ0MsTUFBTSxJQUFJVixjQUFjVSxNQUFNLElBQzNDSixJQUFJRyxRQUFRLENBQUNFLEdBQUcsSUFBSVgsY0FBY1csR0FBRyxFQUFFOzRCQUMxQyxPQUFPTCxJQUFJQSxHQUFHO3dCQUNsQjtvQkFDSjtnQkFDSjtZQUNKO1lBQ0EsSUFBSUosVUFBVTtnQkFDVixNQUFNVSxXQUFXLElBQUksQ0FBQ3RCLFlBQVksQ0FBQ3VCLFdBQVcsQ0FBQ1g7Z0JBQy9DLDZGQUE2RjtnQkFDN0YsSUFBSVUsWUFBYUEsQ0FBQUEsYUFBYVosaUJBQWlCakIsZ0VBQVdBLENBQUNpQixlQUFlWSxTQUFRLEdBQUk7b0JBQ2xGLE9BQU9WO2dCQUNYO1lBQ0o7UUFDSjtRQUNBLE9BQU9ZO0lBQ1g7SUFDQUMsb0JBQW9CZixhQUFhLEVBQUU7UUFDL0IsTUFBTUcsVUFBVSxJQUFJLENBQUNKLGVBQWUsQ0FBQ0M7UUFDckMsSUFBSUcsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFhLFFBQVEsRUFBRTtZQUNwRSxNQUFNQyxhQUFhLElBQUksQ0FBQzNCLFlBQVksQ0FBQ3VCLFdBQVcsQ0FBQ1Y7WUFDakQsT0FBT2MsZUFBZSxRQUFRQSxlQUFlLEtBQUssSUFBSUEsYUFBYWQsUUFBUWEsUUFBUTtRQUN2RjtRQUNBLE9BQU9GO0lBQ1g7SUFDQUksZUFBZUQsVUFBVSxFQUFFRSxPQUFPLEVBQUU7UUFDaEMsTUFBTUMsT0FBTyxFQUFFO1FBQ2YsSUFBSUQsUUFBUUUsa0JBQWtCLEVBQUU7WUFDNUIsTUFBTWYsTUFBTSxJQUFJLENBQUNnQixrQkFBa0IsQ0FBQ0w7WUFDcEMsSUFBSVgsS0FBSztnQkFDTGMsS0FBS0csSUFBSSxDQUFDakI7WUFDZDtRQUNKO1FBQ0EsSUFBSWtCLGtCQUFrQixJQUFJLENBQUMvQixLQUFLLENBQUNnQyxpQkFBaUIsQ0FBQ1IsWUFBWSxJQUFJLENBQUNwQixXQUFXLENBQUM2QixjQUFjLENBQUNUO1FBQy9GLElBQUlFLFFBQVFRLFdBQVcsRUFBRTtZQUNyQkgsa0JBQWtCQSxnQkFBZ0JJLE1BQU0sQ0FBQ3RCLENBQUFBLE1BQU9wQix5REFBUUEsQ0FBQzJDLE1BQU0sQ0FBQ3ZCLElBQUl3QixTQUFTLEVBQUVYLFFBQVFRLFdBQVc7UUFDdEc7UUFDQVAsS0FBS0csSUFBSSxJQUFJQztRQUNiLE9BQU92Qyx3REFBTUEsQ0FBQ21DO0lBQ2xCO0lBQ0FFLG1CQUFtQkwsVUFBVSxFQUFFO1FBQzNCLE1BQU1MLFdBQVcsSUFBSSxDQUFDdEIsWUFBWSxDQUFDdUIsV0FBVyxDQUFDSTtRQUMvQyxJQUFJTCxVQUFVO1lBQ1YsTUFBTW1CLE1BQU1qRCxnRUFBV0EsQ0FBQ21DO1lBQ3hCLE1BQU1lLE9BQU8sSUFBSSxDQUFDbkMsV0FBVyxDQUFDNkIsY0FBYyxDQUFDVDtZQUM3QyxPQUFPO2dCQUNIYSxXQUFXQyxJQUFJRSxHQUFHO2dCQUNsQkMsWUFBWUY7Z0JBQ1pHLFdBQVdKLElBQUlFLEdBQUc7Z0JBQ2xCRyxZQUFZSjtnQkFDWkssU0FBU3JELHNFQUFpQkEsQ0FBQzRCO2dCQUMzQjBCLE9BQU87WUFDWDtRQUNKO1FBQ0EsT0FBT3hCO0lBQ1g7QUFDSixFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3JlZmVyZW5jZXMvcmVmZXJlbmNlcy5qcz8wMzlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IGZpbmRBc3NpZ25tZW50IH0gZnJvbSAnLi4vdXRpbHMvZ3JhbW1hci11dGlscy5qcyc7XG5pbXBvcnQgeyBpc1JlZmVyZW5jZSB9IGZyb20gJy4uL3N5bnRheC10cmVlLmpzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IGlzQ2hpbGROb2RlLCB0b0RvY3VtZW50U2VnbWVudCB9IGZyb20gJy4uL3V0aWxzL2NzdC11dGlscy5qcyc7XG5pbXBvcnQgeyBzdHJlYW0gfSBmcm9tICcuLi91dGlscy9zdHJlYW0uanMnO1xuaW1wb3J0IHsgVXJpVXRpbHMgfSBmcm9tICcuLi91dGlscy91cmktdXRpbHMuanMnO1xuZXhwb3J0IGNsYXNzIERlZmF1bHRSZWZlcmVuY2VzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLm5hbWVQcm92aWRlciA9IHNlcnZpY2VzLnJlZmVyZW5jZXMuTmFtZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmluZGV4ID0gc2VydmljZXMuc2hhcmVkLndvcmtzcGFjZS5JbmRleE1hbmFnZXI7XG4gICAgICAgIHRoaXMubm9kZUxvY2F0b3IgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuQXN0Tm9kZUxvY2F0b3I7XG4gICAgfVxuICAgIGZpbmREZWNsYXJhdGlvbihzb3VyY2VDc3ROb2RlKSB7XG4gICAgICAgIGlmIChzb3VyY2VDc3ROb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBhc3NpZ25tZW50ID0gZmluZEFzc2lnbm1lbnQoc291cmNlQ3N0Tm9kZSk7XG4gICAgICAgICAgICBjb25zdCBub2RlRWxlbSA9IHNvdXJjZUNzdE5vZGUuYXN0Tm9kZTtcbiAgICAgICAgICAgIGlmIChhc3NpZ25tZW50ICYmIG5vZGVFbGVtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlID0gbm9kZUVsZW1bYXNzaWdubWVudC5mZWF0dXJlXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWZlcmVuY2UocmVmZXJlbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmZXJlbmNlLnJlZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZWZlcmVuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVmIG9mIHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmZXJlbmNlKHJlZikgJiYgcmVmLiRyZWZOb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVmLiRyZWZOb2RlLm9mZnNldCA8PSBzb3VyY2VDc3ROb2RlLm9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlZi4kcmVmTm9kZS5lbmQgPj0gc291cmNlQ3N0Tm9kZS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmLnJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlRWxlbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVOb2RlID0gdGhpcy5uYW1lUHJvdmlkZXIuZ2V0TmFtZU5vZGUobm9kZUVsZW0pO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgcmV0dXJuIHRoZSB0YXJnZXRlZCBub2RlIGluIGNhc2UgdGhlIHRhcmdldGVkIGNzdCBub2RlIGlzIHRoZSBuYW1lIG5vZGUgb3IgcGFydCBvZiBpdFxuICAgICAgICAgICAgICAgIGlmIChuYW1lTm9kZSAmJiAobmFtZU5vZGUgPT09IHNvdXJjZUNzdE5vZGUgfHwgaXNDaGlsZE5vZGUoc291cmNlQ3N0Tm9kZSwgbmFtZU5vZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZUVsZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZpbmREZWNsYXJhdGlvbk5vZGUoc291cmNlQ3N0Tm9kZSkge1xuICAgICAgICBjb25zdCBhc3ROb2RlID0gdGhpcy5maW5kRGVjbGFyYXRpb24oc291cmNlQ3N0Tm9kZSk7XG4gICAgICAgIGlmIChhc3ROb2RlID09PSBudWxsIHx8IGFzdE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFzdE5vZGUuJGNzdE5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0aGlzLm5hbWVQcm92aWRlci5nZXROYW1lTm9kZShhc3ROb2RlKTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXROb2RlICE9PSBudWxsICYmIHRhcmdldE5vZGUgIT09IHZvaWQgMCA/IHRhcmdldE5vZGUgOiBhc3ROb2RlLiRjc3ROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZpbmRSZWZlcmVuY2VzKHRhcmdldE5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVmcyA9IFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5pbmNsdWRlRGVjbGFyYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHRoaXMuZ2V0UmVmZXJlbmNlVG9TZWxmKHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleFJlZmVyZW5jZXMgPSB0aGlzLmluZGV4LmZpbmRBbGxSZWZlcmVuY2VzKHRhcmdldE5vZGUsIHRoaXMubm9kZUxvY2F0b3IuZ2V0QXN0Tm9kZVBhdGgodGFyZ2V0Tm9kZSkpO1xuICAgICAgICBpZiAob3B0aW9ucy5kb2N1bWVudFVyaSkge1xuICAgICAgICAgICAgaW5kZXhSZWZlcmVuY2VzID0gaW5kZXhSZWZlcmVuY2VzLmZpbHRlcihyZWYgPT4gVXJpVXRpbHMuZXF1YWxzKHJlZi5zb3VyY2VVcmksIG9wdGlvbnMuZG9jdW1lbnRVcmkpKTtcbiAgICAgICAgfVxuICAgICAgICByZWZzLnB1c2goLi4uaW5kZXhSZWZlcmVuY2VzKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbShyZWZzKTtcbiAgICB9XG4gICAgZ2V0UmVmZXJlbmNlVG9TZWxmKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgbmFtZU5vZGUgPSB0aGlzLm5hbWVQcm92aWRlci5nZXROYW1lTm9kZSh0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKG5hbWVOb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBkb2MgPSBnZXREb2N1bWVudCh0YXJnZXROb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLm5vZGVMb2NhdG9yLmdldEFzdE5vZGVQYXRoKHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VVcmk6IGRvYy51cmksXG4gICAgICAgICAgICAgICAgc291cmNlUGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICB0YXJnZXRVcmk6IGRvYy51cmksXG4gICAgICAgICAgICAgICAgdGFyZ2V0UGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICBzZWdtZW50OiB0b0RvY3VtZW50U2VnbWVudChuYW1lTm9kZSksXG4gICAgICAgICAgICAgICAgbG9jYWw6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZlcmVuY2VzLmpzLm1hcCJdLCJuYW1lcyI6WyJmaW5kQXNzaWdubWVudCIsImlzUmVmZXJlbmNlIiwiZ2V0RG9jdW1lbnQiLCJpc0NoaWxkTm9kZSIsInRvRG9jdW1lbnRTZWdtZW50Iiwic3RyZWFtIiwiVXJpVXRpbHMiLCJEZWZhdWx0UmVmZXJlbmNlcyIsImNvbnN0cnVjdG9yIiwic2VydmljZXMiLCJuYW1lUHJvdmlkZXIiLCJyZWZlcmVuY2VzIiwiTmFtZVByb3ZpZGVyIiwiaW5kZXgiLCJzaGFyZWQiLCJ3b3Jrc3BhY2UiLCJJbmRleE1hbmFnZXIiLCJub2RlTG9jYXRvciIsIkFzdE5vZGVMb2NhdG9yIiwiZmluZERlY2xhcmF0aW9uIiwic291cmNlQ3N0Tm9kZSIsImFzc2lnbm1lbnQiLCJub2RlRWxlbSIsImFzdE5vZGUiLCJyZWZlcmVuY2UiLCJmZWF0dXJlIiwicmVmIiwiQXJyYXkiLCJpc0FycmF5IiwiJHJlZk5vZGUiLCJvZmZzZXQiLCJlbmQiLCJuYW1lTm9kZSIsImdldE5hbWVOb2RlIiwidW5kZWZpbmVkIiwiZmluZERlY2xhcmF0aW9uTm9kZSIsIiRjc3ROb2RlIiwidGFyZ2V0Tm9kZSIsImZpbmRSZWZlcmVuY2VzIiwib3B0aW9ucyIsInJlZnMiLCJpbmNsdWRlRGVjbGFyYXRpb24iLCJnZXRSZWZlcmVuY2VUb1NlbGYiLCJwdXNoIiwiaW5kZXhSZWZlcmVuY2VzIiwiZmluZEFsbFJlZmVyZW5jZXMiLCJnZXRBc3ROb2RlUGF0aCIsImRvY3VtZW50VXJpIiwiZmlsdGVyIiwiZXF1YWxzIiwic291cmNlVXJpIiwiZG9jIiwicGF0aCIsInVyaSIsInNvdXJjZVBhdGgiLCJ0YXJnZXRVcmkiLCJ0YXJnZXRQYXRoIiwic2VnbWVudCIsImxvY2FsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/references/references.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/references/scope-computation.js":
/*!******************************************************************!*\
  !*** ./node_modules/langium/lib/references/scope-computation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultScopeComputation: () => (/* binding */ DefaultScopeComputation)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_collections_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/collections.js */ \"(ssr)/./node_modules/langium/lib/utils/collections.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/******************************************************************************\n * Copyright 2021-2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n/**\n * The default scope computation creates and collectes descriptions of the AST nodes to be exported into the\n * _global_ scope from the given document. By default those are the document's root AST node and its directly\n * contained child nodes.\n *\n * Besides, it gathers all AST nodes that have a name (according to the `NameProvider` service) and includes them\n * in the local scope of their particular container nodes. As a result, for every cross-reference in the AST,\n * target elements from the same level (siblings) and further up towards the root (parents and siblings of parents)\n * are visible. Elements being nested inside lower levels (children, children of siblings and parents' siblings)\n * are _invisible_ by default, but that can be changed by customizing this service.\n */ class DefaultScopeComputation {\n    constructor(services){\n        this.nameProvider = services.references.NameProvider;\n        this.descriptions = services.workspace.AstNodeDescriptionProvider;\n    }\n    async computeExports(document, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        return this.computeExportsForNode(document.parseResult.value, document, undefined, cancelToken);\n    }\n    /**\n     * Creates {@link AstNodeDescription AstNodeDescriptions} for the given {@link AstNode parentNode} and its children.\n     * The list of children to be considered is determined by the function parameter {@link children}.\n     * By default only the direct children of {@link parentNode} are visited, nested nodes are not exported.\n     *\n     * @param parentNode AST node to be exported, i.e., of which an {@link AstNodeDescription} shall be added to the returned list.\n     * @param document The document containing the AST node to be exported.\n     * @param children A function called with {@link parentNode} as single argument and returning an {@link Iterable} supplying the children to be visited, which must be directly or transitively contained in {@link parentNode}.\n     * @param cancelToken Indicates when to cancel the current operation.\n     * @throws `OperationCancelled` if a user action occurs during execution.\n     * @returns A list of {@link AstNodeDescription AstNodeDescriptions} to be published to index.\n     */ async computeExportsForNode(parentNode, document, children = _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamContents, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        const exports = [];\n        this.exportNode(parentNode, exports, document);\n        for (const node of children(parentNode)){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__.interruptAndCheck)(cancelToken);\n            this.exportNode(node, exports, document);\n        }\n        return exports;\n    }\n    /**\n     * Add a single node to the list of exports if it has a name. Override this method to change how\n     * symbols are exported, e.g. by modifying their exported name.\n     */ exportNode(node, exports, document) {\n        const name = this.nameProvider.getName(node);\n        if (name) {\n            exports.push(this.descriptions.createDescription(node, name, document));\n        }\n    }\n    async computeLocalScopes(document, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        const rootNode = document.parseResult.value;\n        const scopes = new _utils_collections_js__WEBPACK_IMPORTED_MODULE_3__.MultiMap();\n        // Here we navigate the full AST - local scopes shall be available in the whole document\n        for (const node of (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAllContents)(rootNode)){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__.interruptAndCheck)(cancelToken);\n            this.processNode(node, document, scopes);\n        }\n        return scopes;\n    }\n    /**\n     * Process a single node during scopes computation. The default implementation makes the node visible\n     * in the subtree of its container (if the node has a name). Override this method to change this,\n     * e.g. by increasing the visibility to a higher level in the AST.\n     */ processNode(node, document, scopes) {\n        const container = node.$container;\n        if (container) {\n            const name = this.nameProvider.getName(node);\n            if (name) {\n                scopes.add(container, this.descriptions.createDescription(node, name, document));\n            }\n        }\n    }\n} //# sourceMappingURL=scope-computation.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9zY29wZS1jb21wdXRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNqQjtBQUNhO0FBQ3ZCO0FBQ1c7QUFDOUQ7Ozs7Ozs7Ozs7Q0FVQyxHQUNNLE1BQU1LO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUNDLFlBQVksR0FBR0QsU0FBU0UsVUFBVSxDQUFDQyxZQUFZO1FBQ3BELElBQUksQ0FBQ0MsWUFBWSxHQUFHSixTQUFTSyxTQUFTLENBQUNDLDBCQUEwQjtJQUNyRTtJQUNBLE1BQU1DLGVBQWVDLFFBQVEsRUFBRUMsY0FBY2hCLHFFQUFpQkEsQ0FBQ2lCLElBQUksRUFBRTtRQUNqRSxPQUFPLElBQUksQ0FBQ0MscUJBQXFCLENBQUNILFNBQVNJLFdBQVcsQ0FBQ0MsS0FBSyxFQUFFTCxVQUFVTSxXQUFXTDtJQUN2RjtJQUNBOzs7Ozs7Ozs7OztLQVdDLEdBQ0QsTUFBTUUsc0JBQXNCSSxVQUFVLEVBQUVQLFFBQVEsRUFBRVEsV0FBV3JCLCtEQUFjLEVBQUVjLGNBQWNoQixxRUFBaUJBLENBQUNpQixJQUFJLEVBQUU7UUFDL0csTUFBTU8sVUFBVSxFQUFFO1FBQ2xCLElBQUksQ0FBQ0MsVUFBVSxDQUFDSCxZQUFZRSxTQUFTVDtRQUNyQyxLQUFLLE1BQU1XLFFBQVFILFNBQVNELFlBQWE7WUFDckMsTUFBTWxCLDBFQUFpQkEsQ0FBQ1k7WUFDeEIsSUFBSSxDQUFDUyxVQUFVLENBQUNDLE1BQU1GLFNBQVNUO1FBQ25DO1FBQ0EsT0FBT1M7SUFDWDtJQUNBOzs7S0FHQyxHQUNEQyxXQUFXQyxJQUFJLEVBQUVGLE9BQU8sRUFBRVQsUUFBUSxFQUFFO1FBQ2hDLE1BQU1ZLE9BQU8sSUFBSSxDQUFDbkIsWUFBWSxDQUFDb0IsT0FBTyxDQUFDRjtRQUN2QyxJQUFJQyxNQUFNO1lBQ05ILFFBQVFLLElBQUksQ0FBQyxJQUFJLENBQUNsQixZQUFZLENBQUNtQixpQkFBaUIsQ0FBQ0osTUFBTUMsTUFBTVo7UUFDakU7SUFDSjtJQUNBLE1BQU1nQixtQkFBbUJoQixRQUFRLEVBQUVDLGNBQWNoQixxRUFBaUJBLENBQUNpQixJQUFJLEVBQUU7UUFDckUsTUFBTWUsV0FBV2pCLFNBQVNJLFdBQVcsQ0FBQ0MsS0FBSztRQUMzQyxNQUFNYSxTQUFTLElBQUk5QiwyREFBUUE7UUFDM0Isd0ZBQXdGO1FBQ3hGLEtBQUssTUFBTXVCLFFBQVF6QixzRUFBaUJBLENBQUMrQixVQUFXO1lBQzVDLE1BQU01QiwwRUFBaUJBLENBQUNZO1lBQ3hCLElBQUksQ0FBQ2tCLFdBQVcsQ0FBQ1IsTUFBTVgsVUFBVWtCO1FBQ3JDO1FBQ0EsT0FBT0E7SUFDWDtJQUNBOzs7O0tBSUMsR0FDREMsWUFBWVIsSUFBSSxFQUFFWCxRQUFRLEVBQUVrQixNQUFNLEVBQUU7UUFDaEMsTUFBTUUsWUFBWVQsS0FBS1UsVUFBVTtRQUNqQyxJQUFJRCxXQUFXO1lBQ1gsTUFBTVIsT0FBTyxJQUFJLENBQUNuQixZQUFZLENBQUNvQixPQUFPLENBQUNGO1lBQ3ZDLElBQUlDLE1BQU07Z0JBQ05NLE9BQU9JLEdBQUcsQ0FBQ0YsV0FBVyxJQUFJLENBQUN4QixZQUFZLENBQUNtQixpQkFBaUIsQ0FBQ0osTUFBTUMsTUFBTVo7WUFDMUU7UUFDSjtJQUNKO0FBQ0osRUFDQSw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi9yZWZlcmVuY2VzL3Njb3BlLWNvbXB1dGF0aW9uLmpzPzMzYmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEtMjAyMiBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlbiB9IGZyb20gJy4uL3V0aWxzL2NhbmNlbGxhdGlvbi5qcyc7XG5pbXBvcnQgeyBzdHJlYW1BbGxDb250ZW50cywgc3RyZWFtQ29udGVudHMgfSBmcm9tICcuLi91dGlscy9hc3QtdXRpbHMuanMnO1xuaW1wb3J0IHsgTXVsdGlNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBpbnRlcnJ1cHRBbmRDaGVjayB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2UtdXRpbHMuanMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBzY29wZSBjb21wdXRhdGlvbiBjcmVhdGVzIGFuZCBjb2xsZWN0ZXMgZGVzY3JpcHRpb25zIG9mIHRoZSBBU1Qgbm9kZXMgdG8gYmUgZXhwb3J0ZWQgaW50byB0aGVcbiAqIF9nbG9iYWxfIHNjb3BlIGZyb20gdGhlIGdpdmVuIGRvY3VtZW50LiBCeSBkZWZhdWx0IHRob3NlIGFyZSB0aGUgZG9jdW1lbnQncyByb290IEFTVCBub2RlIGFuZCBpdHMgZGlyZWN0bHlcbiAqIGNvbnRhaW5lZCBjaGlsZCBub2Rlcy5cbiAqXG4gKiBCZXNpZGVzLCBpdCBnYXRoZXJzIGFsbCBBU1Qgbm9kZXMgdGhhdCBoYXZlIGEgbmFtZSAoYWNjb3JkaW5nIHRvIHRoZSBgTmFtZVByb3ZpZGVyYCBzZXJ2aWNlKSBhbmQgaW5jbHVkZXMgdGhlbVxuICogaW4gdGhlIGxvY2FsIHNjb3BlIG9mIHRoZWlyIHBhcnRpY3VsYXIgY29udGFpbmVyIG5vZGVzLiBBcyBhIHJlc3VsdCwgZm9yIGV2ZXJ5IGNyb3NzLXJlZmVyZW5jZSBpbiB0aGUgQVNULFxuICogdGFyZ2V0IGVsZW1lbnRzIGZyb20gdGhlIHNhbWUgbGV2ZWwgKHNpYmxpbmdzKSBhbmQgZnVydGhlciB1cCB0b3dhcmRzIHRoZSByb290IChwYXJlbnRzIGFuZCBzaWJsaW5ncyBvZiBwYXJlbnRzKVxuICogYXJlIHZpc2libGUuIEVsZW1lbnRzIGJlaW5nIG5lc3RlZCBpbnNpZGUgbG93ZXIgbGV2ZWxzIChjaGlsZHJlbiwgY2hpbGRyZW4gb2Ygc2libGluZ3MgYW5kIHBhcmVudHMnIHNpYmxpbmdzKVxuICogYXJlIF9pbnZpc2libGVfIGJ5IGRlZmF1bHQsIGJ1dCB0aGF0IGNhbiBiZSBjaGFuZ2VkIGJ5IGN1c3RvbWl6aW5nIHRoaXMgc2VydmljZS5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRTY29wZUNvbXB1dGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLm5hbWVQcm92aWRlciA9IHNlcnZpY2VzLnJlZmVyZW5jZXMuTmFtZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9ucyA9IHNlcnZpY2VzLndvcmtzcGFjZS5Bc3ROb2RlRGVzY3JpcHRpb25Qcm92aWRlcjtcbiAgICB9XG4gICAgYXN5bmMgY29tcHV0ZUV4cG9ydHMoZG9jdW1lbnQsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlRXhwb3J0c0Zvck5vZGUoZG9jdW1lbnQucGFyc2VSZXN1bHQudmFsdWUsIGRvY3VtZW50LCB1bmRlZmluZWQsIGNhbmNlbFRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB7QGxpbmsgQXN0Tm9kZURlc2NyaXB0aW9uIEFzdE5vZGVEZXNjcmlwdGlvbnN9IGZvciB0aGUgZ2l2ZW4ge0BsaW5rIEFzdE5vZGUgcGFyZW50Tm9kZX0gYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBUaGUgbGlzdCBvZiBjaGlsZHJlbiB0byBiZSBjb25zaWRlcmVkIGlzIGRldGVybWluZWQgYnkgdGhlIGZ1bmN0aW9uIHBhcmFtZXRlciB7QGxpbmsgY2hpbGRyZW59LlxuICAgICAqIEJ5IGRlZmF1bHQgb25seSB0aGUgZGlyZWN0IGNoaWxkcmVuIG9mIHtAbGluayBwYXJlbnROb2RlfSBhcmUgdmlzaXRlZCwgbmVzdGVkIG5vZGVzIGFyZSBub3QgZXhwb3J0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyZW50Tm9kZSBBU1Qgbm9kZSB0byBiZSBleHBvcnRlZCwgaS5lLiwgb2Ygd2hpY2ggYW4ge0BsaW5rIEFzdE5vZGVEZXNjcmlwdGlvbn0gc2hhbGwgYmUgYWRkZWQgdG8gdGhlIHJldHVybmVkIGxpc3QuXG4gICAgICogQHBhcmFtIGRvY3VtZW50IFRoZSBkb2N1bWVudCBjb250YWluaW5nIHRoZSBBU1Qgbm9kZSB0byBiZSBleHBvcnRlZC5cbiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gQSBmdW5jdGlvbiBjYWxsZWQgd2l0aCB7QGxpbmsgcGFyZW50Tm9kZX0gYXMgc2luZ2xlIGFyZ3VtZW50IGFuZCByZXR1cm5pbmcgYW4ge0BsaW5rIEl0ZXJhYmxlfSBzdXBwbHlpbmcgdGhlIGNoaWxkcmVuIHRvIGJlIHZpc2l0ZWQsIHdoaWNoIG11c3QgYmUgZGlyZWN0bHkgb3IgdHJhbnNpdGl2ZWx5IGNvbnRhaW5lZCBpbiB7QGxpbmsgcGFyZW50Tm9kZX0uXG4gICAgICogQHBhcmFtIGNhbmNlbFRva2VuIEluZGljYXRlcyB3aGVuIHRvIGNhbmNlbCB0aGUgY3VycmVudCBvcGVyYXRpb24uXG4gICAgICogQHRocm93cyBgT3BlcmF0aW9uQ2FuY2VsbGVkYCBpZiBhIHVzZXIgYWN0aW9uIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uLlxuICAgICAqIEByZXR1cm5zIEEgbGlzdCBvZiB7QGxpbmsgQXN0Tm9kZURlc2NyaXB0aW9uIEFzdE5vZGVEZXNjcmlwdGlvbnN9IHRvIGJlIHB1Ymxpc2hlZCB0byBpbmRleC5cbiAgICAgKi9cbiAgICBhc3luYyBjb21wdXRlRXhwb3J0c0Zvck5vZGUocGFyZW50Tm9kZSwgZG9jdW1lbnQsIGNoaWxkcmVuID0gc3RyZWFtQ29udGVudHMsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICBjb25zdCBleHBvcnRzID0gW107XG4gICAgICAgIHRoaXMuZXhwb3J0Tm9kZShwYXJlbnROb2RlLCBleHBvcnRzLCBkb2N1bWVudCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZHJlbihwYXJlbnROb2RlKSkge1xuICAgICAgICAgICAgYXdhaXQgaW50ZXJydXB0QW5kQ2hlY2soY2FuY2VsVG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5leHBvcnROb2RlKG5vZGUsIGV4cG9ydHMsIGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwb3J0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2luZ2xlIG5vZGUgdG8gdGhlIGxpc3Qgb2YgZXhwb3J0cyBpZiBpdCBoYXMgYSBuYW1lLiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgaG93XG4gICAgICogc3ltYm9scyBhcmUgZXhwb3J0ZWQsIGUuZy4gYnkgbW9kaWZ5aW5nIHRoZWlyIGV4cG9ydGVkIG5hbWUuXG4gICAgICovXG4gICAgZXhwb3J0Tm9kZShub2RlLCBleHBvcnRzLCBkb2N1bWVudCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5uYW1lUHJvdmlkZXIuZ2V0TmFtZShub2RlKTtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGV4cG9ydHMucHVzaCh0aGlzLmRlc2NyaXB0aW9ucy5jcmVhdGVEZXNjcmlwdGlvbihub2RlLCBuYW1lLCBkb2N1bWVudCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbXB1dGVMb2NhbFNjb3Blcyhkb2N1bWVudCwgY2FuY2VsVG9rZW4gPSBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lKSB7XG4gICAgICAgIGNvbnN0IHJvb3ROb2RlID0gZG9jdW1lbnQucGFyc2VSZXN1bHQudmFsdWU7XG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IG5ldyBNdWx0aU1hcCgpO1xuICAgICAgICAvLyBIZXJlIHdlIG5hdmlnYXRlIHRoZSBmdWxsIEFTVCAtIGxvY2FsIHNjb3BlcyBzaGFsbCBiZSBhdmFpbGFibGUgaW4gdGhlIHdob2xlIGRvY3VtZW50XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBzdHJlYW1BbGxDb250ZW50cyhyb290Tm9kZSkpIHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc05vZGUobm9kZSwgZG9jdW1lbnQsIHNjb3Blcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3BlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIHNpbmdsZSBub2RlIGR1cmluZyBzY29wZXMgY29tcHV0YXRpb24uIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG1ha2VzIHRoZSBub2RlIHZpc2libGVcbiAgICAgKiBpbiB0aGUgc3VidHJlZSBvZiBpdHMgY29udGFpbmVyIChpZiB0aGUgbm9kZSBoYXMgYSBuYW1lKS4gT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoaXMsXG4gICAgICogZS5nLiBieSBpbmNyZWFzaW5nIHRoZSB2aXNpYmlsaXR5IHRvIGEgaGlnaGVyIGxldmVsIGluIHRoZSBBU1QuXG4gICAgICovXG4gICAgcHJvY2Vzc05vZGUobm9kZSwgZG9jdW1lbnQsIHNjb3Blcykge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub2RlLiRjb250YWluZXI7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLm5hbWVQcm92aWRlci5nZXROYW1lKG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBzY29wZXMuYWRkKGNvbnRhaW5lciwgdGhpcy5kZXNjcmlwdGlvbnMuY3JlYXRlRGVzY3JpcHRpb24obm9kZSwgbmFtZSwgZG9jdW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjb3BlLWNvbXB1dGF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJDYW5jZWxsYXRpb25Ub2tlbiIsInN0cmVhbUFsbENvbnRlbnRzIiwic3RyZWFtQ29udGVudHMiLCJNdWx0aU1hcCIsImludGVycnVwdEFuZENoZWNrIiwiRGVmYXVsdFNjb3BlQ29tcHV0YXRpb24iLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwibmFtZVByb3ZpZGVyIiwicmVmZXJlbmNlcyIsIk5hbWVQcm92aWRlciIsImRlc2NyaXB0aW9ucyIsIndvcmtzcGFjZSIsIkFzdE5vZGVEZXNjcmlwdGlvblByb3ZpZGVyIiwiY29tcHV0ZUV4cG9ydHMiLCJkb2N1bWVudCIsImNhbmNlbFRva2VuIiwiTm9uZSIsImNvbXB1dGVFeHBvcnRzRm9yTm9kZSIsInBhcnNlUmVzdWx0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJwYXJlbnROb2RlIiwiY2hpbGRyZW4iLCJleHBvcnRzIiwiZXhwb3J0Tm9kZSIsIm5vZGUiLCJuYW1lIiwiZ2V0TmFtZSIsInB1c2giLCJjcmVhdGVEZXNjcmlwdGlvbiIsImNvbXB1dGVMb2NhbFNjb3BlcyIsInJvb3ROb2RlIiwic2NvcGVzIiwicHJvY2Vzc05vZGUiLCJjb250YWluZXIiLCIkY29udGFpbmVyIiwiYWRkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/references/scope-computation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/references/scope-provider.js":
/*!***************************************************************!*\
  !*** ./node_modules/langium/lib/references/scope-provider.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultScopeProvider: () => (/* binding */ DefaultScopeProvider)\n/* harmony export */ });\n/* harmony import */ var _scope_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scope.js */ \"(ssr)/./node_modules/langium/lib/references/scope.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _utils_caching_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/caching.js */ \"(ssr)/./node_modules/langium/lib/utils/caching.js\");\n/******************************************************************************\n * Copyright 2021-2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\nclass DefaultScopeProvider {\n    constructor(services){\n        this.reflection = services.shared.AstReflection;\n        this.nameProvider = services.references.NameProvider;\n        this.descriptions = services.workspace.AstNodeDescriptionProvider;\n        this.indexManager = services.shared.workspace.IndexManager;\n        this.globalScopeCache = new _utils_caching_js__WEBPACK_IMPORTED_MODULE_0__.WorkspaceCache(services.shared);\n    }\n    getScope(context) {\n        const scopes = [];\n        const referenceType = this.reflection.getReferenceType(context);\n        const precomputed = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.getDocument)(context.container).precomputedScopes;\n        if (precomputed) {\n            let currentNode = context.container;\n            do {\n                const allDescriptions = precomputed.get(currentNode);\n                if (allDescriptions.length > 0) {\n                    scopes.push((0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_2__.stream)(allDescriptions).filter((desc)=>this.reflection.isSubtype(desc.type, referenceType)));\n                }\n                currentNode = currentNode.$container;\n            }while (currentNode);\n        }\n        let result = this.getGlobalScope(referenceType, context);\n        for(let i = scopes.length - 1; i >= 0; i--){\n            result = this.createScope(scopes[i], result);\n        }\n        return result;\n    }\n    /**\n     * Create a scope for the given collection of AST node descriptions.\n     */ createScope(elements, outerScope, options) {\n        return new _scope_js__WEBPACK_IMPORTED_MODULE_3__.StreamScope((0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_2__.stream)(elements), outerScope, options);\n    }\n    /**\n     * Create a scope for the given collection of AST nodes, which need to be transformed into respective\n     * descriptions first. This is done using the `NameProvider` and `AstNodeDescriptionProvider` services.\n     */ createScopeForNodes(elements, outerScope, options) {\n        const s = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_2__.stream)(elements).map((e)=>{\n            const name = this.nameProvider.getName(e);\n            if (name) {\n                return this.descriptions.createDescription(e, name);\n            }\n            return undefined;\n        }).nonNullable();\n        return new _scope_js__WEBPACK_IMPORTED_MODULE_3__.StreamScope(s, outerScope, options);\n    }\n    /**\n     * Create a global scope filtered for the given reference type.\n     */ getGlobalScope(referenceType, _context) {\n        return this.globalScopeCache.get(referenceType, ()=>new _scope_js__WEBPACK_IMPORTED_MODULE_3__.MapScope(this.indexManager.allElements(referenceType)));\n    }\n} //# sourceMappingURL=scope-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9zY29wZS1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUMzQjtBQUNDO0FBQ1I7QUFDUztBQUM5QyxNQUFNSztJQUNUQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDQyxVQUFVLEdBQUdELFNBQVNFLE1BQU0sQ0FBQ0MsYUFBYTtRQUMvQyxJQUFJLENBQUNDLFlBQVksR0FBR0osU0FBU0ssVUFBVSxDQUFDQyxZQUFZO1FBQ3BELElBQUksQ0FBQ0MsWUFBWSxHQUFHUCxTQUFTUSxTQUFTLENBQUNDLDBCQUEwQjtRQUNqRSxJQUFJLENBQUNDLFlBQVksR0FBR1YsU0FBU0UsTUFBTSxDQUFDTSxTQUFTLENBQUNHLFlBQVk7UUFDMUQsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxJQUFJZiw2REFBY0EsQ0FBQ0csU0FBU0UsTUFBTTtJQUM5RDtJQUNBVyxTQUFTQyxPQUFPLEVBQUU7UUFDZCxNQUFNQyxTQUFTLEVBQUU7UUFDakIsTUFBTUMsZ0JBQWdCLElBQUksQ0FBQ2YsVUFBVSxDQUFDZ0IsZ0JBQWdCLENBQUNIO1FBQ3ZELE1BQU1JLGNBQWN2QixnRUFBV0EsQ0FBQ21CLFFBQVFLLFNBQVMsRUFBRUMsaUJBQWlCO1FBQ3BFLElBQUlGLGFBQWE7WUFDYixJQUFJRyxjQUFjUCxRQUFRSyxTQUFTO1lBQ25DLEdBQUc7Z0JBQ0MsTUFBTUcsa0JBQWtCSixZQUFZSyxHQUFHLENBQUNGO2dCQUN4QyxJQUFJQyxnQkFBZ0JFLE1BQU0sR0FBRyxHQUFHO29CQUM1QlQsT0FBT1UsSUFBSSxDQUFDN0Isd0RBQU1BLENBQUMwQixpQkFBaUJJLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUSxJQUFJLENBQUMxQixVQUFVLENBQUMyQixTQUFTLENBQUNELEtBQUtFLElBQUksRUFBRWI7Z0JBQzVGO2dCQUNBSyxjQUFjQSxZQUFZUyxVQUFVO1lBQ3hDLFFBQVNULGFBQWE7UUFDMUI7UUFDQSxJQUFJVSxTQUFTLElBQUksQ0FBQ0MsY0FBYyxDQUFDaEIsZUFBZUY7UUFDaEQsSUFBSyxJQUFJbUIsSUFBSWxCLE9BQU9TLE1BQU0sR0FBRyxHQUFHUyxLQUFLLEdBQUdBLElBQUs7WUFDekNGLFNBQVMsSUFBSSxDQUFDRyxXQUFXLENBQUNuQixNQUFNLENBQUNrQixFQUFFLEVBQUVGO1FBQ3pDO1FBQ0EsT0FBT0E7SUFDWDtJQUNBOztLQUVDLEdBQ0RHLFlBQVlDLFFBQVEsRUFBRUMsVUFBVSxFQUFFQyxPQUFPLEVBQUU7UUFDdkMsT0FBTyxJQUFJM0Msa0RBQVdBLENBQUNFLHdEQUFNQSxDQUFDdUMsV0FBV0MsWUFBWUM7SUFDekQ7SUFDQTs7O0tBR0MsR0FDREMsb0JBQW9CSCxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsT0FBTyxFQUFFO1FBQy9DLE1BQU1FLElBQUkzQyx3REFBTUEsQ0FBQ3VDLFVBQVVLLEdBQUcsQ0FBQ0MsQ0FBQUE7WUFDM0IsTUFBTUMsT0FBTyxJQUFJLENBQUN0QyxZQUFZLENBQUN1QyxPQUFPLENBQUNGO1lBQ3ZDLElBQUlDLE1BQU07Z0JBQ04sT0FBTyxJQUFJLENBQUNuQyxZQUFZLENBQUNxQyxpQkFBaUIsQ0FBQ0gsR0FBR0M7WUFDbEQ7WUFDQSxPQUFPRztRQUNYLEdBQUdDLFdBQVc7UUFDZCxPQUFPLElBQUlwRCxrREFBV0EsQ0FBQzZDLEdBQUdILFlBQVlDO0lBQzFDO0lBQ0E7O0tBRUMsR0FDREwsZUFBZWhCLGFBQWEsRUFBRStCLFFBQVEsRUFBRTtRQUNwQyxPQUFPLElBQUksQ0FBQ25DLGdCQUFnQixDQUFDVyxHQUFHLENBQUNQLGVBQWUsSUFBTSxJQUFJdkIsK0NBQVFBLENBQUMsSUFBSSxDQUFDaUIsWUFBWSxDQUFDc0MsV0FBVyxDQUFDaEM7SUFDckc7QUFDSixFQUNBLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3JlZmVyZW5jZXMvc2NvcGUtcHJvdmlkZXIuanM/ZmQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMS0yMDIyIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IE1hcFNjb3BlLCBTdHJlYW1TY29wZSB9IGZyb20gJy4vc2NvcGUuanMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlscy9hc3QtdXRpbHMuanMnO1xuaW1wb3J0IHsgc3RyZWFtIH0gZnJvbSAnLi4vdXRpbHMvc3RyZWFtLmpzJztcbmltcG9ydCB7IFdvcmtzcGFjZUNhY2hlIH0gZnJvbSAnLi4vdXRpbHMvY2FjaGluZy5qcyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdFNjb3BlUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbiA9IHNlcnZpY2VzLnNoYXJlZC5Bc3RSZWZsZWN0aW9uO1xuICAgICAgICB0aGlzLm5hbWVQcm92aWRlciA9IHNlcnZpY2VzLnJlZmVyZW5jZXMuTmFtZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9ucyA9IHNlcnZpY2VzLndvcmtzcGFjZS5Bc3ROb2RlRGVzY3JpcHRpb25Qcm92aWRlcjtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBzZXJ2aWNlcy5zaGFyZWQud29ya3NwYWNlLkluZGV4TWFuYWdlcjtcbiAgICAgICAgdGhpcy5nbG9iYWxTY29wZUNhY2hlID0gbmV3IFdvcmtzcGFjZUNhY2hlKHNlcnZpY2VzLnNoYXJlZCk7XG4gICAgfVxuICAgIGdldFNjb3BlKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gW107XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZVR5cGUgPSB0aGlzLnJlZmxlY3Rpb24uZ2V0UmVmZXJlbmNlVHlwZShjb250ZXh0KTtcbiAgICAgICAgY29uc3QgcHJlY29tcHV0ZWQgPSBnZXREb2N1bWVudChjb250ZXh0LmNvbnRhaW5lcikucHJlY29tcHV0ZWRTY29wZXM7XG4gICAgICAgIGlmIChwcmVjb21wdXRlZCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gY29udGV4dC5jb250YWluZXI7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsRGVzY3JpcHRpb25zID0gcHJlY29tcHV0ZWQuZ2V0KGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWxsRGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVzLnB1c2goc3RyZWFtKGFsbERlc2NyaXB0aW9ucykuZmlsdGVyKGRlc2MgPT4gdGhpcy5yZWZsZWN0aW9uLmlzU3VidHlwZShkZXNjLnR5cGUsIHJlZmVyZW5jZVR5cGUpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuJGNvbnRhaW5lcjtcbiAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5nZXRHbG9iYWxTY29wZShyZWZlcmVuY2VUeXBlLCBjb250ZXh0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNjb3Blcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jcmVhdGVTY29wZShzY29wZXNbaV0sIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2NvcGUgZm9yIHRoZSBnaXZlbiBjb2xsZWN0aW9uIG9mIEFTVCBub2RlIGRlc2NyaXB0aW9ucy5cbiAgICAgKi9cbiAgICBjcmVhdGVTY29wZShlbGVtZW50cywgb3V0ZXJTY29wZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbVNjb3BlKHN0cmVhbShlbGVtZW50cyksIG91dGVyU2NvcGUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzY29wZSBmb3IgdGhlIGdpdmVuIGNvbGxlY3Rpb24gb2YgQVNUIG5vZGVzLCB3aGljaCBuZWVkIHRvIGJlIHRyYW5zZm9ybWVkIGludG8gcmVzcGVjdGl2ZVxuICAgICAqIGRlc2NyaXB0aW9ucyBmaXJzdC4gVGhpcyBpcyBkb25lIHVzaW5nIHRoZSBgTmFtZVByb3ZpZGVyYCBhbmQgYEFzdE5vZGVEZXNjcmlwdGlvblByb3ZpZGVyYCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBjcmVhdGVTY29wZUZvck5vZGVzKGVsZW1lbnRzLCBvdXRlclNjb3BlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHMgPSBzdHJlYW0oZWxlbWVudHMpLm1hcChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLm5hbWVQcm92aWRlci5nZXROYW1lKGUpO1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbnMuY3JlYXRlRGVzY3JpcHRpb24oZSwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KS5ub25OdWxsYWJsZSgpO1xuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbVNjb3BlKHMsIG91dGVyU2NvcGUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBnbG9iYWwgc2NvcGUgZmlsdGVyZWQgZm9yIHRoZSBnaXZlbiByZWZlcmVuY2UgdHlwZS5cbiAgICAgKi9cbiAgICBnZXRHbG9iYWxTY29wZShyZWZlcmVuY2VUeXBlLCBfY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxTY29wZUNhY2hlLmdldChyZWZlcmVuY2VUeXBlLCAoKSA9PiBuZXcgTWFwU2NvcGUodGhpcy5pbmRleE1hbmFnZXIuYWxsRWxlbWVudHMocmVmZXJlbmNlVHlwZSkpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY29wZS1wcm92aWRlci5qcy5tYXAiXSwibmFtZXMiOlsiTWFwU2NvcGUiLCJTdHJlYW1TY29wZSIsImdldERvY3VtZW50Iiwic3RyZWFtIiwiV29ya3NwYWNlQ2FjaGUiLCJEZWZhdWx0U2NvcGVQcm92aWRlciIsImNvbnN0cnVjdG9yIiwic2VydmljZXMiLCJyZWZsZWN0aW9uIiwic2hhcmVkIiwiQXN0UmVmbGVjdGlvbiIsIm5hbWVQcm92aWRlciIsInJlZmVyZW5jZXMiLCJOYW1lUHJvdmlkZXIiLCJkZXNjcmlwdGlvbnMiLCJ3b3Jrc3BhY2UiLCJBc3ROb2RlRGVzY3JpcHRpb25Qcm92aWRlciIsImluZGV4TWFuYWdlciIsIkluZGV4TWFuYWdlciIsImdsb2JhbFNjb3BlQ2FjaGUiLCJnZXRTY29wZSIsImNvbnRleHQiLCJzY29wZXMiLCJyZWZlcmVuY2VUeXBlIiwiZ2V0UmVmZXJlbmNlVHlwZSIsInByZWNvbXB1dGVkIiwiY29udGFpbmVyIiwicHJlY29tcHV0ZWRTY29wZXMiLCJjdXJyZW50Tm9kZSIsImFsbERlc2NyaXB0aW9ucyIsImdldCIsImxlbmd0aCIsInB1c2giLCJmaWx0ZXIiLCJkZXNjIiwiaXNTdWJ0eXBlIiwidHlwZSIsIiRjb250YWluZXIiLCJyZXN1bHQiLCJnZXRHbG9iYWxTY29wZSIsImkiLCJjcmVhdGVTY29wZSIsImVsZW1lbnRzIiwib3V0ZXJTY29wZSIsIm9wdGlvbnMiLCJjcmVhdGVTY29wZUZvck5vZGVzIiwicyIsIm1hcCIsImUiLCJuYW1lIiwiZ2V0TmFtZSIsImNyZWF0ZURlc2NyaXB0aW9uIiwidW5kZWZpbmVkIiwibm9uTnVsbGFibGUiLCJfY29udGV4dCIsImFsbEVsZW1lbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/references/scope-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/references/scope.js":
/*!******************************************************!*\
  !*** ./node_modules/langium/lib/references/scope.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EMPTY_SCOPE: () => (/* binding */ EMPTY_SCOPE),\n/* harmony export */   MapScope: () => (/* binding */ MapScope),\n/* harmony export */   StreamScope: () => (/* binding */ StreamScope)\n/* harmony export */ });\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n/**\n * The default scope implementation is based on a `Stream`. It has an optional _outer scope_ describing\n * the next level of elements, which are queried when a target element is not found in the stream provided\n * to this scope.\n */ class StreamScope {\n    constructor(elements, outerScope, options){\n        var _a;\n        this.elements = elements;\n        this.outerScope = outerScope;\n        this.caseInsensitive = (_a = options === null || options === void 0 ? void 0 : options.caseInsensitive) !== null && _a !== void 0 ? _a : false;\n    }\n    getAllElements() {\n        if (this.outerScope) {\n            return this.elements.concat(this.outerScope.getAllElements());\n        } else {\n            return this.elements;\n        }\n    }\n    getElement(name) {\n        const local = this.caseInsensitive ? this.elements.find((e)=>e.name.toLowerCase() === name.toLowerCase()) : this.elements.find((e)=>e.name === name);\n        if (local) {\n            return local;\n        }\n        if (this.outerScope) {\n            return this.outerScope.getElement(name);\n        }\n        return undefined;\n    }\n}\nclass MapScope {\n    constructor(elements, outerScope, options){\n        var _a;\n        this.elements = new Map();\n        this.caseInsensitive = (_a = options === null || options === void 0 ? void 0 : options.caseInsensitive) !== null && _a !== void 0 ? _a : false;\n        for (const element of elements){\n            const name = this.caseInsensitive ? element.name.toLowerCase() : element.name;\n            this.elements.set(name, element);\n        }\n        this.outerScope = outerScope;\n    }\n    getElement(name) {\n        const localName = this.caseInsensitive ? name.toLowerCase() : name;\n        const local = this.elements.get(localName);\n        if (local) {\n            return local;\n        }\n        if (this.outerScope) {\n            return this.outerScope.getElement(name);\n        }\n        return undefined;\n    }\n    getAllElements() {\n        let elementStream = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_0__.stream)(this.elements.values());\n        if (this.outerScope) {\n            elementStream = elementStream.concat(this.outerScope.getAllElements());\n        }\n        return elementStream;\n    }\n}\nconst EMPTY_SCOPE = {\n    getElement () {\n        return undefined;\n    },\n    getAllElements () {\n        return _utils_stream_js__WEBPACK_IMPORTED_MODULE_0__.EMPTY_STREAM;\n    }\n}; //# sourceMappingURL=scope.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvcmVmZXJlbmNlcy9zY29wZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ3BCO0FBQzFEOzs7O0NBSUMsR0FDTSxNQUFNRTtJQUNUQyxZQUFZQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsT0FBTyxDQUFFO1FBQ3ZDLElBQUlDO1FBQ0osSUFBSSxDQUFDSCxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0MsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNHLGVBQWUsR0FBRyxDQUFDRCxLQUFLRCxZQUFZLFFBQVFBLFlBQVksS0FBSyxJQUFJLEtBQUssSUFBSUEsUUFBUUUsZUFBZSxNQUFNLFFBQVFELE9BQU8sS0FBSyxJQUFJQSxLQUFLO0lBQzdJO0lBQ0FFLGlCQUFpQjtRQUNiLElBQUksSUFBSSxDQUFDSixVQUFVLEVBQUU7WUFDakIsT0FBTyxJQUFJLENBQUNELFFBQVEsQ0FBQ00sTUFBTSxDQUFDLElBQUksQ0FBQ0wsVUFBVSxDQUFDSSxjQUFjO1FBQzlELE9BQ0s7WUFDRCxPQUFPLElBQUksQ0FBQ0wsUUFBUTtRQUN4QjtJQUNKO0lBQ0FPLFdBQVdDLElBQUksRUFBRTtRQUNiLE1BQU1DLFFBQVEsSUFBSSxDQUFDTCxlQUFlLEdBQzVCLElBQUksQ0FBQ0osUUFBUSxDQUFDVSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVILElBQUksQ0FBQ0ksV0FBVyxPQUFPSixLQUFLSSxXQUFXLE1BQ2pFLElBQUksQ0FBQ1osUUFBUSxDQUFDVSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVILElBQUksS0FBS0E7UUFDekMsSUFBSUMsT0FBTztZQUNQLE9BQU9BO1FBQ1g7UUFDQSxJQUFJLElBQUksQ0FBQ1IsVUFBVSxFQUFFO1lBQ2pCLE9BQU8sSUFBSSxDQUFDQSxVQUFVLENBQUNNLFVBQVUsQ0FBQ0M7UUFDdEM7UUFDQSxPQUFPSztJQUNYO0FBQ0o7QUFDTyxNQUFNQztJQUNUZixZQUFZQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsT0FBTyxDQUFFO1FBQ3ZDLElBQUlDO1FBQ0osSUFBSSxDQUFDSCxRQUFRLEdBQUcsSUFBSWU7UUFDcEIsSUFBSSxDQUFDWCxlQUFlLEdBQUcsQ0FBQ0QsS0FBS0QsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFFLGVBQWUsTUFBTSxRQUFRRCxPQUFPLEtBQUssSUFBSUEsS0FBSztRQUN6SSxLQUFLLE1BQU1hLFdBQVdoQixTQUFVO1lBQzVCLE1BQU1RLE9BQU8sSUFBSSxDQUFDSixlQUFlLEdBQzNCWSxRQUFRUixJQUFJLENBQUNJLFdBQVcsS0FDeEJJLFFBQVFSLElBQUk7WUFDbEIsSUFBSSxDQUFDUixRQUFRLENBQUNpQixHQUFHLENBQUNULE1BQU1RO1FBQzVCO1FBQ0EsSUFBSSxDQUFDZixVQUFVLEdBQUdBO0lBQ3RCO0lBQ0FNLFdBQVdDLElBQUksRUFBRTtRQUNiLE1BQU1VLFlBQVksSUFBSSxDQUFDZCxlQUFlLEdBQUdJLEtBQUtJLFdBQVcsS0FBS0o7UUFDOUQsTUFBTUMsUUFBUSxJQUFJLENBQUNULFFBQVEsQ0FBQ21CLEdBQUcsQ0FBQ0Q7UUFDaEMsSUFBSVQsT0FBTztZQUNQLE9BQU9BO1FBQ1g7UUFDQSxJQUFJLElBQUksQ0FBQ1IsVUFBVSxFQUFFO1lBQ2pCLE9BQU8sSUFBSSxDQUFDQSxVQUFVLENBQUNNLFVBQVUsQ0FBQ0M7UUFDdEM7UUFDQSxPQUFPSztJQUNYO0lBQ0FSLGlCQUFpQjtRQUNiLElBQUllLGdCQUFnQnZCLHdEQUFNQSxDQUFDLElBQUksQ0FBQ0csUUFBUSxDQUFDcUIsTUFBTTtRQUMvQyxJQUFJLElBQUksQ0FBQ3BCLFVBQVUsRUFBRTtZQUNqQm1CLGdCQUFnQkEsY0FBY2QsTUFBTSxDQUFDLElBQUksQ0FBQ0wsVUFBVSxDQUFDSSxjQUFjO1FBQ3ZFO1FBQ0EsT0FBT2U7SUFDWDtBQUNKO0FBQ08sTUFBTUUsY0FBYztJQUN2QmY7UUFDSSxPQUFPTTtJQUNYO0lBQ0FSO1FBQ0ksT0FBT1QsMERBQVlBO0lBQ3ZCO0FBQ0osRUFBRSxDQUNGLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3JlZmVyZW5jZXMvc2NvcGUuanM/MTkwYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMyBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBFTVBUWV9TVFJFQU0sIHN0cmVhbSB9IGZyb20gJy4uL3V0aWxzL3N0cmVhbS5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IHNjb3BlIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIG9uIGEgYFN0cmVhbWAuIEl0IGhhcyBhbiBvcHRpb25hbCBfb3V0ZXIgc2NvcGVfIGRlc2NyaWJpbmdcbiAqIHRoZSBuZXh0IGxldmVsIG9mIGVsZW1lbnRzLCB3aGljaCBhcmUgcXVlcmllZCB3aGVuIGEgdGFyZ2V0IGVsZW1lbnQgaXMgbm90IGZvdW5kIGluIHRoZSBzdHJlYW0gcHJvdmlkZWRcbiAqIHRvIHRoaXMgc2NvcGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1TY29wZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudHMsIG91dGVyU2NvcGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gICAgICAgIHRoaXMub3V0ZXJTY29wZSA9IG91dGVyU2NvcGU7XG4gICAgICAgIHRoaXMuY2FzZUluc2Vuc2l0aXZlID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhc2VJbnNlbnNpdGl2ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgfVxuICAgIGdldEFsbEVsZW1lbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5vdXRlclNjb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5jb25jYXQodGhpcy5vdXRlclNjb3BlLmdldEFsbEVsZW1lbnRzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RWxlbWVudChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsID0gdGhpcy5jYXNlSW5zZW5zaXRpdmVcbiAgICAgICAgICAgID8gdGhpcy5lbGVtZW50cy5maW5kKGUgPT4gZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIDogdGhpcy5lbGVtZW50cy5maW5kKGUgPT4gZS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgaWYgKGxvY2FsKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0ZXJTY29wZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0ZXJTY29wZS5nZXRFbGVtZW50KG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1hcFNjb3BlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cywgb3V0ZXJTY29wZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2FzZUluc2Vuc2l0aXZlID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhc2VJbnNlbnNpdGl2ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuY2FzZUluc2Vuc2l0aXZlXG4gICAgICAgICAgICAgICAgPyBlbGVtZW50Lm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIDogZWxlbWVudC5uYW1lO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5zZXQobmFtZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRlclNjb3BlID0gb3V0ZXJTY29wZTtcbiAgICB9XG4gICAgZ2V0RWxlbWVudChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsTmFtZSA9IHRoaXMuY2FzZUluc2Vuc2l0aXZlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogbmFtZTtcbiAgICAgICAgY29uc3QgbG9jYWwgPSB0aGlzLmVsZW1lbnRzLmdldChsb2NhbE5hbWUpO1xuICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vdXRlclNjb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRlclNjb3BlLmdldEVsZW1lbnQobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0QWxsRWxlbWVudHMoKSB7XG4gICAgICAgIGxldCBlbGVtZW50U3RyZWFtID0gc3RyZWFtKHRoaXMuZWxlbWVudHMudmFsdWVzKCkpO1xuICAgICAgICBpZiAodGhpcy5vdXRlclNjb3BlKSB7XG4gICAgICAgICAgICBlbGVtZW50U3RyZWFtID0gZWxlbWVudFN0cmVhbS5jb25jYXQodGhpcy5vdXRlclNjb3BlLmdldEFsbEVsZW1lbnRzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50U3RyZWFtO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFTVBUWV9TQ09QRSA9IHtcbiAgICBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0QWxsRWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiBFTVBUWV9TVFJFQU07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjb3BlLmpzLm1hcCJdLCJuYW1lcyI6WyJFTVBUWV9TVFJFQU0iLCJzdHJlYW0iLCJTdHJlYW1TY29wZSIsImNvbnN0cnVjdG9yIiwiZWxlbWVudHMiLCJvdXRlclNjb3BlIiwib3B0aW9ucyIsIl9hIiwiY2FzZUluc2Vuc2l0aXZlIiwiZ2V0QWxsRWxlbWVudHMiLCJjb25jYXQiLCJnZXRFbGVtZW50IiwibmFtZSIsImxvY2FsIiwiZmluZCIsImUiLCJ0b0xvd2VyQ2FzZSIsInVuZGVmaW5lZCIsIk1hcFNjb3BlIiwiTWFwIiwiZWxlbWVudCIsInNldCIsImxvY2FsTmFtZSIsImdldCIsImVsZW1lbnRTdHJlYW0iLCJ2YWx1ZXMiLCJFTVBUWV9TQ09QRSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/references/scope.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/serializer/hydrator.js":
/*!*********************************************************!*\
  !*** ./node_modules/langium/lib/serializer/hydrator.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultHydrator: () => (/* binding */ DefaultHydrator)\n/* harmony export */ });\n/* harmony import */ var _parser_cst_node_builder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../parser/cst-node-builder.js */ \"(ssr)/./node_modules/langium/lib/parser/cst-node-builder.js\");\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/collections.js */ \"(ssr)/./node_modules/langium/lib/utils/collections.js\");\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/******************************************************************************\n * Copyright 2024 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\nclass DefaultHydrator {\n    constructor(services){\n        this.grammarElementIdMap = new _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__.BiMap();\n        this.tokenTypeIdMap = new _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__.BiMap();\n        this.grammar = services.Grammar;\n        this.lexer = services.parser.Lexer;\n        this.linker = services.references.Linker;\n    }\n    dehydrate(result) {\n        return {\n            lexerErrors: result.lexerErrors,\n            lexerReport: result.lexerReport ? this.dehydrateLexerReport(result.lexerReport) : undefined,\n            // We need to create shallow copies of the errors\n            // The original errors inherit from the `Error` class, which is not transferable across worker threads\n            parserErrors: result.parserErrors.map((e)=>Object.assign(Object.assign({}, e), {\n                    message: e.message\n                })),\n            value: this.dehydrateAstNode(result.value, this.createDehyrationContext(result.value))\n        };\n    }\n    dehydrateLexerReport(lexerReport) {\n        // By default, lexer reports are serializable\n        return lexerReport;\n    }\n    createDehyrationContext(node) {\n        const astNodes = new Map();\n        const cstNodes = new Map();\n        for (const astNode of (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAst)(node)){\n            astNodes.set(astNode, {});\n        }\n        if (node.$cstNode) {\n            for (const cstNode of (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__.streamCst)(node.$cstNode)){\n                cstNodes.set(cstNode, {});\n            }\n        }\n        return {\n            astNodes,\n            cstNodes\n        };\n    }\n    dehydrateAstNode(node, context) {\n        const obj = context.astNodes.get(node);\n        obj.$type = node.$type;\n        obj.$containerIndex = node.$containerIndex;\n        obj.$containerProperty = node.$containerProperty;\n        if (node.$cstNode !== undefined) {\n            obj.$cstNode = this.dehydrateCstNode(node.$cstNode, context);\n        }\n        for (const [name, value] of Object.entries(node)){\n            if (name.startsWith(\"$\")) {\n                continue;\n            }\n            if (Array.isArray(value)) {\n                const arr = [];\n                obj[name] = arr;\n                for (const item of value){\n                    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNode)(item)) {\n                        arr.push(this.dehydrateAstNode(item, context));\n                    } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isReference)(item)) {\n                        arr.push(this.dehydrateReference(item, context));\n                    } else {\n                        arr.push(item);\n                    }\n                }\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNode)(value)) {\n                obj[name] = this.dehydrateAstNode(value, context);\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isReference)(value)) {\n                obj[name] = this.dehydrateReference(value, context);\n            } else if (value !== undefined) {\n                obj[name] = value;\n            }\n        }\n        return obj;\n    }\n    dehydrateReference(reference, context) {\n        const obj = {};\n        obj.$refText = reference.$refText;\n        if (reference.$refNode) {\n            obj.$refNode = context.cstNodes.get(reference.$refNode);\n        }\n        return obj;\n    }\n    dehydrateCstNode(node, context) {\n        const cstNode = context.cstNodes.get(node);\n        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isRootCstNode)(node)) {\n            cstNode.fullText = node.fullText;\n        } else {\n            // Note: This returns undefined for hidden nodes (i.e. comments)\n            cstNode.grammarSource = this.getGrammarElementId(node.grammarSource);\n        }\n        cstNode.hidden = node.hidden;\n        cstNode.astNode = context.astNodes.get(node.astNode);\n        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isCompositeCstNode)(node)) {\n            cstNode.content = node.content.map((child)=>this.dehydrateCstNode(child, context));\n        } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isLeafCstNode)(node)) {\n            cstNode.tokenType = node.tokenType.name;\n            cstNode.offset = node.offset;\n            cstNode.length = node.length;\n            cstNode.startLine = node.range.start.line;\n            cstNode.startColumn = node.range.start.character;\n            cstNode.endLine = node.range.end.line;\n            cstNode.endColumn = node.range.end.character;\n        }\n        return cstNode;\n    }\n    hydrate(result) {\n        const node = result.value;\n        const context = this.createHydrationContext(node);\n        if (\"$cstNode\" in node) {\n            this.hydrateCstNode(node.$cstNode, context);\n        }\n        return {\n            lexerErrors: result.lexerErrors,\n            lexerReport: result.lexerReport,\n            parserErrors: result.parserErrors,\n            value: this.hydrateAstNode(node, context)\n        };\n    }\n    createHydrationContext(node) {\n        const astNodes = new Map();\n        const cstNodes = new Map();\n        for (const astNode of (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAst)(node)){\n            astNodes.set(astNode, {});\n        }\n        let root;\n        if (node.$cstNode) {\n            for (const cstNode of (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__.streamCst)(node.$cstNode)){\n                let cst;\n                if (\"fullText\" in cstNode) {\n                    cst = new _parser_cst_node_builder_js__WEBPACK_IMPORTED_MODULE_4__.RootCstNodeImpl(cstNode.fullText);\n                    root = cst;\n                } else if (\"content\" in cstNode) {\n                    cst = new _parser_cst_node_builder_js__WEBPACK_IMPORTED_MODULE_4__.CompositeCstNodeImpl();\n                } else if (\"tokenType\" in cstNode) {\n                    cst = this.hydrateCstLeafNode(cstNode);\n                }\n                if (cst) {\n                    cstNodes.set(cstNode, cst);\n                    cst.root = root;\n                }\n            }\n        }\n        return {\n            astNodes,\n            cstNodes\n        };\n    }\n    hydrateAstNode(node, context) {\n        const astNode = context.astNodes.get(node);\n        astNode.$type = node.$type;\n        astNode.$containerIndex = node.$containerIndex;\n        astNode.$containerProperty = node.$containerProperty;\n        if (node.$cstNode) {\n            astNode.$cstNode = context.cstNodes.get(node.$cstNode);\n        }\n        for (const [name, value] of Object.entries(node)){\n            if (name.startsWith(\"$\")) {\n                continue;\n            }\n            if (Array.isArray(value)) {\n                const arr = [];\n                astNode[name] = arr;\n                for (const item of value){\n                    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNode)(item)) {\n                        arr.push(this.setParent(this.hydrateAstNode(item, context), astNode));\n                    } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isReference)(item)) {\n                        arr.push(this.hydrateReference(item, astNode, name, context));\n                    } else {\n                        arr.push(item);\n                    }\n                }\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isAstNode)(value)) {\n                astNode[name] = this.setParent(this.hydrateAstNode(value, context), astNode);\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isReference)(value)) {\n                astNode[name] = this.hydrateReference(value, astNode, name, context);\n            } else if (value !== undefined) {\n                astNode[name] = value;\n            }\n        }\n        return astNode;\n    }\n    setParent(node, parent) {\n        node.$container = parent;\n        return node;\n    }\n    hydrateReference(reference, node, name, context) {\n        return this.linker.buildReference(node, name, context.cstNodes.get(reference.$refNode), reference.$refText);\n    }\n    hydrateCstNode(cstNode, context, num = 0) {\n        const cstNodeObj = context.cstNodes.get(cstNode);\n        if (typeof cstNode.grammarSource === \"number\") {\n            cstNodeObj.grammarSource = this.getGrammarElement(cstNode.grammarSource);\n        }\n        cstNodeObj.astNode = context.astNodes.get(cstNode.astNode);\n        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isCompositeCstNode)(cstNodeObj)) {\n            for (const child of cstNode.content){\n                const hydrated = this.hydrateCstNode(child, context, num++);\n                cstNodeObj.content.push(hydrated);\n            }\n        }\n        return cstNodeObj;\n    }\n    hydrateCstLeafNode(cstNode) {\n        const tokenType = this.getTokenType(cstNode.tokenType);\n        const offset = cstNode.offset;\n        const length = cstNode.length;\n        const startLine = cstNode.startLine;\n        const startColumn = cstNode.startColumn;\n        const endLine = cstNode.endLine;\n        const endColumn = cstNode.endColumn;\n        const hidden = cstNode.hidden;\n        const node = new _parser_cst_node_builder_js__WEBPACK_IMPORTED_MODULE_4__.LeafCstNodeImpl(offset, length, {\n            start: {\n                line: startLine,\n                character: startColumn\n            },\n            end: {\n                line: endLine,\n                character: endColumn\n            }\n        }, tokenType, hidden);\n        return node;\n    }\n    getTokenType(name) {\n        return this.lexer.definition[name];\n    }\n    getGrammarElementId(node) {\n        if (!node) {\n            return undefined;\n        }\n        if (this.grammarElementIdMap.size === 0) {\n            this.createGrammarElementIdMap();\n        }\n        return this.grammarElementIdMap.get(node);\n    }\n    getGrammarElement(id) {\n        if (this.grammarElementIdMap.size === 0) {\n            this.createGrammarElementIdMap();\n        }\n        const element = this.grammarElementIdMap.getKey(id);\n        return element;\n    }\n    createGrammarElementIdMap() {\n        let id = 0;\n        for (const element of (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAst)(this.grammar)){\n            if ((0,_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_5__.isAbstractElement)(element)) {\n                this.grammarElementIdMap.set(element, id++);\n            }\n        }\n    }\n} //# sourceMappingURL=hydrator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc2VyaWFsaXplci9oeWRyYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ3lCO0FBQ3JDO0FBQzJDO0FBQzNEO0FBQ0Y7QUFDRTtBQUMzQyxNQUFNWTtJQUNUQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxJQUFJTCx3REFBS0E7UUFDcEMsSUFBSSxDQUFDTSxjQUFjLEdBQUcsSUFBSU4sd0RBQUtBO1FBQy9CLElBQUksQ0FBQ08sT0FBTyxHQUFHSCxTQUFTSSxPQUFPO1FBQy9CLElBQUksQ0FBQ0MsS0FBSyxHQUFHTCxTQUFTTSxNQUFNLENBQUNDLEtBQUs7UUFDbEMsSUFBSSxDQUFDQyxNQUFNLEdBQUdSLFNBQVNTLFVBQVUsQ0FBQ0MsTUFBTTtJQUM1QztJQUNBQyxVQUFVQyxNQUFNLEVBQUU7UUFDZCxPQUFPO1lBQ0hDLGFBQWFELE9BQU9DLFdBQVc7WUFDL0JDLGFBQWFGLE9BQU9FLFdBQVcsR0FBRyxJQUFJLENBQUNDLG9CQUFvQixDQUFDSCxPQUFPRSxXQUFXLElBQUlFO1lBQ2xGLGlEQUFpRDtZQUNqRCxzR0FBc0c7WUFDdEdDLGNBQWNMLE9BQU9LLFlBQVksQ0FBQ0MsR0FBRyxDQUFDQyxDQUFBQSxJQUFNQyxPQUFPQyxNQUFNLENBQUNELE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdGLElBQUk7b0JBQUVHLFNBQVNILEVBQUVHLE9BQU87Z0JBQUM7WUFDckdDLE9BQU8sSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ1osT0FBT1csS0FBSyxFQUFFLElBQUksQ0FBQ0UsdUJBQXVCLENBQUNiLE9BQU9XLEtBQUs7UUFDeEY7SUFDSjtJQUNBUixxQkFBcUJELFdBQVcsRUFBRTtRQUM5Qiw2Q0FBNkM7UUFDN0MsT0FBT0E7SUFDWDtJQUNBVyx3QkFBd0JDLElBQUksRUFBRTtRQUMxQixNQUFNQyxXQUFXLElBQUlDO1FBQ3JCLE1B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dGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc2VyaWFsaXplci9oeWRyYXRvci5qcz9mYjc1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDI0IFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IENvbXBvc2l0ZUNzdE5vZGVJbXBsLCBMZWFmQ3N0Tm9kZUltcGwsIFJvb3RDc3ROb2RlSW1wbCB9IGZyb20gJy4uL3BhcnNlci9jc3Qtbm9kZS1idWlsZGVyLmpzJztcbmltcG9ydCB7IGlzQWJzdHJhY3RFbGVtZW50IH0gZnJvbSAnLi4vbGFuZ3VhZ2VzL2dlbmVyYXRlZC9hc3QuanMnO1xuaW1wb3J0IHsgaXNSb290Q3N0Tm9kZSwgaXNDb21wb3NpdGVDc3ROb2RlLCBpc0xlYWZDc3ROb2RlLCBpc0FzdE5vZGUsIGlzUmVmZXJlbmNlIH0gZnJvbSAnLi4vc3ludGF4LXRyZWUuanMnO1xuaW1wb3J0IHsgc3RyZWFtQXN0IH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IEJpTWFwIH0gZnJvbSAnLi4vdXRpbHMvY29sbGVjdGlvbnMuanMnO1xuaW1wb3J0IHsgc3RyZWFtQ3N0IH0gZnJvbSAnLi4vdXRpbHMvY3N0LXV0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBEZWZhdWx0SHlkcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuZ3JhbW1hckVsZW1lbnRJZE1hcCA9IG5ldyBCaU1hcCgpO1xuICAgICAgICB0aGlzLnRva2VuVHlwZUlkTWFwID0gbmV3IEJpTWFwKCk7XG4gICAgICAgIHRoaXMuZ3JhbW1hciA9IHNlcnZpY2VzLkdyYW1tYXI7XG4gICAgICAgIHRoaXMubGV4ZXIgPSBzZXJ2aWNlcy5wYXJzZXIuTGV4ZXI7XG4gICAgICAgIHRoaXMubGlua2VyID0gc2VydmljZXMucmVmZXJlbmNlcy5MaW5rZXI7XG4gICAgfVxuICAgIGRlaHlkcmF0ZShyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxleGVyRXJyb3JzOiByZXN1bHQubGV4ZXJFcnJvcnMsXG4gICAgICAgICAgICBsZXhlclJlcG9ydDogcmVzdWx0LmxleGVyUmVwb3J0ID8gdGhpcy5kZWh5ZHJhdGVMZXhlclJlcG9ydChyZXN1bHQubGV4ZXJSZXBvcnQpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjcmVhdGUgc2hhbGxvdyBjb3BpZXMgb2YgdGhlIGVycm9yc1xuICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIGVycm9ycyBpbmhlcml0IGZyb20gdGhlIGBFcnJvcmAgY2xhc3MsIHdoaWNoIGlzIG5vdCB0cmFuc2ZlcmFibGUgYWNyb3NzIHdvcmtlciB0aHJlYWRzXG4gICAgICAgICAgICBwYXJzZXJFcnJvcnM6IHJlc3VsdC5wYXJzZXJFcnJvcnMubWFwKGUgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZSksIHsgbWVzc2FnZTogZS5tZXNzYWdlIH0pKSksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5kZWh5ZHJhdGVBc3ROb2RlKHJlc3VsdC52YWx1ZSwgdGhpcy5jcmVhdGVEZWh5cmF0aW9uQ29udGV4dChyZXN1bHQudmFsdWUpKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBkZWh5ZHJhdGVMZXhlclJlcG9ydChsZXhlclJlcG9ydCkge1xuICAgICAgICAvLyBCeSBkZWZhdWx0LCBsZXhlciByZXBvcnRzIGFyZSBzZXJpYWxpemFibGVcbiAgICAgICAgcmV0dXJuIGxleGVyUmVwb3J0O1xuICAgIH1cbiAgICBjcmVhdGVEZWh5cmF0aW9uQ29udGV4dChub2RlKSB7XG4gICAgICAgIGNvbnN0IGFzdE5vZGVzID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjc3ROb2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBhc3ROb2RlIG9mIHN0cmVhbUFzdChub2RlKSkge1xuICAgICAgICAgICAgYXN0Tm9kZXMuc2V0KGFzdE5vZGUsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS4kY3N0Tm9kZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjc3ROb2RlIG9mIHN0cmVhbUNzdChub2RlLiRjc3ROb2RlKSkge1xuICAgICAgICAgICAgICAgIGNzdE5vZGVzLnNldChjc3ROb2RlLCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzdE5vZGVzLFxuICAgICAgICAgICAgY3N0Tm9kZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGVoeWRyYXRlQXN0Tm9kZShub2RlLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IGNvbnRleHQuYXN0Tm9kZXMuZ2V0KG5vZGUpO1xuICAgICAgICBvYmouJHR5cGUgPSBub2RlLiR0eXBlO1xuICAgICAgICBvYmouJGNvbnRhaW5lckluZGV4ID0gbm9kZS4kY29udGFpbmVySW5kZXg7XG4gICAgICAgIG9iai4kY29udGFpbmVyUHJvcGVydHkgPSBub2RlLiRjb250YWluZXJQcm9wZXJ0eTtcbiAgICAgICAgaWYgKG5vZGUuJGNzdE5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2JqLiRjc3ROb2RlID0gdGhpcy5kZWh5ZHJhdGVDc3ROb2RlKG5vZGUuJGNzdE5vZGUsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhub2RlKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnJCcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgICAgICAgICBvYmpbbmFtZV0gPSBhcnI7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FzdE5vZGUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuZGVoeWRyYXRlQXN0Tm9kZShpdGVtLCBjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWZlcmVuY2UoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuZGVoeWRyYXRlUmVmZXJlbmNlKGl0ZW0sIGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3ROb2RlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG9ialtuYW1lXSA9IHRoaXMuZGVoeWRyYXRlQXN0Tm9kZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZmVyZW5jZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvYmpbbmFtZV0gPSB0aGlzLmRlaHlkcmF0ZVJlZmVyZW5jZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgZGVoeWRyYXRlUmVmZXJlbmNlKHJlZmVyZW5jZSwgY29udGV4dCkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgb2JqLiRyZWZUZXh0ID0gcmVmZXJlbmNlLiRyZWZUZXh0O1xuICAgICAgICBpZiAocmVmZXJlbmNlLiRyZWZOb2RlKSB7XG4gICAgICAgICAgICBvYmouJHJlZk5vZGUgPSBjb250ZXh0LmNzdE5vZGVzLmdldChyZWZlcmVuY2UuJHJlZk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGRlaHlkcmF0ZUNzdE5vZGUobm9kZSwgY29udGV4dCkge1xuICAgICAgICBjb25zdCBjc3ROb2RlID0gY29udGV4dC5jc3ROb2Rlcy5nZXQobm9kZSk7XG4gICAgICAgIGlmIChpc1Jvb3RDc3ROb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICBjc3ROb2RlLmZ1bGxUZXh0ID0gbm9kZS5mdWxsVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgcmV0dXJucyB1bmRlZmluZWQgZm9yIGhpZGRlbiBub2RlcyAoaS5lLiBjb21tZW50cylcbiAgICAgICAgICAgIGNzdE5vZGUuZ3JhbW1hclNvdXJjZSA9IHRoaXMuZ2V0R3JhbW1hckVsZW1lbnRJZChub2RlLmdyYW1tYXJTb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNzdE5vZGUuaGlkZGVuID0gbm9kZS5oaWRkZW47XG4gICAgICAgIGNzdE5vZGUuYXN0Tm9kZSA9IGNvbnRleHQuYXN0Tm9kZXMuZ2V0KG5vZGUuYXN0Tm9kZSk7XG4gICAgICAgIGlmIChpc0NvbXBvc2l0ZUNzdE5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIGNzdE5vZGUuY29udGVudCA9IG5vZGUuY29udGVudC5tYXAoY2hpbGQgPT4gdGhpcy5kZWh5ZHJhdGVDc3ROb2RlKGNoaWxkLCBjb250ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMZWFmQ3N0Tm9kZShub2RlKSkge1xuICAgICAgICAgICAgY3N0Tm9kZS50b2tlblR5cGUgPSBub2RlLnRva2VuVHlwZS5uYW1lO1xuICAgICAgICAgICAgY3N0Tm9kZS5vZmZzZXQgPSBub2RlLm9mZnNldDtcbiAgICAgICAgICAgIGNzdE5vZGUubGVuZ3RoID0gbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICBjc3ROb2RlLnN0YXJ0TGluZSA9IG5vZGUucmFuZ2Uuc3RhcnQubGluZTtcbiAgICAgICAgICAgIGNzdE5vZGUuc3RhcnRDb2x1bW4gPSBub2RlLnJhbmdlLnN0YXJ0LmNoYXJhY3RlcjtcbiAgICAgICAgICAgIGNzdE5vZGUuZW5kTGluZSA9IG5vZGUucmFuZ2UuZW5kLmxpbmU7XG4gICAgICAgICAgICBjc3ROb2RlLmVuZENvbHVtbiA9IG5vZGUucmFuZ2UuZW5kLmNoYXJhY3RlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3N0Tm9kZTtcbiAgICB9XG4gICAgaHlkcmF0ZShyZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY3JlYXRlSHlkcmF0aW9uQ29udGV4dChub2RlKTtcbiAgICAgICAgaWYgKCckY3N0Tm9kZScgaW4gbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5oeWRyYXRlQ3N0Tm9kZShub2RlLiRjc3ROb2RlLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGV4ZXJFcnJvcnM6IHJlc3VsdC5sZXhlckVycm9ycyxcbiAgICAgICAgICAgIGxleGVyUmVwb3J0OiByZXN1bHQubGV4ZXJSZXBvcnQsXG4gICAgICAgICAgICBwYXJzZXJFcnJvcnM6IHJlc3VsdC5wYXJzZXJFcnJvcnMsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5oeWRyYXRlQXN0Tm9kZShub2RlLCBjb250ZXh0KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjcmVhdGVIeWRyYXRpb25Db250ZXh0KG5vZGUpIHtcbiAgICAgICAgY29uc3QgYXN0Tm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNzdE5vZGVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGFzdE5vZGUgb2Ygc3RyZWFtQXN0KG5vZGUpKSB7XG4gICAgICAgICAgICBhc3ROb2Rlcy5zZXQoYXN0Tm9kZSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGxldCByb290O1xuICAgICAgICBpZiAobm9kZS4kY3N0Tm9kZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjc3ROb2RlIG9mIHN0cmVhbUNzdChub2RlLiRjc3ROb2RlKSkge1xuICAgICAgICAgICAgICAgIGxldCBjc3Q7XG4gICAgICAgICAgICAgICAgaWYgKCdmdWxsVGV4dCcgaW4gY3N0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjc3QgPSBuZXcgUm9vdENzdE5vZGVJbXBsKGNzdE5vZGUuZnVsbFRleHQpO1xuICAgICAgICAgICAgICAgICAgICByb290ID0gY3N0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnY29udGVudCcgaW4gY3N0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjc3QgPSBuZXcgQ29tcG9zaXRlQ3N0Tm9kZUltcGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ3Rva2VuVHlwZScgaW4gY3N0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjc3QgPSB0aGlzLmh5ZHJhdGVDc3RMZWFmTm9kZShjc3ROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNzdCkge1xuICAgICAgICAgICAgICAgICAgICBjc3ROb2Rlcy5zZXQoY3N0Tm9kZSwgY3N0KTtcbiAgICAgICAgICAgICAgICAgICAgY3N0LnJvb3QgPSByb290O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXN0Tm9kZXMsXG4gICAgICAgICAgICBjc3ROb2Rlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBoeWRyYXRlQXN0Tm9kZShub2RlLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGFzdE5vZGUgPSBjb250ZXh0LmFzdE5vZGVzLmdldChub2RlKTtcbiAgICAgICAgYXN0Tm9kZS4kdHlwZSA9IG5vZGUuJHR5cGU7XG4gICAgICAgIGFzdE5vZGUuJGNvbnRhaW5lckluZGV4ID0gbm9kZS4kY29udGFpbmVySW5kZXg7XG4gICAgICAgIGFzdE5vZGUuJGNvbnRhaW5lclByb3BlcnR5ID0gbm9kZS4kY29udGFpbmVyUHJvcGVydHk7XG4gICAgICAgIGlmIChub2RlLiRjc3ROb2RlKSB7XG4gICAgICAgICAgICBhc3ROb2RlLiRjc3ROb2RlID0gY29udGV4dC5jc3ROb2Rlcy5nZXQobm9kZS4kY3N0Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG5vZGUpKSB7XG4gICAgICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCckJykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICAgICAgICAgIGFzdE5vZGVbbmFtZV0gPSBhcnI7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FzdE5vZGUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuc2V0UGFyZW50KHRoaXMuaHlkcmF0ZUFzdE5vZGUoaXRlbSwgY29udGV4dCksIGFzdE5vZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1JlZmVyZW5jZShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2godGhpcy5oeWRyYXRlUmVmZXJlbmNlKGl0ZW0sIGFzdE5vZGUsIG5hbWUsIGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3ROb2RlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGFzdE5vZGVbbmFtZV0gPSB0aGlzLnNldFBhcmVudCh0aGlzLmh5ZHJhdGVBc3ROb2RlKHZhbHVlLCBjb250ZXh0KSwgYXN0Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZmVyZW5jZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhc3ROb2RlW25hbWVdID0gdGhpcy5oeWRyYXRlUmVmZXJlbmNlKHZhbHVlLCBhc3ROb2RlLCBuYW1lLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhc3ROb2RlW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzdE5vZGU7XG4gICAgfVxuICAgIHNldFBhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICAgICAgbm9kZS4kY29udGFpbmVyID0gcGFyZW50O1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgaHlkcmF0ZVJlZmVyZW5jZShyZWZlcmVuY2UsIG5vZGUsIG5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlua2VyLmJ1aWxkUmVmZXJlbmNlKG5vZGUsIG5hbWUsIGNvbnRleHQuY3N0Tm9kZXMuZ2V0KHJlZmVyZW5jZS4kcmVmTm9kZSksIHJlZmVyZW5jZS4kcmVmVGV4dCk7XG4gICAgfVxuICAgIGh5ZHJhdGVDc3ROb2RlKGNzdE5vZGUsIGNvbnRleHQsIG51bSA9IDApIHtcbiAgICAgICAgY29uc3QgY3N0Tm9kZU9iaiA9IGNvbnRleHQuY3N0Tm9kZXMuZ2V0KGNzdE5vZGUpO1xuICAgICAgICBpZiAodHlwZW9mIGNzdE5vZGUuZ3JhbW1hclNvdXJjZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNzdE5vZGVPYmouZ3JhbW1hclNvdXJjZSA9IHRoaXMuZ2V0R3JhbW1hckVsZW1lbnQoY3N0Tm9kZS5ncmFtbWFyU291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjc3ROb2RlT2JqLmFzdE5vZGUgPSBjb250ZXh0LmFzdE5vZGVzLmdldChjc3ROb2RlLmFzdE5vZGUpO1xuICAgICAgICBpZiAoaXNDb21wb3NpdGVDc3ROb2RlKGNzdE5vZGVPYmopKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNzdE5vZGUuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh5ZHJhdGVkID0gdGhpcy5oeWRyYXRlQ3N0Tm9kZShjaGlsZCwgY29udGV4dCwgbnVtKyspO1xuICAgICAgICAgICAgICAgIGNzdE5vZGVPYmouY29udGVudC5wdXNoKGh5ZHJhdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3N0Tm9kZU9iajtcbiAgICB9XG4gICAgaHlkcmF0ZUNzdExlYWZOb2RlKGNzdE5vZGUpIHtcbiAgICAgICAgY29uc3QgdG9rZW5UeXBlID0gdGhpcy5nZXRUb2tlblR5cGUoY3N0Tm9kZS50b2tlblR5cGUpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBjc3ROb2RlLm9mZnNldDtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gY3N0Tm9kZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHN0YXJ0TGluZSA9IGNzdE5vZGUuc3RhcnRMaW5lO1xuICAgICAgICBjb25zdCBzdGFydENvbHVtbiA9IGNzdE5vZGUuc3RhcnRDb2x1bW47XG4gICAgICAgIGNvbnN0IGVuZExpbmUgPSBjc3ROb2RlLmVuZExpbmU7XG4gICAgICAgIGNvbnN0IGVuZENvbHVtbiA9IGNzdE5vZGUuZW5kQ29sdW1uO1xuICAgICAgICBjb25zdCBoaWRkZW4gPSBjc3ROb2RlLmhpZGRlbjtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBMZWFmQ3N0Tm9kZUltcGwob2Zmc2V0LCBsZW5ndGgsIHtcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgbGluZTogc3RhcnRMaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJhY3Rlcjogc3RhcnRDb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmQ6IHtcbiAgICAgICAgICAgICAgICBsaW5lOiBlbmRMaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJhY3RlcjogZW5kQ29sdW1uXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRva2VuVHlwZSwgaGlkZGVuKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGdldFRva2VuVHlwZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxleGVyLmRlZmluaXRpb25bbmFtZV07XG4gICAgfVxuICAgIGdldEdyYW1tYXJFbGVtZW50SWQobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ3JhbW1hckVsZW1lbnRJZE1hcC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUdyYW1tYXJFbGVtZW50SWRNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5ncmFtbWFyRWxlbWVudElkTWFwLmdldChub2RlKTtcbiAgICB9XG4gICAgZ2V0R3JhbW1hckVsZW1lbnQoaWQpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhbW1hckVsZW1lbnRJZE1hcC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUdyYW1tYXJFbGVtZW50SWRNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5ncmFtbWFyRWxlbWVudElkTWFwLmdldEtleShpZCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBjcmVhdGVHcmFtbWFyRWxlbWVudElkTWFwKCkge1xuICAgICAgICBsZXQgaWQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3RyZWFtQXN0KHRoaXMuZ3JhbW1hcikpIHtcbiAgICAgICAgICAgIGlmIChpc0Fic3RyYWN0RWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhbW1hckVsZW1lbnRJZE1hcC5zZXQoZWxlbWVudCwgaWQrKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oeWRyYXRvci5qcy5tYXAiXSwibmFtZXMiOlsiQ29tcG9zaXRlQ3N0Tm9kZUltcGwiLCJMZWFmQ3N0Tm9kZUltcGwiLCJSb290Q3N0Tm9kZUltcGwiLCJpc0Fic3RyYWN0RWxlbWVudCIsImlzUm9vdENzdE5vZGUiLCJpc0NvbXBvc2l0ZUNzdE5vZGUiLCJpc0xlYWZDc3ROb2RlIiwiaXNBc3ROb2RlIiwiaXNSZWZlcmVuY2UiLCJzdHJlYW1Bc3QiLCJCaU1hcCIsInN0cmVhbUNzdCIsIkRlZmF1bHRIeWRyYXRvciIsImNvbnN0cnVjdG9yIiwic2VydmljZXMiLCJncmFtbWFyRWxlbWVudElkTWFwIiwidG9rZW5UeXBlSWRNYXAiLCJncmFtbWFyIiwiR3JhbW1hciIsImxleGVyIiwicGFyc2VyIiwiTGV4ZXIiLCJsaW5rZXIiLCJyZWZlcmVuY2VzIiwiTGlua2VyIiwiZGVoeWRyYXRlIiwicmVzdWx0IiwibGV4ZXJFcnJvcnMiLCJsZXhlclJlcG9ydCIsImRlaHlkcmF0ZUxleGVyUmVwb3J0IiwidW5kZWZpbmVkIiwicGFyc2VyRXJyb3JzIiwibWFwIiwiZSIsIk9iamVjdCIsImFzc2lnbiIsIm1lc3NhZ2UiLCJ2YWx1ZSIsImRlaHlkcmF0ZUFzdE5vZGUiLCJjcmVhdGVEZWh5cmF0aW9uQ29udGV4dCIsIm5vZGUiLCJhc3ROb2RlcyIsIk1hcCIsImNzdE5vZGVzIiwiYXN0Tm9kZSIsInNldCIsIiRjc3ROb2RlIiwiY3N0Tm9kZSIsImNvbnRleHQiLCJvYmoiLCJnZXQiLCIkdHlwZSIsIiRjb250YWluZXJJbmRleCIsIiRjb250YWluZXJQcm9wZXJ0eSIsImRlaHlkcmF0ZUNzdE5vZGUiLCJuYW1lIiwiZW50cmllcyIsInN0YXJ0c1dpdGgiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIiLCJpdGVtIiwicHVzaCIsImRlaHlkcmF0ZVJlZmVyZW5jZSIsInJlZmVyZW5jZSIsIiRyZWZUZXh0IiwiJHJlZk5vZGUiLCJmdWxsVGV4dCIsImdyYW1tYXJTb3VyY2UiLCJnZXRHcmFtbWFyRWxlbWVudElkIiwiaGlkZGVuIiwiY29udGVudCIsImNoaWxkIiwidG9rZW5UeXBlIiwib2Zmc2V0IiwibGVuZ3RoIiwic3RhcnRMaW5lIiwicmFuZ2UiLCJzdGFydCIsImxpbmUiLCJzdGFydENvbHVtbiIsImNoYXJhY3RlciIsImVuZExpbmUiLCJlbmQiLCJlbmRDb2x1bW4iLCJoeWRyYXRlIiwiY3JlYXRlSHlkcmF0aW9uQ29udGV4dCIsImh5ZHJhdGVDc3ROb2RlIiwiaHlkcmF0ZUFzdE5vZGUiLCJyb290IiwiY3N0IiwiaHlkcmF0ZUNzdExlYWZOb2RlIiwic2V0UGFyZW50IiwiaHlkcmF0ZVJlZmVyZW5jZSIsInBhcmVudCIsIiRjb250YWluZXIiLCJidWlsZFJlZmVyZW5jZSIsIm51bSIsImNzdE5vZGVPYmoiLCJnZXRHcmFtbWFyRWxlbWVudCIsImh5ZHJhdGVkIiwiZ2V0VG9rZW5UeXBlIiwiZGVmaW5pdGlvbiIsInNpemUiLCJjcmVhdGVHcmFtbWFyRWxlbWVudElkTWFwIiwiaWQiLCJlbGVtZW50IiwiZ2V0S2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/serializer/hydrator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/serializer/json-serializer.js":
/*!****************************************************************!*\
  !*** ./node_modules/langium/lib/serializer/json-serializer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultJsonSerializer: () => (/* binding */ DefaultJsonSerializer),\n/* harmony export */   isAstNodeWithComment: () => (/* binding */ isAstNodeWithComment)\n/* harmony export */ });\n/* harmony import */ var vscode_uri__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode-uri */ \"(ssr)/./node_modules/vscode-uri/lib/esm/index.mjs\");\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\nfunction isAstNodeWithComment(node) {\n    return typeof node.$comment === \"string\";\n}\nfunction isIntermediateReference(obj) {\n    return typeof obj === \"object\" && !!obj && (\"$ref\" in obj || \"$error\" in obj);\n}\nclass DefaultJsonSerializer {\n    constructor(services){\n        /** The set of AstNode properties to be ignored by the serializer. */ this.ignoreProperties = new Set([\n            \"$container\",\n            \"$containerProperty\",\n            \"$containerIndex\",\n            \"$document\",\n            \"$cstNode\"\n        ]);\n        this.langiumDocuments = services.shared.workspace.LangiumDocuments;\n        this.astNodeLocator = services.workspace.AstNodeLocator;\n        this.nameProvider = services.references.NameProvider;\n        this.commentProvider = services.documentation.CommentProvider;\n    }\n    serialize(node, options) {\n        const serializeOptions = options !== null && options !== void 0 ? options : {};\n        const specificReplacer = options === null || options === void 0 ? void 0 : options.replacer;\n        const defaultReplacer = (key, value)=>this.replacer(key, value, serializeOptions);\n        const replacer = specificReplacer ? (key, value)=>specificReplacer(key, value, defaultReplacer) : defaultReplacer;\n        try {\n            this.currentDocument = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDocument)(node);\n            return JSON.stringify(node, replacer, options === null || options === void 0 ? void 0 : options.space);\n        } finally{\n            this.currentDocument = undefined;\n        }\n    }\n    deserialize(content, options) {\n        const deserializeOptions = options !== null && options !== void 0 ? options : {};\n        const root = JSON.parse(content);\n        this.linkNode(root, root, deserializeOptions);\n        return root;\n    }\n    replacer(key, value, { refText, sourceText, textRegions, comments, uriConverter }) {\n        var _a, _b, _c, _d;\n        if (this.ignoreProperties.has(key)) {\n            return undefined;\n        } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isReference)(value)) {\n            const refValue = value.ref;\n            const $refText = refText ? value.$refText : undefined;\n            if (refValue) {\n                const targetDocument = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDocument)(refValue);\n                let targetUri = \"\";\n                if (this.currentDocument && this.currentDocument !== targetDocument) {\n                    if (uriConverter) {\n                        targetUri = uriConverter(targetDocument.uri, value);\n                    } else {\n                        targetUri = targetDocument.uri.toString();\n                    }\n                }\n                const targetPath = this.astNodeLocator.getAstNodePath(refValue);\n                return {\n                    $ref: `${targetUri}#${targetPath}`,\n                    $refText\n                };\n            } else {\n                return {\n                    $error: (_b = (_a = value.error) === null || _a === void 0 ? void 0 : _a.message) !== null && _b !== void 0 ? _b : \"Could not resolve reference\",\n                    $refText\n                };\n            }\n        } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isAstNode)(value)) {\n            let astNode = undefined;\n            if (textRegions) {\n                astNode = this.addAstNodeRegionWithAssignmentsTo(Object.assign({}, value));\n                if ((!key || value.$document) && (astNode === null || astNode === void 0 ? void 0 : astNode.$textRegion)) {\n                    // The document URI is added to the root node of the resulting JSON tree\n                    astNode.$textRegion.documentURI = (_c = this.currentDocument) === null || _c === void 0 ? void 0 : _c.uri.toString();\n                }\n            }\n            if (sourceText && !key) {\n                astNode !== null && astNode !== void 0 ? astNode : astNode = Object.assign({}, value);\n                astNode.$sourceText = (_d = value.$cstNode) === null || _d === void 0 ? void 0 : _d.text;\n            }\n            if (comments) {\n                astNode !== null && astNode !== void 0 ? astNode : astNode = Object.assign({}, value);\n                const comment = this.commentProvider.getComment(value);\n                if (comment) {\n                    astNode.$comment = comment.replace(/\\r/g, \"\");\n                }\n            }\n            return astNode !== null && astNode !== void 0 ? astNode : value;\n        } else {\n            return value;\n        }\n    }\n    addAstNodeRegionWithAssignmentsTo(node) {\n        const createDocumentSegment = (cstNode)=>({\n                offset: cstNode.offset,\n                end: cstNode.end,\n                length: cstNode.length,\n                range: cstNode.range\n            });\n        if (node.$cstNode) {\n            const textRegion = node.$textRegion = createDocumentSegment(node.$cstNode);\n            const assignments = textRegion.assignments = {};\n            Object.keys(node).filter((key)=>!key.startsWith(\"$\")).forEach((key)=>{\n                const propertyAssignments = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_2__.findNodesForProperty)(node.$cstNode, key).map(createDocumentSegment);\n                if (propertyAssignments.length !== 0) {\n                    assignments[key] = propertyAssignments;\n                }\n            });\n            return node;\n        }\n        return undefined;\n    }\n    linkNode(node, root, options, container, containerProperty, containerIndex) {\n        for (const [propertyName, item] of Object.entries(node)){\n            if (Array.isArray(item)) {\n                for(let index = 0; index < item.length; index++){\n                    const element = item[index];\n                    if (isIntermediateReference(element)) {\n                        item[index] = this.reviveReference(node, propertyName, root, element, options);\n                    } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isAstNode)(element)) {\n                        this.linkNode(element, root, options, node, propertyName, index);\n                    }\n                }\n            } else if (isIntermediateReference(item)) {\n                node[propertyName] = this.reviveReference(node, propertyName, root, item, options);\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isAstNode)(item)) {\n                this.linkNode(item, root, options, node, propertyName);\n            }\n        }\n        const mutable = node;\n        mutable.$container = container;\n        mutable.$containerProperty = containerProperty;\n        mutable.$containerIndex = containerIndex;\n    }\n    reviveReference(container, property, root, reference, options) {\n        let refText = reference.$refText;\n        let error = reference.$error;\n        if (reference.$ref) {\n            const ref = this.getRefNode(root, reference.$ref, options.uriConverter);\n            if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isAstNode)(ref)) {\n                if (!refText) {\n                    refText = this.nameProvider.getName(ref);\n                }\n                return {\n                    $refText: refText !== null && refText !== void 0 ? refText : \"\",\n                    ref\n                };\n            } else {\n                error = ref;\n            }\n        }\n        if (error) {\n            const ref = {\n                $refText: refText !== null && refText !== void 0 ? refText : \"\"\n            };\n            ref.error = {\n                container,\n                property,\n                message: error,\n                reference: ref\n            };\n            return ref;\n        } else {\n            return undefined;\n        }\n    }\n    getRefNode(root, uri, uriConverter) {\n        try {\n            const fragmentIndex = uri.indexOf(\"#\");\n            if (fragmentIndex === 0) {\n                const node = this.astNodeLocator.getAstNode(root, uri.substring(1));\n                if (!node) {\n                    return \"Could not resolve path: \" + uri;\n                }\n                return node;\n            }\n            if (fragmentIndex < 0) {\n                const documentUri = uriConverter ? uriConverter(uri) : vscode_uri__WEBPACK_IMPORTED_MODULE_3__.URI.parse(uri);\n                const document = this.langiumDocuments.getDocument(documentUri);\n                if (!document) {\n                    return \"Could not find document for URI: \" + uri;\n                }\n                return document.parseResult.value;\n            }\n            const documentUri = uriConverter ? uriConverter(uri.substring(0, fragmentIndex)) : vscode_uri__WEBPACK_IMPORTED_MODULE_3__.URI.parse(uri.substring(0, fragmentIndex));\n            const document = this.langiumDocuments.getDocument(documentUri);\n            if (!document) {\n                return \"Could not find document for URI: \" + uri;\n            }\n            if (fragmentIndex === uri.length - 1) {\n                return document.parseResult.value;\n            }\n            const node = this.astNodeLocator.getAstNode(document.parseResult.value, uri.substring(fragmentIndex + 1));\n            if (!node) {\n                return \"Could not resolve URI: \" + uri;\n            }\n            return node;\n        } catch (err) {\n            return String(err);\n        }\n    }\n} //# sourceMappingURL=json-serializer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc2VyaWFsaXplci9qc29uLXNlcmlhbGl6ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQzdDO0FBQzBCO0FBQ1A7QUFDYTtBQUMxRCxTQUFTSyxxQkFBcUJDLElBQUk7SUFDckMsT0FBTyxPQUFPQSxLQUFLQyxRQUFRLEtBQUs7QUFDcEM7QUFDQSxTQUFTQyx3QkFBd0JDLEdBQUc7SUFDaEMsT0FBTyxPQUFPQSxRQUFRLFlBQVksQ0FBQyxDQUFDQSxPQUFRLFdBQVVBLE9BQU8sWUFBWUEsR0FBRTtBQUMvRTtBQUNPLE1BQU1DO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixtRUFBbUUsR0FDbkUsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxJQUFJQyxJQUFJO1lBQUM7WUFBYztZQUFzQjtZQUFtQjtZQUFhO1NBQVc7UUFDaEgsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0gsU0FBU0ksTUFBTSxDQUFDQyxTQUFTLENBQUNDLGdCQUFnQjtRQUNsRSxJQUFJLENBQUNDLGNBQWMsR0FBR1AsU0FBU0ssU0FBUyxDQUFDRyxjQUFjO1FBQ3ZELElBQUksQ0FBQ0MsWUFBWSxHQUFHVCxTQUFTVSxVQUFVLENBQUNDLFlBQVk7UUFDcEQsSUFBSSxDQUFDQyxlQUFlLEdBQUdaLFNBQVNhLGFBQWEsQ0FBQ0MsZUFBZTtJQUNqRTtJQUNBQyxVQUFVckIsSUFBSSxFQUFFc0IsT0FBTyxFQUFFO1FBQ3JCLE1BQU1DLG1CQUFtQkQsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSUEsVUFBVSxDQUFDO1FBQzdFLE1BQU1FLG1CQUFtQkYsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFHLFFBQVE7UUFDM0YsTUFBTUMsa0JBQWtCLENBQUNDLEtBQUtDLFFBQVUsSUFBSSxDQUFDSCxRQUFRLENBQUNFLEtBQUtDLE9BQU9MO1FBQ2xFLE1BQU1FLFdBQVdELG1CQUFtQixDQUFD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STZHLGdCQUFnQixHQUFHO2dCQUNuQixNQUFNSSxjQUFjckUsZUFBZUEsYUFBYVcsT0FBTzdELDJDQUFHQSxDQUFDNEMsS0FBSyxDQUFDaUI7Z0JBQ2pFLE1BQU0yRCxXQUFXLElBQUksQ0FBQ3pHLGdCQUFnQixDQUFDWixXQUFXLENBQUNvSDtnQkFDbkQsSUFBSSxDQUFDQyxVQUFVO29CQUNYLE9BQU8sc0NBQXNDM0Q7Z0JBQ2pEO2dCQUNBLE9BQU8yRCxTQUFTQyxXQUFXLENBQUN2RixLQUFLO1lBQ3JDO1lBQ0EsTUFBTXFGLGNBQWNyRSxlQUFlQSxhQUFhVyxJQUFJeUQsU0FBUyxDQUFDLEdBQUdILGtCQUFrQm5ILDJDQUFHQSxDQUFDNEMsS0FBSyxDQUFDaUIsSUFBSXlELFNBQVMsQ0FBQyxHQUFHSDtZQUM5RyxNQUFNSyxXQUFXLElBQUksQ0FBQ3pHLGdCQUFnQixDQUFDWixXQUFXLENBQUNvSDtZQUNuRCxJQUFJLENBQUNDLFVBQVU7Z0JBQ1gsT0FBTyxzQ0FBc0MzRDtZQUNqRDtZQUNBLElBQUlzRCxrQkFBa0J0RCxJQUFJeUIsTUFBTSxHQUFHLEdBQUc7Z0JBQ2xDLE9BQU9rQyxTQUFTQyxXQUFXLENBQUN2RixLQUFLO1lBQ3JDO1lBQ0EsTUFBTTVCLE9BQU8sSUFBSSxDQUFDYSxjQUFjLENBQUNrRyxVQUFVLENBQUNHLFNBQVNDLFdBQVcsQ0FBQ3ZGLEtBQUssRUFBRTJCLElBQUl5RCxTQUFTLENBQUNILGdCQUFnQjtZQUN0RyxJQUFJLENBQUM3RyxNQUFNO2dCQUNQLE9BQU8sNEJBQTRCdUQ7WUFDdkM7WUFDQSxPQUFPdkQ7UUFDWCxFQUNBLE9BQU9vSCxLQUFLO1lBQ1IsT0FBT0MsT0FBT0Q7UUFDbEI7SUFDSjtBQUNKLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc2VyaWFsaXplci9qc29uLXNlcmlhbGl6ZXIuanM/MjdkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBVUkkgfSBmcm9tICd2c2NvZGUtdXJpJztcbmltcG9ydCB7IGlzQXN0Tm9kZSwgaXNSZWZlcmVuY2UgfSBmcm9tICcuLi9zeW50YXgtdHJlZS5qcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWxzL2FzdC11dGlscy5qcyc7XG5pbXBvcnQgeyBmaW5kTm9kZXNGb3JQcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzL2dyYW1tYXItdXRpbHMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN0Tm9kZVdpdGhDb21tZW50KG5vZGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG5vZGUuJGNvbW1lbnQgPT09ICdzdHJpbmcnO1xufVxuZnVuY3Rpb24gaXNJbnRlcm1lZGlhdGVSZWZlcmVuY2Uob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICEhb2JqICYmICgnJHJlZicgaW4gb2JqIHx8ICckZXJyb3InIGluIG9iaik7XG59XG5leHBvcnQgY2xhc3MgRGVmYXVsdEpzb25TZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICAvKiogVGhlIHNldCBvZiBBc3ROb2RlIHByb3BlcnRpZXMgdG8gYmUgaWdub3JlZCBieSB0aGUgc2VyaWFsaXplci4gKi9cbiAgICAgICAgdGhpcy5pZ25vcmVQcm9wZXJ0aWVzID0gbmV3IFNldChbJyRjb250YWluZXInLCAnJGNvbnRhaW5lclByb3BlcnR5JywgJyRjb250YWluZXJJbmRleCcsICckZG9jdW1lbnQnLCAnJGNzdE5vZGUnXSk7XG4gICAgICAgIHRoaXMubGFuZ2l1bURvY3VtZW50cyA9IHNlcnZpY2VzLnNoYXJlZC53b3Jrc3BhY2UuTGFuZ2l1bURvY3VtZW50cztcbiAgICAgICAgdGhpcy5hc3ROb2RlTG9jYXRvciA9IHNlcnZpY2VzLndvcmtzcGFjZS5Bc3ROb2RlTG9jYXRvcjtcbiAgICAgICAgdGhpcy5uYW1lUHJvdmlkZXIgPSBzZXJ2aWNlcy5yZWZlcmVuY2VzLk5hbWVQcm92aWRlcjtcbiAgICAgICAgdGhpcy5jb21tZW50UHJvdmlkZXIgPSBzZXJ2aWNlcy5kb2N1bWVudGF0aW9uLkNvbW1lbnRQcm92aWRlcjtcbiAgICB9XG4gICAgc2VyaWFsaXplKG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplT3B0aW9ucyA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICBjb25zdCBzcGVjaWZpY1JlcGxhY2VyID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlcGxhY2VyO1xuICAgICAgICBjb25zdCBkZWZhdWx0UmVwbGFjZXIgPSAoa2V5LCB2YWx1ZSkgPT4gdGhpcy5yZXBsYWNlcihrZXksIHZhbHVlLCBzZXJpYWxpemVPcHRpb25zKTtcbiAgICAgICAgY29uc3QgcmVwbGFjZXIgPSBzcGVjaWZpY1JlcGxhY2VyID8gKGtleSwgdmFsdWUpID0+IHNwZWNpZmljUmVwbGFjZXIoa2V5LCB2YWx1ZSwgZGVmYXVsdFJlcGxhY2VyKSA6IGRlZmF1bHRSZXBsYWNlcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERvY3VtZW50ID0gZ2V0RG9jdW1lbnQobm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobm9kZSwgcmVwbGFjZXIsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREb2N1bWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGRlc2VyaWFsaXplT3B0aW9ucyA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICBjb25zdCByb290ID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICAgICAgdGhpcy5saW5rTm9kZShyb290LCByb290LCBkZXNlcmlhbGl6ZU9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG4gICAgcmVwbGFjZXIoa2V5LCB2YWx1ZSwgeyByZWZUZXh0LCBzb3VyY2VUZXh0LCB0ZXh0UmVnaW9ucywgY29tbWVudHMsIHVyaUNvbnZlcnRlciB9KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlUHJvcGVydGllcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZmVyZW5jZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZlZhbHVlID0gdmFsdWUucmVmO1xuICAgICAgICAgICAgY29uc3QgJHJlZlRleHQgPSByZWZUZXh0ID8gdmFsdWUuJHJlZlRleHQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAocmVmVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXREb2N1bWVudCA9IGdldERvY3VtZW50KHJlZlZhbHVlKTtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0VXJpID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudERvY3VtZW50ICYmIHRoaXMuY3VycmVudERvY3VtZW50ICE9PSB0YXJnZXREb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXJpQ29udmVydGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRVcmkgPSB1cmlDb252ZXJ0ZXIodGFyZ2V0RG9jdW1lbnQudXJpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRVcmkgPSB0YXJnZXREb2N1bWVudC51cmkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQYXRoID0gdGhpcy5hc3ROb2RlTG9jYXRvci5nZXRBc3ROb2RlUGF0aChyZWZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJHJlZjogYCR7dGFyZ2V0VXJpfSMke3RhcmdldFBhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgJHJlZlRleHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJGVycm9yOiAoX2IgPSAoX2EgPSB2YWx1ZS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdDb3VsZCBub3QgcmVzb2x2ZSByZWZlcmVuY2UnLFxuICAgICAgICAgICAgICAgICAgICAkcmVmVGV4dFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBc3ROb2RlKHZhbHVlKSkge1xuICAgICAgICAgICAgbGV0IGFzdE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAodGV4dFJlZ2lvbnMpIHtcbiAgICAgICAgICAgICAgICBhc3ROb2RlID0gdGhpcy5hZGRBc3ROb2RlUmVnaW9uV2l0aEFzc2lnbm1lbnRzVG8oT2JqZWN0LmFzc2lnbih7fSwgdmFsdWUpKTtcbiAgICAgICAgICAgICAgICBpZiAoKCFrZXkgfHwgdmFsdWUuJGRvY3VtZW50KSAmJiAoYXN0Tm9kZSA9PT0gbnVsbCB8fCBhc3ROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhc3ROb2RlLiR0ZXh0UmVnaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZG9jdW1lbnQgVVJJIGlzIGFkZGVkIHRvIHRoZSByb290IG5vZGUgb2YgdGhlIHJlc3VsdGluZyBKU09OIHRyZWVcbiAgICAgICAgICAgICAgICAgICAgYXN0Tm9kZS4kdGV4dFJlZ2lvbi5kb2N1bWVudFVSSSA9IChfYyA9IHRoaXMuY3VycmVudERvY3VtZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudXJpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZVRleHQgJiYgIWtleSkge1xuICAgICAgICAgICAgICAgIGFzdE5vZGUgIT09IG51bGwgJiYgYXN0Tm9kZSAhPT0gdm9pZCAwID8gYXN0Tm9kZSA6IChhc3ROb2RlID0gT2JqZWN0LmFzc2lnbih7fSwgdmFsdWUpKTtcbiAgICAgICAgICAgICAgICBhc3ROb2RlLiRzb3VyY2VUZXh0ID0gKF9kID0gdmFsdWUuJGNzdE5vZGUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgYXN0Tm9kZSAhPT0gbnVsbCAmJiBhc3ROb2RlICE9PSB2b2lkIDAgPyBhc3ROb2RlIDogKGFzdE5vZGUgPSBPYmplY3QuYXNzaWduKHt9LCB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLmNvbW1lbnRQcm92aWRlci5nZXRDb21tZW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhc3ROb2RlLiRjb21tZW50ID0gY29tbWVudC5yZXBsYWNlKC9cXHIvZywgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhc3ROb2RlICE9PSBudWxsICYmIGFzdE5vZGUgIT09IHZvaWQgMCA/IGFzdE5vZGUgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRBc3ROb2RlUmVnaW9uV2l0aEFzc2lnbm1lbnRzVG8obm9kZSkge1xuICAgICAgICBjb25zdCBjcmVhdGVEb2N1bWVudFNlZ21lbnQgPSBjc3ROb2RlID0+ICh7XG4gICAgICAgICAgICBvZmZzZXQ6IGNzdE5vZGUub2Zmc2V0LFxuICAgICAgICAgICAgZW5kOiBjc3ROb2RlLmVuZCxcbiAgICAgICAgICAgIGxlbmd0aDogY3N0Tm9kZS5sZW5ndGgsXG4gICAgICAgICAgICByYW5nZTogY3N0Tm9kZS5yYW5nZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChub2RlLiRjc3ROb2RlKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0UmVnaW9uID0gbm9kZS4kdGV4dFJlZ2lvbiA9IGNyZWF0ZURvY3VtZW50U2VnbWVudChub2RlLiRjc3ROb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbm1lbnRzID0gdGV4dFJlZ2lvbi5hc3NpZ25tZW50cyA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobm9kZSkuZmlsdGVyKGtleSA9PiAha2V5LnN0YXJ0c1dpdGgoJyQnKSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5QXNzaWdubWVudHMgPSBmaW5kTm9kZXNGb3JQcm9wZXJ0eShub2RlLiRjc3ROb2RlLCBrZXkpLm1hcChjcmVhdGVEb2N1bWVudFNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eUFzc2lnbm1lbnRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50c1trZXldID0gcHJvcGVydHlBc3NpZ25tZW50cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxpbmtOb2RlKG5vZGUsIHJvb3QsIG9wdGlvbnMsIGNvbnRhaW5lciwgY29udGFpbmVyUHJvcGVydHksIGNvbnRhaW5lckluZGV4KSB7XG4gICAgICAgIGZvciAoY29uc3QgW3Byb3BlcnR5TmFtZSwgaXRlbV0gb2YgT2JqZWN0LmVudHJpZXMobm9kZSkpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBpdGVtW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW50ZXJtZWRpYXRlUmVmZXJlbmNlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtW2luZGV4XSA9IHRoaXMucmV2aXZlUmVmZXJlbmNlKG5vZGUsIHByb3BlcnR5TmFtZSwgcm9vdCwgZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3ROb2RlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmtOb2RlKGVsZW1lbnQsIHJvb3QsIG9wdGlvbnMsIG5vZGUsIHByb3BlcnR5TmFtZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlcm1lZGlhdGVSZWZlcmVuY2UoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBub2RlW3Byb3BlcnR5TmFtZV0gPSB0aGlzLnJldml2ZVJlZmVyZW5jZShub2RlLCBwcm9wZXJ0eU5hbWUsIHJvb3QsIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3ROb2RlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rTm9kZShpdGVtLCByb290LCBvcHRpb25zLCBub2RlLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG11dGFibGUgPSBub2RlO1xuICAgICAgICBtdXRhYmxlLiRjb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIG11dGFibGUuJGNvbnRhaW5lclByb3BlcnR5ID0gY29udGFpbmVyUHJvcGVydHk7XG4gICAgICAgIG11dGFibGUuJGNvbnRhaW5lckluZGV4ID0gY29udGFpbmVySW5kZXg7XG4gICAgfVxuICAgIHJldml2ZVJlZmVyZW5jZShjb250YWluZXIsIHByb3BlcnR5LCByb290LCByZWZlcmVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHJlZlRleHQgPSByZWZlcmVuY2UuJHJlZlRleHQ7XG4gICAgICAgIGxldCBlcnJvciA9IHJlZmVyZW5jZS4kZXJyb3I7XG4gICAgICAgIGlmIChyZWZlcmVuY2UuJHJlZikge1xuICAgICAgICAgICAgY29uc3QgcmVmID0gdGhpcy5nZXRSZWZOb2RlKHJvb3QsIHJlZmVyZW5jZS4kcmVmLCBvcHRpb25zLnVyaUNvbnZlcnRlcik7XG4gICAgICAgICAgICBpZiAoaXNBc3ROb2RlKHJlZikpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZlRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmVGV4dCA9IHRoaXMubmFtZVByb3ZpZGVyLmdldE5hbWUocmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJHJlZlRleHQ6IHJlZlRleHQgIT09IG51bGwgJiYgcmVmVGV4dCAhPT0gdm9pZCAwID8gcmVmVGV4dCA6ICcnLFxuICAgICAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCByZWYgPSB7XG4gICAgICAgICAgICAgICAgJHJlZlRleHQ6IHJlZlRleHQgIT09IG51bGwgJiYgcmVmVGV4dCAhPT0gdm9pZCAwID8gcmVmVGV4dCA6ICcnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVmLmVycm9yID0ge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcixcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6IHJlZlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFJlZk5vZGUocm9vdCwgdXJpLCB1cmlDb252ZXJ0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50SW5kZXggPSB1cmkuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgaWYgKGZyYWdtZW50SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5hc3ROb2RlTG9jYXRvci5nZXRBc3ROb2RlKHJvb3QsIHVyaS5zdWJzdHJpbmcoMSkpO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NvdWxkIG5vdCByZXNvbHZlIHBhdGg6ICcgKyB1cmk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYWdtZW50SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRVcmkgPSB1cmlDb252ZXJ0ZXIgPyB1cmlDb252ZXJ0ZXIodXJpKSA6IFVSSS5wYXJzZSh1cmkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcy5sYW5naXVtRG9jdW1lbnRzLmdldERvY3VtZW50KGRvY3VtZW50VXJpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnQ291bGQgbm90IGZpbmQgZG9jdW1lbnQgZm9yIFVSSTogJyArIHVyaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnBhcnNlUmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRVcmkgPSB1cmlDb252ZXJ0ZXIgPyB1cmlDb252ZXJ0ZXIodXJpLnN1YnN0cmluZygwLCBmcmFnbWVudEluZGV4KSkgOiBVUkkucGFyc2UodXJpLnN1YnN0cmluZygwLCBmcmFnbWVudEluZGV4KSk7XG4gICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMubGFuZ2l1bURvY3VtZW50cy5nZXREb2N1bWVudChkb2N1bWVudFVyaSk7XG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdDb3VsZCBub3QgZmluZCBkb2N1bWVudCBmb3IgVVJJOiAnICsgdXJpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYWdtZW50SW5kZXggPT09IHVyaS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnBhcnNlUmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuYXN0Tm9kZUxvY2F0b3IuZ2V0QXN0Tm9kZShkb2N1bWVudC5wYXJzZVJlc3VsdC52YWx1ZSwgdXJpLnN1YnN0cmluZyhmcmFnbWVudEluZGV4ICsgMSkpO1xuICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdDb3VsZCBub3QgcmVzb2x2ZSBVUkk6ICcgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKGVycik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uLXNlcmlhbGl6ZXIuanMubWFwIl0sIm5hbWVzIjpbIlVSSSIsImlzQXN0Tm9kZSIsImlzUmVmZXJlbmNlIiwiZ2V0RG9jdW1lbnQiLCJmaW5kTm9kZXNGb3JQcm9wZXJ0eSIsImlzQXN0Tm9kZVdpdGhDb21tZW50Iiwibm9kZSIsIiRjb21tZW50IiwiaXNJbnRlcm1lZGlhdGVSZWZlcmVuY2UiLCJvYmoiLCJEZWZhdWx0SnNvblNlcmlhbGl6ZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwiaWdub3JlUHJvcGVydGllcyIsIlNldCIsImxhbmdpdW1Eb2N1bWVudHMiLCJzaGFyZWQiLCJ3b3Jrc3BhY2UiLCJMYW5naXVtRG9jdW1lbnRzIiwiYXN0Tm9kZUxvY2F0b3IiLCJBc3ROb2RlTG9jYXRvciIsIm5hbWVQcm92aWRlciIsInJlZmVyZW5jZXMiLCJOYW1lUHJvdmlkZXIiLCJjb21tZW50UHJvdmlkZXIiLCJkb2N1bWVudGF0aW9uIiwiQ29tbWVudFByb3ZpZGVyIiwic2VyaWFsaXplIiwib3B0aW9ucyIsInNlcmlhbGl6ZU9wdGlvbnMiLCJzcGVjaWZpY1JlcGxhY2VyIiwicmVwbGFjZXIiLCJkZWZhdWx0UmVwbGFjZXIiLCJrZXkiLCJ2YWx1ZSIsImN1cnJlbnREb2N1bWVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzcGFjZSIsInVuZGVmaW5lZCIsImRlc2VyaWFsaXplIiwiY29udGVudCIsImRlc2VyaWFsaXplT3B0aW9ucyIsInJvb3QiLCJwYXJzZSIsImxpbmtOb2RlIiwicmVmVGV4dCIsInNvdXJjZVRleHQiLCJ0ZXh0UmVnaW9ucyIsImNvbW1lbnRzIiwidXJpQ29udmVydGVyIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJoYXMiLCJyZWZWYWx1ZSIsInJlZiIsIiRyZWZUZXh0IiwidGFyZ2V0RG9jdW1lbnQiLCJ0YXJnZXRVcmkiLCJ1cmkiLCJ0b1N0cmluZyIsInRhcmdldFBhdGgiLCJnZXRBc3ROb2RlUGF0aCIsIiRyZWYiLCIkZXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJhc3ROb2RlIiwiYWRkQXN0Tm9kZVJlZ2lvbldpdGhBc3NpZ25tZW50c1RvIiwiT2JqZWN0IiwiYXNzaWduIiwiJGRvY3VtZW50IiwiJHRleHRSZWdpb24iLCJkb2N1bWVudFVSSSIsIiRzb3VyY2VUZXh0IiwiJGNzdE5vZGUiLCJ0ZXh0IiwiY29tbWVudCIsImdldENvbW1lbnQiLCJyZXBsYWNlIiwiY3JlYXRlRG9jdW1lbnRTZWdtZW50IiwiY3N0Tm9kZSIsIm9mZnNldCIsImVuZCIsImxlbmd0aCIsInJhbmdlIiwidGV4dFJlZ2lvbiIsImFzc2lnbm1lbnRzIiwia2V5cyIsImZpbHRlciIsInN0YXJ0c1dpdGgiLCJmb3JFYWNoIiwicHJvcGVydHlBc3NpZ25tZW50cyIsIm1hcCIsImNvbnRhaW5lciIsImNvbnRhaW5lclByb3BlcnR5IiwiY29udGFpbmVySW5kZXgiLCJwcm9wZXJ0eU5hbWUiLCJpdGVtIiwiZW50cmllcyIsIkFycmF5IiwiaXNBcnJheSIsImluZGV4IiwiZWxlbWVudCIsInJldml2ZVJlZmVyZW5jZSIsIm11dGFibGUiLCIkY29udGFpbmVyIiwiJGNvbnRhaW5lclByb3BlcnR5IiwiJGNvbnRhaW5lckluZGV4IiwicHJvcGVydHkiLCJyZWZlcmVuY2UiLCJnZXRSZWZOb2RlIiwiZ2V0TmFtZSIsImZyYWdtZW50SW5kZXgiLCJpbmRleE9mIiwiZ2V0QXN0Tm9kZSIsInN1YnN0cmluZyIsImRvY3VtZW50VXJpIiwiZG9jdW1lbnQiLCJwYXJzZVJlc3VsdCIsImVyciIsIlN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/serializer/json-serializer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/service-registry.js":
/*!******************************************************!*\
  !*** ./node_modules/langium/lib/service-registry.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultServiceRegistry: () => (/* binding */ DefaultServiceRegistry)\n/* harmony export */ });\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/uri-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/uri-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n/**\n * Generic registry for Langium services, but capable of being used with extending service sets as well (such as the lsp-complete LangiumCoreServices set)\n */ class DefaultServiceRegistry {\n    /**\n     * @deprecated Use the new `fileExtensionMap` (or `languageIdMap`) property instead.\n     */ get map() {\n        return this.fileExtensionMap;\n    }\n    constructor(services){\n        this.languageIdMap = new Map();\n        this.fileExtensionMap = new Map();\n        this.textDocuments = services === null || services === void 0 ? void 0 : services.workspace.TextDocuments;\n    }\n    register(language) {\n        const data = language.LanguageMetaData;\n        for (const ext of data.fileExtensions){\n            if (this.fileExtensionMap.has(ext)) {\n                console.warn(`The file extension ${ext} is used by multiple languages. It is now assigned to '${data.languageId}'.`);\n            }\n            this.fileExtensionMap.set(ext, language);\n        }\n        this.languageIdMap.set(data.languageId, language);\n        if (this.languageIdMap.size === 1) {\n            this.singleton = language;\n        } else {\n            this.singleton = undefined;\n        }\n    }\n    getServices(uri) {\n        var _a, _b;\n        if (this.singleton !== undefined) {\n            return this.singleton;\n        }\n        if (this.languageIdMap.size === 0) {\n            throw new Error(\"The service registry is empty. Use `register` to register the services of a language.\");\n        }\n        const languageId = (_b = (_a = this.textDocuments) === null || _a === void 0 ? void 0 : _a.get(uri)) === null || _b === void 0 ? void 0 : _b.languageId;\n        if (languageId !== undefined) {\n            const services = this.languageIdMap.get(languageId);\n            if (services) {\n                return services;\n            }\n        }\n        const ext = _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_0__.UriUtils.extname(uri);\n        const services = this.fileExtensionMap.get(ext);\n        if (!services) {\n            if (languageId) {\n                throw new Error(`The service registry contains no services for the extension '${ext}' for language '${languageId}'.`);\n            } else {\n                throw new Error(`The service registry contains no services for the extension '${ext}'.`);\n            }\n        }\n        return services;\n    }\n    hasServices(uri) {\n        try {\n            this.getServices(uri);\n            return true;\n        } catch (_a) {\n            return false;\n        }\n    }\n    get all() {\n        return Array.from(this.languageIdMap.values());\n    }\n} //# sourceMappingURL=service-registry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc2VydmljZS1yZWdpc3RyeS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7OzhFQUk4RSxHQUM5QjtBQUNoRDs7Q0FFQyxHQUNNLE1BQU1DO0lBQ1Q7O0tBRUMsR0FDRCxJQUFJQyxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUNDLGdCQUFnQjtJQUNoQztJQUNBQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSUM7UUFDekIsSUFBSSxDQUFDSixnQkFBZ0IsR0FBRyxJQUFJSTtRQUM1QixJQUFJLENBQUNDLGFBQWEsR0FBR0gsYUFBYSxRQUFRQSxhQUFhLEtBQUssSUFBSSxLQUFLLElBQUlBLFNBQVNJLFNBQVMsQ0FBQ0MsYUFBYTtJQUM3RztJQUNBQyxTQUFTQyxRQUFRLEVBQUU7UUFDZixNQUFNQyxPQUFPRCxTQUFTRSxnQkFBZ0I7UUFDdEMsS0FBSyxNQUFNQyxPQUFPRixLQUFLRyxjQUFjLENBQUU7WUFDbkMsSUFBSSxJQUFJLENBQUNiLGdCQUFnQixDQUFDYyxHQUFHLENBQUNGLE1BQU07Z0JBQ2hDRyxRQUFRQyxJQUFJLENBQUMsQ0FBQyxtQkFBbUIsRUFBRUosSUFBSSx1REFBdUQsRUFBRUYsS0FBS08sVUFBVSxDQUFDLEVBQUUsQ0FBQztZQUN2SDtZQUNBLElBQUksQ0FBQ2pCLGdCQUFnQixDQUFDa0IsR0FBRyxDQUFDTixLQUFLSDtRQUNuQztRQUNBLElBQUksQ0FBQ04sYUFBYSxDQUFDZSxHQUFHLENBQUNSLEtBQUtPLFVBQVUsRUFBRVI7UUFDeEMsSUFBSSxJQUFJLENBQUNOLGFBQWEsQ0FBQ2dCLElBQUksS0FBSyxHQUFHO1lBQy9CLElBQUksQ0FBQ0MsU0FBUyxHQUFHWDtRQUNyQixPQUNLO1lBQ0QsSUFBSSxDQUFDVyxTQUFTLEdBQUdDO1FBQ3JCO0lBQ0o7SUFDQUMsWUFBWUMsR0FBRyxFQUFFO1FBQ2IsSUFBSUMsSUFBSUM7UUFDUixJQUFJLElBQUksQ0FBQ0wsU0FBUyxLQUFLQyxXQUFXO1lBQzlCLE9BQU8sSUFBSSxDQUFDRCxTQUFTO1FBQ3pCO1FBQ0EsSUFBSSxJQUFJLENBQUNqQixhQUFhLENBQUNnQixJQUFJLEtBQUssR0FBRztZQUMvQixNQUFNLElBQUlPLE1BQU07UUFDcEI7UUFDQSxNQUFNVCxhQUFhLENBQUNRLEtBQUssQ0FBQ0QsS0FBSyxJQUFJLENBQUNuQixhQUFhLE1BQU0sUUFBUW1CLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR0csR0FBRyxDQUFDSixJQUFHLE1BQU8sUUFBUUUsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHUixVQUFVO1FBQ3ZKLElBQUlBLGVBQWVJLFdBQVc7WUFDMUIsTUFBTW5CLFdBQVcsSUFBSSxDQUFDQyxhQUFhLENBQUN3QixHQUFHLENBQUNWO1lBQ3hDLElBQUlmLFVBQVU7Z0JBQ1YsT0FBT0E7WUFDWDtRQUNKO1FBQ0EsTUFBTVUsTUFBTWYseURBQVFBLENBQUMrQixPQUFPLENBQUNMO1FBQzdCLE1BQU1yQixXQUFXLElBQUksQ0FBQ0YsZ0JBQWdCLENBQUMyQixHQUFHLENBQUNmO1FBQzNDLElBQUksQ0FBQ1YsVUFBVTtZQUNYLElBQUllLFlBQVk7Z0JBQ1osTUFBTSxJQUFJUyxNQUFNLENBQUMsNkRBQTZELEVBQUVkLElBQUksZ0JBQWdCLEVBQUVLLFdBQVcsRUFBRSxDQUFDO1lBQ3hILE9BQ0s7Z0JBQ0QsTUFBTSxJQUFJUyxNQUFNLENBQUMsNkRBQTZELEVBQUVkLElBQUksRUFBRSxDQUFDO1lBQzNGO1FBQ0o7UUFDQSxPQUFPVjtJQUNYO0lBQ0EyQixZQUFZTixHQUFHLEVBQUU7UUFDYixJQUFJO1lBQ0EsSUFBSSxDQUFDRCxXQUFXLENBQUNDO1lBQ2pCLE9BQU87UUFDWCxFQUNBLE9BQU9DLElBQUk7WUFDUCxPQUFPO1FBQ1g7SUFDSjtJQUNBLElBQUlNLE1BQU07UUFDTixPQUFPQyxNQUFNQyxJQUFJLENBQUMsSUFBSSxDQUFDN0IsYUFBYSxDQUFDOEIsTUFBTTtJQUMvQztBQUNKLEVBQ0EsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc2VydmljZS1yZWdpc3RyeS5qcz83Njk0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IFVyaVV0aWxzIH0gZnJvbSAnLi91dGlscy91cmktdXRpbHMuanMnO1xuLyoqXG4gKiBHZW5lcmljIHJlZ2lzdHJ5IGZvciBMYW5naXVtIHNlcnZpY2VzLCBidXQgY2FwYWJsZSBvZiBiZWluZyB1c2VkIHdpdGggZXh0ZW5kaW5nIHNlcnZpY2Ugc2V0cyBhcyB3ZWxsIChzdWNoIGFzIHRoZSBsc3AtY29tcGxldGUgTGFuZ2l1bUNvcmVTZXJ2aWNlcyBzZXQpXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0U2VydmljZVJlZ2lzdHJ5IHtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIG5ldyBgZmlsZUV4dGVuc2lvbk1hcGAgKG9yIGBsYW5ndWFnZUlkTWFwYCkgcHJvcGVydHkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXQgbWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxlRXh0ZW5zaW9uTWFwO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZmlsZUV4dGVuc2lvbk1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy50ZXh0RG9jdW1lbnRzID0gc2VydmljZXMgPT09IG51bGwgfHwgc2VydmljZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlcnZpY2VzLndvcmtzcGFjZS5UZXh0RG9jdW1lbnRzO1xuICAgIH1cbiAgICByZWdpc3RlcihsYW5ndWFnZSkge1xuICAgICAgICBjb25zdCBkYXRhID0gbGFuZ3VhZ2UuTGFuZ3VhZ2VNZXRhRGF0YTtcbiAgICAgICAgZm9yIChjb25zdCBleHQgb2YgZGF0YS5maWxlRXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZUV4dGVuc2lvbk1hcC5oYXMoZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIGZpbGUgZXh0ZW5zaW9uICR7ZXh0fSBpcyB1c2VkIGJ5IG11bHRpcGxlIGxhbmd1YWdlcy4gSXQgaXMgbm93IGFzc2lnbmVkIHRvICcke2RhdGEubGFuZ3VhZ2VJZH0nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maWxlRXh0ZW5zaW9uTWFwLnNldChleHQsIGxhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhbmd1YWdlSWRNYXAuc2V0KGRhdGEubGFuZ3VhZ2VJZCwgbGFuZ3VhZ2UpO1xuICAgICAgICBpZiAodGhpcy5sYW5ndWFnZUlkTWFwLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xldG9uID0gbGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpbmdsZXRvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZXJ2aWNlcyh1cmkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuc2luZ2xldG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpbmdsZXRvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYW5ndWFnZUlkTWFwLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNlcnZpY2UgcmVnaXN0cnkgaXMgZW1wdHkuIFVzZSBgcmVnaXN0ZXJgIHRvIHJlZ2lzdGVyIHRoZSBzZXJ2aWNlcyBvZiBhIGxhbmd1YWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSAoX2IgPSAoX2EgPSB0aGlzLnRleHREb2N1bWVudHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQodXJpKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmxhbmd1YWdlSWQ7XG4gICAgICAgIGlmIChsYW5ndWFnZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VzID0gdGhpcy5sYW5ndWFnZUlkTWFwLmdldChsYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHQgPSBVcmlVdGlscy5leHRuYW1lKHVyaSk7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VzID0gdGhpcy5maWxlRXh0ZW5zaW9uTWFwLmdldChleHQpO1xuICAgICAgICBpZiAoIXNlcnZpY2VzKSB7XG4gICAgICAgICAgICBpZiAobGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHNlcnZpY2UgcmVnaXN0cnkgY29udGFpbnMgbm8gc2VydmljZXMgZm9yIHRoZSBleHRlbnNpb24gJyR7ZXh0fScgZm9yIGxhbmd1YWdlICcke2xhbmd1YWdlSWR9Jy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHNlcnZpY2UgcmVnaXN0cnkgY29udGFpbnMgbm8gc2VydmljZXMgZm9yIHRoZSBleHRlbnNpb24gJyR7ZXh0fScuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcnZpY2VzO1xuICAgIH1cbiAgICBoYXNTZXJ2aWNlcyh1cmkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZ2V0U2VydmljZXModXJpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhbGwoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubGFuZ3VhZ2VJZE1hcC52YWx1ZXMoKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmljZS1yZWdpc3RyeS5qcy5tYXAiXSwibmFtZXMiOlsiVXJpVXRpbHMiLCJEZWZhdWx0U2VydmljZVJlZ2lzdHJ5IiwibWFwIiwiZmlsZUV4dGVuc2lvbk1hcCIsImNvbnN0cnVjdG9yIiwic2VydmljZXMiLCJsYW5ndWFnZUlkTWFwIiwiTWFwIiwidGV4dERvY3VtZW50cyIsIndvcmtzcGFjZSIsIlRleHREb2N1bWVudHMiLCJyZWdpc3RlciIsImxhbmd1YWdlIiwiZGF0YSIsIkxhbmd1YWdlTWV0YURhdGEiLCJleHQiLCJmaWxlRXh0ZW5zaW9ucyIsImhhcyIsImNvbnNvbGUiLCJ3YXJuIiwibGFuZ3VhZ2VJZCIsInNldCIsInNpemUiLCJzaW5nbGV0b24iLCJ1bmRlZmluZWQiLCJnZXRTZXJ2aWNlcyIsInVyaSIsIl9hIiwiX2IiLCJFcnJvciIsImdldCIsImV4dG5hbWUiLCJoYXNTZXJ2aWNlcyIsImFsbCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/service-registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/syntax-tree.js":
/*!*************************************************!*\
  !*** ./node_modules/langium/lib/syntax-tree.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractAstReflection: () => (/* binding */ AbstractAstReflection),\n/* harmony export */   isAstNode: () => (/* binding */ isAstNode),\n/* harmony export */   isAstNodeDescription: () => (/* binding */ isAstNodeDescription),\n/* harmony export */   isCompositeCstNode: () => (/* binding */ isCompositeCstNode),\n/* harmony export */   isLeafCstNode: () => (/* binding */ isLeafCstNode),\n/* harmony export */   isLinkingError: () => (/* binding */ isLinkingError),\n/* harmony export */   isReference: () => (/* binding */ isReference),\n/* harmony export */   isRootCstNode: () => (/* binding */ isRootCstNode)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ function isAstNode(obj) {\n    return typeof obj === \"object\" && obj !== null && typeof obj.$type === \"string\";\n}\nfunction isReference(obj) {\n    return typeof obj === \"object\" && obj !== null && typeof obj.$refText === \"string\";\n}\nfunction isAstNodeDescription(obj) {\n    return typeof obj === \"object\" && obj !== null && typeof obj.name === \"string\" && typeof obj.type === \"string\" && typeof obj.path === \"string\";\n}\nfunction isLinkingError(obj) {\n    return typeof obj === \"object\" && obj !== null && isAstNode(obj.container) && isReference(obj.reference) && typeof obj.message === \"string\";\n}\n/**\n * An abstract implementation of the {@link AstReflection} interface.\n * Serves to cache subtype computation results to improve performance throughout different parts of Langium.\n */ class AbstractAstReflection {\n    constructor(){\n        this.subtypes = {};\n        this.allSubtypes = {};\n    }\n    isInstance(node, type) {\n        return isAstNode(node) && this.isSubtype(node.$type, type);\n    }\n    isSubtype(subtype, supertype) {\n        if (subtype === supertype) {\n            return true;\n        }\n        let nested = this.subtypes[subtype];\n        if (!nested) {\n            nested = this.subtypes[subtype] = {};\n        }\n        const existing = nested[supertype];\n        if (existing !== undefined) {\n            return existing;\n        } else {\n            const result = this.computeIsSubtype(subtype, supertype);\n            nested[supertype] = result;\n            return result;\n        }\n    }\n    getAllSubTypes(type) {\n        const existing = this.allSubtypes[type];\n        if (existing) {\n            return existing;\n        } else {\n            const allTypes = this.getAllTypes();\n            const types = [];\n            for (const possibleSubType of allTypes){\n                if (this.isSubtype(possibleSubType, type)) {\n                    types.push(possibleSubType);\n                }\n            }\n            this.allSubtypes[type] = types;\n            return types;\n        }\n    }\n}\nfunction isCompositeCstNode(node) {\n    return typeof node === \"object\" && node !== null && Array.isArray(node.content);\n}\nfunction isLeafCstNode(node) {\n    return typeof node === \"object\" && node !== null && typeof node.tokenType === \"object\";\n}\nfunction isRootCstNode(node) {\n    return isCompositeCstNode(node) && typeof node.fullText === \"string\";\n} //# sourceMappingURL=syntax-tree.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc3ludGF4LXRyZWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDdkUsU0FBU0EsVUFBVUMsR0FBRztJQUN6QixPQUFPLE9BQU9BLFFBQVEsWUFBWUEsUUFBUSxRQUFRLE9BQU9BLElBQUlDLEtBQUssS0FBSztBQUMzRTtBQUNPLFNBQVNDLFlBQVlGLEdBQUc7SUFDM0IsT0FBTyxPQUFPQSxRQUFRLFlBQVlBLFFBQVEsUUFBUSxPQUFPQSxJQUFJRyxRQUFRLEtBQUs7QUFDOUU7QUFDTyxTQUFTQyxxQkFBcUJKLEdBQUc7SUFDcEMsT0FBTyxPQUFPQSxRQUFRLFlBQVlBLFFBQVEsUUFDbkMsT0FBT0EsSUFBSUssSUFBSSxLQUFLLFlBQ3BCLE9BQU9MLElBQUlNLElBQUksS0FBSyxZQUNwQixPQUFPTixJQUFJTyxJQUFJLEtBQUs7QUFDL0I7QUFDTyxTQUFTQyxlQUFlUixHQUFHO0lBQzlCLE9BQU8sT0FBT0EsUUFBUSxZQUFZQSxRQUFRLFFBQ25DRCxVQUFVQyxJQUFJUyxTQUFTLEtBQ3ZCUCxZQUFZRixJQUFJVSxTQUFTLEtBQ3pCLE9BQU9WLElBQUlXLE9BQU8sS0FBSztBQUNsQztBQUNBOzs7Q0FHQyxHQUNNLE1BQU1DO0lBQ1RDLGFBQWM7UUFDVixJQUFJLENBQUNDLFFBQVEsR0FBRyxDQUFDO1FBQ2pCLElBQUksQ0FBQ0MsV0FBVyxHQUFHLENBQUM7SUFDeEI7SUFDQUMsV0FBV0MsSUFBSSxFQUFFWCxJQUFJLEVBQUU7UUFDbkIsT0FBT1AsVUFBVWtCLFNBQVMsSUFBSSxDQUFDQyxTQUFTLENBQUNELEtBQUtoQixLQUFLLEVBQUVLO0lBQ3pEO0lBQ0FZLFVBQVVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFO1FBQzFCLElBQUlELFlBQVlDLFdBQVc7WUFDdkIsT0FBTztRQUNYO1FBQ0EsSUFBSUMsU0FBUyxJQUFJLENBQUNQLFFBQVEsQ0FBQ0ssUUFBUTtRQUNuQyxJQUFJLENBQUNFLFFBQVE7WUFDVEEsU0FBUyxJQUFJLENBQUNQLFFBQVEsQ0FBQ0ssUUFBUSxHQUFHLENBQUM7UUFDdkM7UUFDQSxNQUFNRyxXQUFXRCxNQUFNLENBQUNELFVBQVU7UUFDbEMsSUFBSUUsYUFBYUMsV0FBVztZQUN4QixPQUFPRDtRQUNYLE9BQ0s7WUFDRCxNQUFNRSxTQUFTLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNOLFNBQVNDO1lBQzlDQyxNQUFNLENBQUNELFVBQVUsR0FBR0k7WUFDcEIsT0FBT0E7UUFDWDtJQUNKO0lBQ0FFLGVBQWVwQixJQUFJLEVBQUU7UUFDakIsTUFBTWdCLFdBQVcsSUFBSSxDQUFDUCxXQUFXLENBQUNULEtBQUs7UUFDdkMsSUFBSWdCLFVBQVU7WUFDVixPQUFPQTtRQUNYLE9BQ0s7WUFDRCxNQUFNSyxXQUFXLElBQUksQ0FBQ0MsV0FBVztZQUNqQyxNQUFNQyxRQUFRLEVBQUU7WUFDaEIsS0FBSyxNQUFNQyxtQkFBbUJILFNBQVU7Z0JBQ3BDLElBQUksSUFBSSxDQUFDVCxTQUFTLENBQUNZLGlCQUFpQnhCLE9BQU87b0JBQ3ZDdUIsTUFBTUUsSUFBSSxDQUFDRDtnQkFDZjtZQUNKO1lBQ0EsSUFBSSxDQUFDZixXQUFXLENBQUNULEtBQUssR0FBR3VCO1lBQ3pCLE9BQU9BO1FBQ1g7SUFDSjtBQUNKO0FBQ08sU0FBU0csbUJBQW1CZixJQUFJO0lBQ25DLE9BQU8sT0FBT0EsU0FBUyxZQUFZQSxTQUFTLFFBQVFnQixNQUFNQyxPQUFPLENBQUNqQixLQUFLa0IsT0FBTztBQUNsRjtBQUNPLFNBQVNDLGNBQWNuQixJQUFJO0lBQzlCLE9BQU8sT0FBT0EsU0FBUyxZQUFZQSxTQUFTLFFBQVEsT0FBT0EsS0FBS29CLFNBQVMsS0FBSztBQUNsRjtBQUNPLFNBQVNDLGNBQWNyQixJQUFJO0lBQzlCLE9BQU9lLG1CQUFtQmYsU0FBUyxPQUFPQSxLQUFLc0IsUUFBUSxLQUFLO0FBQ2hFLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvc3ludGF4LXRyZWUuanM/NjEwOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZnVuY3Rpb24gaXNBc3ROb2RlKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iai4kdHlwZSA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWZlcmVuY2Uob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqLiRyZWZUZXh0ID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FzdE5vZGVEZXNjcmlwdGlvbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsXG4gICAgICAgICYmIHR5cGVvZiBvYmoubmFtZSA9PT0gJ3N0cmluZydcbiAgICAgICAgJiYgdHlwZW9mIG9iai50eXBlID09PSAnc3RyaW5nJ1xuICAgICAgICAmJiB0eXBlb2Ygb2JqLnBhdGggPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2luZ0Vycm9yKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGxcbiAgICAgICAgJiYgaXNBc3ROb2RlKG9iai5jb250YWluZXIpXG4gICAgICAgICYmIGlzUmVmZXJlbmNlKG9iai5yZWZlcmVuY2UpXG4gICAgICAgICYmIHR5cGVvZiBvYmoubWVzc2FnZSA9PT0gJ3N0cmluZyc7XG59XG4vKipcbiAqIEFuIGFic3RyYWN0IGltcGxlbWVudGF0aW9uIG9mIHRoZSB7QGxpbmsgQXN0UmVmbGVjdGlvbn0gaW50ZXJmYWNlLlxuICogU2VydmVzIHRvIGNhY2hlIHN1YnR5cGUgY29tcHV0YXRpb24gcmVzdWx0cyB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIHRocm91Z2hvdXQgZGlmZmVyZW50IHBhcnRzIG9mIExhbmdpdW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdEFzdFJlZmxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN1YnR5cGVzID0ge307XG4gICAgICAgIHRoaXMuYWxsU3VidHlwZXMgPSB7fTtcbiAgICB9XG4gICAgaXNJbnN0YW5jZShub2RlLCB0eXBlKSB7XG4gICAgICAgIHJldHVybiBpc0FzdE5vZGUobm9kZSkgJiYgdGhpcy5pc1N1YnR5cGUobm9kZS4kdHlwZSwgdHlwZSk7XG4gICAgfVxuICAgIGlzU3VidHlwZShzdWJ0eXBlLCBzdXBlcnR5cGUpIHtcbiAgICAgICAgaWYgKHN1YnR5cGUgPT09IHN1cGVydHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5lc3RlZCA9IHRoaXMuc3VidHlwZXNbc3VidHlwZV07XG4gICAgICAgIGlmICghbmVzdGVkKSB7XG4gICAgICAgICAgICBuZXN0ZWQgPSB0aGlzLnN1YnR5cGVzW3N1YnR5cGVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBuZXN0ZWRbc3VwZXJ0eXBlXTtcbiAgICAgICAgaWYgKGV4aXN0aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY29tcHV0ZUlzU3VidHlwZShzdWJ0eXBlLCBzdXBlcnR5cGUpO1xuICAgICAgICAgICAgbmVzdGVkW3N1cGVydHlwZV0gPSByZXN1bHQ7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEFsbFN1YlR5cGVzKHR5cGUpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmFsbFN1YnR5cGVzW3R5cGVdO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFR5cGVzID0gdGhpcy5nZXRBbGxUeXBlcygpO1xuICAgICAgICAgICAgY29uc3QgdHlwZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9zc2libGVTdWJUeXBlIG9mIGFsbFR5cGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdWJ0eXBlKHBvc3NpYmxlU3ViVHlwZSwgdHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZXMucHVzaChwb3NzaWJsZVN1YlR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWxsU3VidHlwZXNbdHlwZV0gPSB0eXBlcztcbiAgICAgICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBvc2l0ZUNzdE5vZGUobm9kZSkge1xuICAgIHJldHVybiB0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcgJiYgbm9kZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KG5vZGUuY29udGVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMZWFmQ3N0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBub2RlID09PSAnb2JqZWN0JyAmJiBub2RlICE9PSBudWxsICYmIHR5cGVvZiBub2RlLnRva2VuVHlwZSA9PT0gJ29iamVjdCc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSb290Q3N0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIGlzQ29tcG9zaXRlQ3N0Tm9kZShub2RlKSAmJiB0eXBlb2Ygbm9kZS5mdWxsVGV4dCA9PT0gJ3N0cmluZyc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zeW50YXgtdHJlZS5qcy5tYXAiXSwibmFtZXMiOlsiaXNBc3ROb2RlIiwib2JqIiwiJHR5cGUiLCJpc1JlZmVyZW5jZSIsIiRyZWZUZXh0IiwiaXNBc3ROb2RlRGVzY3JpcHRpb24iLCJuYW1lIiwidHlwZSIsInBhdGgiLCJpc0xpbmtpbmdFcnJvciIsImNvbnRhaW5lciIsInJlZmVyZW5jZSIsIm1lc3NhZ2UiLCJBYnN0cmFjdEFzdFJlZmxlY3Rpb24iLCJjb25zdHJ1Y3RvciIsInN1YnR5cGVzIiwiYWxsU3VidHlwZXMiLCJpc0luc3RhbmNlIiwibm9kZSIsImlzU3VidHlwZSIsInN1YnR5cGUiLCJzdXBlcnR5cGUiLCJuZXN0ZWQiLCJleGlzdGluZyIsInVuZGVmaW5lZCIsInJlc3VsdCIsImNvbXB1dGVJc1N1YnR5cGUiLCJnZXRBbGxTdWJUeXBlcyIsImFsbFR5cGVzIiwiZ2V0QWxsVHlwZXMiLCJ0eXBlcyIsInBvc3NpYmxlU3ViVHlwZSIsInB1c2giLCJpc0NvbXBvc2l0ZUNzdE5vZGUiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50IiwiaXNMZWFmQ3N0Tm9kZSIsInRva2VuVHlwZSIsImlzUm9vdENzdE5vZGUiLCJmdWxsVGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/syntax-tree.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/ast-utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/langium/lib/utils/ast-utils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignMandatoryProperties: () => (/* binding */ assignMandatoryProperties),\n/* harmony export */   copyAstNode: () => (/* binding */ copyAstNode),\n/* harmony export */   findLocalReferences: () => (/* binding */ findLocalReferences),\n/* harmony export */   findRootNode: () => (/* binding */ findRootNode),\n/* harmony export */   getContainerOfType: () => (/* binding */ getContainerOfType),\n/* harmony export */   getDocument: () => (/* binding */ getDocument),\n/* harmony export */   hasContainerOfType: () => (/* binding */ hasContainerOfType),\n/* harmony export */   linkContentToContainer: () => (/* binding */ linkContentToContainer),\n/* harmony export */   streamAllContents: () => (/* binding */ streamAllContents),\n/* harmony export */   streamAst: () => (/* binding */ streamAst),\n/* harmony export */   streamContents: () => (/* binding */ streamContents),\n/* harmony export */   streamReferences: () => (/* binding */ streamReferences)\n/* harmony export */ });\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _cst_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n/**\n * Link the `$container` and other related properties of every AST node that is directly contained\n * in the given `node`.\n */ function linkContentToContainer(node) {\n    for (const [name, value] of Object.entries(node)){\n        if (!name.startsWith(\"$\")) {\n            if (Array.isArray(value)) {\n                value.forEach((item, index)=>{\n                    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isAstNode)(item)) {\n                        item.$container = node;\n                        item.$containerProperty = name;\n                        item.$containerIndex = index;\n                    }\n                });\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isAstNode)(value)) {\n                value.$container = node;\n                value.$containerProperty = name;\n            }\n        }\n    }\n}\n/**\n * Walk along the hierarchy of containers from the given AST node to the root and return the first\n * node that matches the type predicate. If the start node itself matches, it is returned.\n * If no container matches, `undefined` is returned.\n */ function getContainerOfType(node, typePredicate) {\n    let item = node;\n    while(item){\n        if (typePredicate(item)) {\n            return item;\n        }\n        item = item.$container;\n    }\n    return undefined;\n}\n/**\n * Walk along the hierarchy of containers from the given AST node to the root and check for existence\n * of a container that matches the given predicate. The start node is included in the checks.\n */ function hasContainerOfType(node, predicate) {\n    let item = node;\n    while(item){\n        if (predicate(item)) {\n            return true;\n        }\n        item = item.$container;\n    }\n    return false;\n}\n/**\n * Retrieve the document in which the given AST node is contained. A reference to the document is\n * usually held by the root node of the AST.\n *\n * @throws an error if the node is not contained in a document.\n */ function getDocument(node) {\n    const rootNode = findRootNode(node);\n    const result = rootNode.$document;\n    if (!result) {\n        throw new Error(\"AST node has no document.\");\n    }\n    return result;\n}\n/**\n * Returns the root node of the given AST node by following the `$container` references.\n */ function findRootNode(node) {\n    while(node.$container){\n        node = node.$container;\n    }\n    return node;\n}\n/**\n * Create a stream of all AST nodes that are directly contained in the given node. This includes\n * single-valued as well as multi-valued (array) properties.\n */ function streamContents(node, options) {\n    if (!node) {\n        throw new Error(\"Node must be an AstNode.\");\n    }\n    const range = options === null || options === void 0 ? void 0 : options.range;\n    return new _stream_js__WEBPACK_IMPORTED_MODULE_1__.StreamImpl(()=>({\n            keys: Object.keys(node),\n            keyIndex: 0,\n            arrayIndex: 0\n        }), (state)=>{\n        while(state.keyIndex < state.keys.length){\n            const property = state.keys[state.keyIndex];\n            if (!property.startsWith(\"$\")) {\n                const value = node[property];\n                if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isAstNode)(value)) {\n                    state.keyIndex++;\n                    if (isAstNodeInRange(value, range)) {\n                        return {\n                            done: false,\n                            value\n                        };\n                    }\n                } else if (Array.isArray(value)) {\n                    while(state.arrayIndex < value.length){\n                        const index = state.arrayIndex++;\n                        const element = value[index];\n                        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isAstNode)(element) && isAstNodeInRange(element, range)) {\n                            return {\n                                done: false,\n                                value: element\n                            };\n                        }\n                    }\n                    state.arrayIndex = 0;\n                }\n            }\n            state.keyIndex++;\n        }\n        return _stream_js__WEBPACK_IMPORTED_MODULE_1__.DONE_RESULT;\n    });\n}\n/**\n * Create a stream of all AST nodes that are directly and indirectly contained in the given root node.\n * This does not include the root node itself.\n */ function streamAllContents(root, options) {\n    if (!root) {\n        throw new Error(\"Root node must be an AstNode.\");\n    }\n    return new _stream_js__WEBPACK_IMPORTED_MODULE_1__.TreeStreamImpl(root, (node)=>streamContents(node, options));\n}\n/**\n * Create a stream of all AST nodes that are directly and indirectly contained in the given root node,\n * including the root node itself.\n */ function streamAst(root, options) {\n    if (!root) {\n        throw new Error(\"Root node must be an AstNode.\");\n    } else if ((options === null || options === void 0 ? void 0 : options.range) && !isAstNodeInRange(root, options.range)) {\n        // Return an empty stream if the root node isn't in range\n        return new _stream_js__WEBPACK_IMPORTED_MODULE_1__.TreeStreamImpl(root, ()=>[]);\n    }\n    return new _stream_js__WEBPACK_IMPORTED_MODULE_1__.TreeStreamImpl(root, (node)=>streamContents(node, options), {\n        includeRoot: true\n    });\n}\nfunction isAstNodeInRange(astNode, range) {\n    var _a;\n    if (!range) {\n        return true;\n    }\n    const nodeRange = (_a = astNode.$cstNode) === null || _a === void 0 ? void 0 : _a.range;\n    if (!nodeRange) {\n        return false;\n    }\n    return (0,_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__.inRange)(nodeRange, range);\n}\n/**\n * Create a stream of all cross-references that are held by the given AST node. This includes\n * single-valued as well as multi-valued (array) properties.\n */ function streamReferences(node) {\n    return new _stream_js__WEBPACK_IMPORTED_MODULE_1__.StreamImpl(()=>({\n            keys: Object.keys(node),\n            keyIndex: 0,\n            arrayIndex: 0\n        }), (state)=>{\n        while(state.keyIndex < state.keys.length){\n            const property = state.keys[state.keyIndex];\n            if (!property.startsWith(\"$\")) {\n                const value = node[property];\n                if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isReference)(value)) {\n                    state.keyIndex++;\n                    return {\n                        done: false,\n                        value: {\n                            reference: value,\n                            container: node,\n                            property\n                        }\n                    };\n                } else if (Array.isArray(value)) {\n                    while(state.arrayIndex < value.length){\n                        const index = state.arrayIndex++;\n                        const element = value[index];\n                        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isReference)(element)) {\n                            return {\n                                done: false,\n                                value: {\n                                    reference: element,\n                                    container: node,\n                                    property,\n                                    index\n                                }\n                            };\n                        }\n                    }\n                    state.arrayIndex = 0;\n                }\n            }\n            state.keyIndex++;\n        }\n        return _stream_js__WEBPACK_IMPORTED_MODULE_1__.DONE_RESULT;\n    });\n}\n/**\n * Returns a Stream of references to the target node from the AstNode tree\n *\n * @param targetNode AstNode we are looking for\n * @param lookup AstNode where we search for references. If not provided, the root node of the document is used as the default value\n */ function findLocalReferences(targetNode, lookup = getDocument(targetNode).parseResult.value) {\n    const refs = [];\n    streamAst(lookup).forEach((node)=>{\n        streamReferences(node).forEach((refInfo)=>{\n            if (refInfo.reference.ref === targetNode) {\n                refs.push(refInfo.reference);\n            }\n        });\n    });\n    return (0,_stream_js__WEBPACK_IMPORTED_MODULE_1__.stream)(refs);\n}\n/**\n * Assigns all mandatory AST properties to the specified node.\n *\n * @param reflection Reflection object used to gather mandatory properties for the node.\n * @param node Specified node is modified in place and properties are directly assigned.\n */ function assignMandatoryProperties(reflection, node) {\n    const typeMetaData = reflection.getTypeMetaData(node.$type);\n    const genericNode = node;\n    for (const property of typeMetaData.properties){\n        // Only set the value if the property is not already set and if it has a default value\n        if (property.defaultValue !== undefined && genericNode[property.name] === undefined) {\n            genericNode[property.name] = copyDefaultValue(property.defaultValue);\n        }\n    }\n}\nfunction copyDefaultValue(propertyType) {\n    if (Array.isArray(propertyType)) {\n        return [\n            ...propertyType.map(copyDefaultValue)\n        ];\n    } else {\n        return propertyType;\n    }\n}\n/**\n * Creates a deep copy of the specified AST node.\n * The resulting copy will only contain semantically relevant information, such as the `$type` property and AST properties.\n *\n * References are copied without resolved cross reference. The specified function is used to rebuild them.\n */ function copyAstNode(node, buildReference) {\n    const copy = {\n        $type: node.$type\n    };\n    for (const [name, value] of Object.entries(node)){\n        if (!name.startsWith(\"$\")) {\n            if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isAstNode)(value)) {\n                copy[name] = copyAstNode(value, buildReference);\n            } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isReference)(value)) {\n                copy[name] = buildReference(copy, name, value.$refNode, value.$refText);\n            } else if (Array.isArray(value)) {\n                const copiedArray = [];\n                for (const element of value){\n                    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isAstNode)(element)) {\n                        copiedArray.push(copyAstNode(element, buildReference));\n                    } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_0__.isReference)(element)) {\n                        copiedArray.push(buildReference(copy, name, element.$refNode, element.$refText));\n                    } else {\n                        copiedArray.push(element);\n                    }\n                }\n                copy[name] = copiedArray;\n            } else {\n                copy[name] = value;\n            }\n        }\n    }\n    linkContentToContainer(copy);\n    return copy;\n} //# sourceMappingURL=ast-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvYXN0LXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNuQjtBQUNtQjtBQUNyQztBQUN6Qzs7O0NBR0MsR0FDTSxTQUFTTyx1QkFBdUJDLElBQUk7SUFDdkMsS0FBSyxNQUFNLENBQUNDLE1BQU1DLE1BQU0sSUFBSUMsT0FBT0MsT0FBTyxDQUFDSixNQUFPO1FBQzlDLElBQUksQ0FBQ0MsS0FBS0ksVUFBVSxDQUFDLE1BQU07WUFDdkIsSUFBSUMsTUFBTUMsT0FBTyxDQUFDTCxRQUFRO2dCQUN0QkEsTUFBTU0sT0FBTyxDQUFDLENBQUNDLE1BQU1DO29CQUNqQixJQUFJbEIsMERBQVNBLENBQUNpQixPQUFPO3dCQUNqQkEsS0FBS0UsVUFBVSxHQUFHWDt3QkFDbEJTLEtBQUtHLGtCQUFrQixHQUFHWDt3QkFDMUJRLEtBQUtJLGVBQWUsR0FBR0g7b0JBQzNCO2dCQUNKO1lBQ0osT0FDSyxJQUFJbEIsMERBQVNBLENBQUNVLFFBQVE7Z0JBQ3ZCQSxNQUFNUyxVQUFVLEdBQUdYO2dCQUNuQkUsTUFBTVUsa0JBQWtCLEdBQUdYO1lBQy9CO1FBQ0o7SUFDSjtBQUNKO0FBQ0E7Ozs7Q0FJQyxHQUNNLFNBQVNhLG1CQUFtQmQsSUFBSSxFQUFFZSxhQUFhO0lBQ2xELElBQUlOLE9BQU9UO0lBQ1gsTUFBT1MsS0FBTTtRQUNULElBQUlNLGNBQWNOLE9BQU87WUFDckIsT0FBT0E7UUFDWDtRQUNBQSxPQUFPQSxLQUFLRSxVQUFVO0lBQzFCO0lBQ0EsT0FBT0s7QUFDWDtBQUNBOzs7Q0FHQyxHQUNNLFNBQVNDLG1CQUFtQmpCLElBQUksRUFBRWtCLFNBQVM7SUFDOUMsSUFBSVQsT0FBT1Q7SUFDWCxNQUFPUyxLQUFNO1FBQ1QsSUFBSVMsVUFBVVQsT0FBTztZQUNqQixPQUFPO1FBQ1g7UUFDQUEsT0FBT0EsS0FBS0UsVUFBVTtJQUMxQjtJQUNBLE9BQU87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LW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi91dGlscy9hc3QtdXRpbHMuanM/NTU5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBpc0FzdE5vZGUsIGlzUmVmZXJlbmNlIH0gZnJvbSAnLi4vc3ludGF4LXRyZWUuanMnO1xuaW1wb3J0IHsgRE9ORV9SRVNVTFQsIHN0cmVhbSwgU3RyZWFtSW1wbCwgVHJlZVN0cmVhbUltcGwgfSBmcm9tICcuL3N0cmVhbS5qcyc7XG5pbXBvcnQgeyBpblJhbmdlIH0gZnJvbSAnLi9jc3QtdXRpbHMuanMnO1xuLyoqXG4gKiBMaW5rIHRoZSBgJGNvbnRhaW5lcmAgYW5kIG90aGVyIHJlbGF0ZWQgcHJvcGVydGllcyBvZiBldmVyeSBBU1Qgbm9kZSB0aGF0IGlzIGRpcmVjdGx5IGNvbnRhaW5lZFxuICogaW4gdGhlIGdpdmVuIGBub2RlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmtDb250ZW50VG9Db250YWluZXIobm9kZSkge1xuICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhub2RlKSkge1xuICAgICAgICBpZiAoIW5hbWUuc3RhcnRzV2l0aCgnJCcpKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3ROb2RlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLiRjb250YWluZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS4kY29udGFpbmVyUHJvcGVydHkgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS4kY29udGFpbmVySW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3ROb2RlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLiRjb250YWluZXIgPSBub2RlO1xuICAgICAgICAgICAgICAgIHZhbHVlLiRjb250YWluZXJQcm9wZXJ0eSA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFdhbGsgYWxvbmcgdGhlIGhpZXJhcmNoeSBvZiBjb250YWluZXJzIGZyb20gdGhlIGdpdmVuIEFTVCBub2RlIHRvIHRoZSByb290IGFuZCByZXR1cm4gdGhlIGZpcnN0XG4gKiBub2RlIHRoYXQgbWF0Y2hlcyB0aGUgdHlwZSBwcmVkaWNhdGUuIElmIHRoZSBzdGFydCBub2RlIGl0c2VsZiBtYXRjaGVzLCBpdCBpcyByZXR1cm5lZC5cbiAqIElmIG5vIGNvbnRhaW5lciBtYXRjaGVzLCBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRhaW5lck9mVHlwZShub2RlLCB0eXBlUHJlZGljYXRlKSB7XG4gICAgbGV0IGl0ZW0gPSBub2RlO1xuICAgIHdoaWxlIChpdGVtKSB7XG4gICAgICAgIGlmICh0eXBlUHJlZGljYXRlKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtID0gaXRlbS4kY29udGFpbmVyO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBXYWxrIGFsb25nIHRoZSBoaWVyYXJjaHkgb2YgY29udGFpbmVycyBmcm9tIHRoZSBnaXZlbiBBU1Qgbm9kZSB0byB0aGUgcm9vdCBhbmQgY2hlY2sgZm9yIGV4aXN0ZW5jZVxuICogb2YgYSBjb250YWluZXIgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBwcmVkaWNhdGUuIFRoZSBzdGFydCBub2RlIGlzIGluY2x1ZGVkIGluIHRoZSBjaGVja3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb250YWluZXJPZlR5cGUobm9kZSwgcHJlZGljYXRlKSB7XG4gICAgbGV0IGl0ZW0gPSBub2RlO1xuICAgIHdoaWxlIChpdGVtKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0gPSBpdGVtLiRjb250YWluZXI7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIGRvY3VtZW50IGluIHdoaWNoIHRoZSBnaXZlbiBBU1Qgbm9kZSBpcyBjb250YWluZWQuIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCBpc1xuICogdXN1YWxseSBoZWxkIGJ5IHRoZSByb290IG5vZGUgb2YgdGhlIEFTVC5cbiAqXG4gKiBAdGhyb3dzIGFuIGVycm9yIGlmIHRoZSBub2RlIGlzIG5vdCBjb250YWluZWQgaW4gYSBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50KG5vZGUpIHtcbiAgICBjb25zdCByb290Tm9kZSA9IGZpbmRSb290Tm9kZShub2RlKTtcbiAgICBjb25zdCByZXN1bHQgPSByb290Tm9kZS4kZG9jdW1lbnQ7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBU1Qgbm9kZSBoYXMgbm8gZG9jdW1lbnQuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgZ2l2ZW4gQVNUIG5vZGUgYnkgZm9sbG93aW5nIHRoZSBgJGNvbnRhaW5lcmAgcmVmZXJlbmNlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRSb290Tm9kZShub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUuJGNvbnRhaW5lcikge1xuICAgICAgICBub2RlID0gbm9kZS4kY29udGFpbmVyO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgc3RyZWFtIG9mIGFsbCBBU1Qgbm9kZXMgdGhhdCBhcmUgZGlyZWN0bHkgY29udGFpbmVkIGluIHRoZSBnaXZlbiBub2RlLiBUaGlzIGluY2x1ZGVzXG4gKiBzaW5nbGUtdmFsdWVkIGFzIHdlbGwgYXMgbXVsdGktdmFsdWVkIChhcnJheSkgcHJvcGVydGllcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbUNvbnRlbnRzKG5vZGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIG11c3QgYmUgYW4gQXN0Tm9kZS4nKTtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmFuZ2U7XG4gICAgcmV0dXJuIG5ldyBTdHJlYW1JbXBsKCgpID0+ICh7XG4gICAgICAgIGtleXM6IE9iamVjdC5rZXlzKG5vZGUpLFxuICAgICAgICBrZXlJbmRleDogMCxcbiAgICAgICAgYXJyYXlJbmRleDogMFxuICAgIH0pLCBzdGF0ZSA9PiB7XG4gICAgICAgIHdoaWxlIChzdGF0ZS5rZXlJbmRleCA8IHN0YXRlLmtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHN0YXRlLmtleXNbc3RhdGUua2V5SW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eS5zdGFydHNXaXRoKCckJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vZGVbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIGlmIChpc0FzdE5vZGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmtleUluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FzdE5vZGVJblJhbmdlKHZhbHVlLCByYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5hcnJheUluZGV4IDwgdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHN0YXRlLmFycmF5SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2YWx1ZVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3ROb2RlKGVsZW1lbnQpICYmIGlzQXN0Tm9kZUluUmFuZ2UoZWxlbWVudCwgcmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbGVtZW50IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYXJyYXlJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUua2V5SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHN0cmVhbSBvZiBhbGwgQVNUIG5vZGVzIHRoYXQgYXJlIGRpcmVjdGx5IGFuZCBpbmRpcmVjdGx5IGNvbnRhaW5lZCBpbiB0aGUgZ2l2ZW4gcm9vdCBub2RlLlxuICogVGhpcyBkb2VzIG5vdCBpbmNsdWRlIHRoZSByb290IG5vZGUgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtQWxsQ29udGVudHMocm9vdCwgb3B0aW9ucykge1xuICAgIGlmICghcm9vdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jvb3Qgbm9kZSBtdXN0IGJlIGFuIEFzdE5vZGUuJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVHJlZVN0cmVhbUltcGwocm9vdCwgbm9kZSA9PiBzdHJlYW1Db250ZW50cyhub2RlLCBvcHRpb25zKSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHN0cmVhbSBvZiBhbGwgQVNUIG5vZGVzIHRoYXQgYXJlIGRpcmVjdGx5IGFuZCBpbmRpcmVjdGx5IGNvbnRhaW5lZCBpbiB0aGUgZ2l2ZW4gcm9vdCBub2RlLFxuICogaW5jbHVkaW5nIHRoZSByb290IG5vZGUgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtQXN0KHJvb3QsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb290IG5vZGUgbXVzdCBiZSBhbiBBc3ROb2RlLicpO1xuICAgIH1cbiAgICBlbHNlIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJhbmdlKSAmJiAhaXNBc3ROb2RlSW5SYW5nZShyb290LCBvcHRpb25zLnJhbmdlKSkge1xuICAgICAgICAvLyBSZXR1cm4gYW4gZW1wdHkgc3RyZWFtIGlmIHRoZSByb290IG5vZGUgaXNuJ3QgaW4gcmFuZ2VcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlU3RyZWFtSW1wbChyb290LCAoKSA9PiBbXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVHJlZVN0cmVhbUltcGwocm9vdCwgbm9kZSA9PiBzdHJlYW1Db250ZW50cyhub2RlLCBvcHRpb25zKSwgeyBpbmNsdWRlUm9vdDogdHJ1ZSB9KTtcbn1cbmZ1bmN0aW9uIGlzQXN0Tm9kZUluUmFuZ2UoYXN0Tm9kZSwgcmFuZ2UpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZVJhbmdlID0gKF9hID0gYXN0Tm9kZS4kY3N0Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJhbmdlO1xuICAgIGlmICghbm9kZVJhbmdlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGluUmFuZ2Uobm9kZVJhbmdlLCByYW5nZSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHN0cmVhbSBvZiBhbGwgY3Jvc3MtcmVmZXJlbmNlcyB0aGF0IGFyZSBoZWxkIGJ5IHRoZSBnaXZlbiBBU1Qgbm9kZS4gVGhpcyBpbmNsdWRlc1xuICogc2luZ2xlLXZhbHVlZCBhcyB3ZWxsIGFzIG11bHRpLXZhbHVlZCAoYXJyYXkpIHByb3BlcnRpZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1SZWZlcmVuY2VzKG5vZGUpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUltcGwoKCkgPT4gKHtcbiAgICAgICAga2V5czogT2JqZWN0LmtleXMobm9kZSksXG4gICAgICAgIGtleUluZGV4OiAwLFxuICAgICAgICBhcnJheUluZGV4OiAwXG4gICAgfSksIHN0YXRlID0+IHtcbiAgICAgICAgd2hpbGUgKHN0YXRlLmtleUluZGV4IDwgc3RhdGUua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gc3RhdGUua2V5c1tzdGF0ZS5rZXlJbmRleF07XG4gICAgICAgICAgICBpZiAoIXByb3BlcnR5LnN0YXJ0c1dpdGgoJyQnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVmZXJlbmNlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5rZXlJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IHsgcmVmZXJlbmNlOiB2YWx1ZSwgY29udGFpbmVyOiBub2RlLCBwcm9wZXJ0eSB9IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5hcnJheUluZGV4IDwgdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHN0YXRlLmFycmF5SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2YWx1ZVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWZlcmVuY2UoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IHsgcmVmZXJlbmNlOiBlbGVtZW50LCBjb250YWluZXI6IG5vZGUsIHByb3BlcnR5LCBpbmRleCB9IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYXJyYXlJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUua2V5SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgfSk7XG59XG4vKipcbiAqIFJldHVybnMgYSBTdHJlYW0gb2YgcmVmZXJlbmNlcyB0byB0aGUgdGFyZ2V0IG5vZGUgZnJvbSB0aGUgQXN0Tm9kZSB0cmVlXG4gKlxuICogQHBhcmFtIHRhcmdldE5vZGUgQXN0Tm9kZSB3ZSBhcmUgbG9va2luZyBmb3JcbiAqIEBwYXJhbSBsb29rdXAgQXN0Tm9kZSB3aGVyZSB3ZSBzZWFyY2ggZm9yIHJlZmVyZW5jZXMuIElmIG5vdCBwcm92aWRlZCwgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgZG9jdW1lbnQgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZExvY2FsUmVmZXJlbmNlcyh0YXJnZXROb2RlLCBsb29rdXAgPSBnZXREb2N1bWVudCh0YXJnZXROb2RlKS5wYXJzZVJlc3VsdC52YWx1ZSkge1xuICAgIGNvbnN0IHJlZnMgPSBbXTtcbiAgICBzdHJlYW1Bc3QobG9va3VwKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICBzdHJlYW1SZWZlcmVuY2VzKG5vZGUpLmZvckVhY2gocmVmSW5mbyA9PiB7XG4gICAgICAgICAgICBpZiAocmVmSW5mby5yZWZlcmVuY2UucmVmID09PSB0YXJnZXROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHJlZkluZm8ucmVmZXJlbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cmVhbShyZWZzKTtcbn1cbi8qKlxuICogQXNzaWducyBhbGwgbWFuZGF0b3J5IEFTVCBwcm9wZXJ0aWVzIHRvIHRoZSBzcGVjaWZpZWQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gcmVmbGVjdGlvbiBSZWZsZWN0aW9uIG9iamVjdCB1c2VkIHRvIGdhdGhlciBtYW5kYXRvcnkgcHJvcGVydGllcyBmb3IgdGhlIG5vZGUuXG4gKiBAcGFyYW0gbm9kZSBTcGVjaWZpZWQgbm9kZSBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmQgcHJvcGVydGllcyBhcmUgZGlyZWN0bHkgYXNzaWduZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25NYW5kYXRvcnlQcm9wZXJ0aWVzKHJlZmxlY3Rpb24sIG5vZGUpIHtcbiAgICBjb25zdCB0eXBlTWV0YURhdGEgPSByZWZsZWN0aW9uLmdldFR5cGVNZXRhRGF0YShub2RlLiR0eXBlKTtcbiAgICBjb25zdCBnZW5lcmljTm9kZSA9IG5vZGU7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiB0eXBlTWV0YURhdGEucHJvcGVydGllcykge1xuICAgICAgICAvLyBPbmx5IHNldCB0aGUgdmFsdWUgaWYgdGhlIHByb3BlcnR5IGlzIG5vdCBhbHJlYWR5IHNldCBhbmQgaWYgaXQgaGFzIGEgZGVmYXVsdCB2YWx1ZVxuICAgICAgICBpZiAocHJvcGVydHkuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgZ2VuZXJpY05vZGVbcHJvcGVydHkubmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ2VuZXJpY05vZGVbcHJvcGVydHkubmFtZV0gPSBjb3B5RGVmYXVsdFZhbHVlKHByb3BlcnR5LmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb3B5RGVmYXVsdFZhbHVlKHByb3BlcnR5VHlwZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5VHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5wcm9wZXJ0eVR5cGUubWFwKGNvcHlEZWZhdWx0VmFsdWUpXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eVR5cGU7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIHRoZSBzcGVjaWZpZWQgQVNUIG5vZGUuXG4gKiBUaGUgcmVzdWx0aW5nIGNvcHkgd2lsbCBvbmx5IGNvbnRhaW4gc2VtYW50aWNhbGx5IHJlbGV2YW50IGluZm9ybWF0aW9uLCBzdWNoIGFzIHRoZSBgJHR5cGVgIHByb3BlcnR5IGFuZCBBU1QgcHJvcGVydGllcy5cbiAqXG4gKiBSZWZlcmVuY2VzIGFyZSBjb3BpZWQgd2l0aG91dCByZXNvbHZlZCBjcm9zcyByZWZlcmVuY2UuIFRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gaXMgdXNlZCB0byByZWJ1aWxkIHRoZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5QXN0Tm9kZShub2RlLCBidWlsZFJlZmVyZW5jZSkge1xuICAgIGNvbnN0IGNvcHkgPSB7ICR0eXBlOiBub2RlLiR0eXBlIH07XG4gICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG5vZGUpKSB7XG4gICAgICAgIGlmICghbmFtZS5zdGFydHNXaXRoKCckJykpIHtcbiAgICAgICAgICAgIGlmIChpc0FzdE5vZGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29weVtuYW1lXSA9IGNvcHlBc3ROb2RlKHZhbHVlLCBidWlsZFJlZmVyZW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZmVyZW5jZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb3B5W25hbWVdID0gYnVpbGRSZWZlcmVuY2UoY29weSwgbmFtZSwgdmFsdWUuJHJlZk5vZGUsIHZhbHVlLiRyZWZUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29waWVkQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN0Tm9kZShlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29waWVkQXJyYXkucHVzaChjb3B5QXN0Tm9kZShlbGVtZW50LCBidWlsZFJlZmVyZW5jZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmZXJlbmNlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3BpZWRBcnJheS5wdXNoKGJ1aWxkUmVmZXJlbmNlKGNvcHksIG5hbWUsIGVsZW1lbnQuJHJlZk5vZGUsIGVsZW1lbnQuJHJlZlRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcGllZEFycmF5LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29weVtuYW1lXSA9IGNvcGllZEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29weVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxpbmtDb250ZW50VG9Db250YWluZXIoY29weSk7XG4gICAgcmV0dXJuIGNvcHk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3QtdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbImlzQXN0Tm9kZSIsImlzUmVmZXJlbmNlIiwiRE9ORV9SRVNVTFQiLCJzdHJlYW0iLCJTdHJlYW1JbXBsIiwiVHJlZVN0cmVhbUltcGwiLCJpblJhbmdlIiwibGlua0NvbnRlbnRUb0NvbnRhaW5lciIsIm5vZGUiLCJuYW1lIiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwic3RhcnRzV2l0aCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCIkY29udGFpbmVyIiwiJGNvbnRhaW5lclByb3BlcnR5IiwiJGNvbnRhaW5lckluZGV4IiwiZ2V0Q29udGFpbmVyT2ZUeXBlIiwidHlwZVByZWRpY2F0ZSIsInVuZGVmaW5lZCIsImhhc0NvbnRhaW5lck9mVHlwZSIsInByZWRpY2F0ZSIsImdldERvY3VtZW50Iiwicm9vdE5vZGUiLCJmaW5kUm9vdE5vZGUiLCJyZXN1bHQiLCIkZG9jdW1lbnQiLCJFcnJvciIsInN0cmVhbUNvbnRlbnRzIiwib3B0aW9ucyIsInJhbmdlIiwia2V5cyIsImtleUluZGV4IiwiYXJyYXlJbmRleCIsInN0YXRlIiwibGVuZ3RoIiwicHJvcGVydHkiLCJpc0FzdE5vZGVJblJhbmdlIiwiZG9uZSIsImVsZW1lbnQiLCJzdHJlYW1BbGxDb250ZW50cyIsInJvb3QiLCJzdHJlYW1Bc3QiLCJpbmNsdWRlUm9vdCIsImFzdE5vZGUiLCJfYSIsIm5vZGVSYW5nZSIsIiRjc3ROb2RlIiwic3RyZWFtUmVmZXJlbmNlcyIsInJlZmVyZW5jZSIsImNvbnRhaW5lciIsImZpbmRMb2NhbFJlZmVyZW5jZXMiLCJ0YXJnZXROb2RlIiwibG9va3VwIiwicGFyc2VSZXN1bHQiLCJyZWZzIiwicmVmSW5mbyIsInJlZiIsInB1c2giLCJhc3NpZ25NYW5kYXRvcnlQcm9wZXJ0aWVzIiwicmVmbGVjdGlvbiIsInR5cGVNZXRhRGF0YSIsImdldFR5cGVNZXRhRGF0YSIsIiR0eXBlIiwiZ2VuZXJpY05vZGUiLCJwcm9wZXJ0aWVzIiwiZGVmYXVsdFZhbHVlIiwiY29weURlZmF1bHRWYWx1ZSIsInByb3BlcnR5VHlwZSIsIm1hcCIsImNvcHlBc3ROb2RlIiwiYnVpbGRSZWZlcmVuY2UiLCJjb3B5IiwiJHJlZk5vZGUiLCIkcmVmVGV4dCIsImNvcGllZEFycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/ast-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/caching.js":
/*!***************************************************!*\
  !*** ./node_modules/langium/lib/utils/caching.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextCache: () => (/* binding */ ContextCache),\n/* harmony export */   DisposableCache: () => (/* binding */ DisposableCache),\n/* harmony export */   DocumentCache: () => (/* binding */ DocumentCache),\n/* harmony export */   SimpleCache: () => (/* binding */ SimpleCache),\n/* harmony export */   WorkspaceCache: () => (/* binding */ WorkspaceCache)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ class DisposableCache {\n    constructor(){\n        this.toDispose = [];\n        this.isDisposed = false;\n    }\n    onDispose(disposable) {\n        this.toDispose.push(disposable);\n    }\n    dispose() {\n        this.throwIfDisposed();\n        this.clear();\n        this.isDisposed = true;\n        this.toDispose.forEach((disposable)=>disposable.dispose());\n    }\n    throwIfDisposed() {\n        if (this.isDisposed) {\n            throw new Error(\"This cache has already been disposed\");\n        }\n    }\n}\nclass SimpleCache extends DisposableCache {\n    constructor(){\n        super(...arguments);\n        this.cache = new Map();\n    }\n    has(key) {\n        this.throwIfDisposed();\n        return this.cache.has(key);\n    }\n    set(key, value) {\n        this.throwIfDisposed();\n        this.cache.set(key, value);\n    }\n    get(key, provider) {\n        this.throwIfDisposed();\n        if (this.cache.has(key)) {\n            return this.cache.get(key);\n        } else if (provider) {\n            const value = provider();\n            this.cache.set(key, value);\n            return value;\n        } else {\n            return undefined;\n        }\n    }\n    delete(key) {\n        this.throwIfDisposed();\n        return this.cache.delete(key);\n    }\n    clear() {\n        this.throwIfDisposed();\n        this.cache.clear();\n    }\n}\nclass ContextCache extends DisposableCache {\n    constructor(converter){\n        super();\n        this.cache = new Map();\n        this.converter = converter !== null && converter !== void 0 ? converter : (value)=>value;\n    }\n    has(contextKey, key) {\n        this.throwIfDisposed();\n        return this.cacheForContext(contextKey).has(key);\n    }\n    set(contextKey, key, value) {\n        this.throwIfDisposed();\n        this.cacheForContext(contextKey).set(key, value);\n    }\n    get(contextKey, key, provider) {\n        this.throwIfDisposed();\n        const contextCache = this.cacheForContext(contextKey);\n        if (contextCache.has(key)) {\n            return contextCache.get(key);\n        } else if (provider) {\n            const value = provider();\n            contextCache.set(key, value);\n            return value;\n        } else {\n            return undefined;\n        }\n    }\n    delete(contextKey, key) {\n        this.throwIfDisposed();\n        return this.cacheForContext(contextKey).delete(key);\n    }\n    clear(contextKey) {\n        this.throwIfDisposed();\n        if (contextKey) {\n            const mapKey = this.converter(contextKey);\n            this.cache.delete(mapKey);\n        } else {\n            this.cache.clear();\n        }\n    }\n    cacheForContext(contextKey) {\n        const mapKey = this.converter(contextKey);\n        let documentCache = this.cache.get(mapKey);\n        if (!documentCache) {\n            documentCache = new Map();\n            this.cache.set(mapKey, documentCache);\n        }\n        return documentCache;\n    }\n}\n/**\n * Every key/value pair in this cache is scoped to a document.\n * If this document is changed or deleted, all associated key/value pairs are deleted.\n */ class DocumentCache extends ContextCache {\n    /**\n     * Creates a new document cache.\n     *\n     * @param sharedServices Service container instance to hook into document lifecycle events.\n     * @param state Optional document state on which the cache should evict.\n     * If not provided, the cache will evict on `DocumentBuilder#onUpdate`.\n     * *Deleted* documents are considered in both cases.\n     *\n     * Providing a state here will use `DocumentBuilder#onDocumentPhase` instead,\n     * which triggers on all documents that have been affected by this change, assuming that the\n     * state is `DocumentState.Linked` or a later state.\n     */ constructor(sharedServices, state){\n        super((uri)=>uri.toString());\n        if (state) {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onDocumentPhase(state, (document)=>{\n                this.clear(document.uri.toString());\n            }));\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate((_changed, deleted)=>{\n                for (const uri of deleted){\n                    this.clear(uri);\n                }\n            }));\n        } else {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate((changed, deleted)=>{\n                const allUris = changed.concat(deleted); // react on both changed and deleted documents\n                for (const uri of allUris){\n                    this.clear(uri);\n                }\n            }));\n        }\n    }\n}\n/**\n * Every key/value pair in this cache is scoped to the whole workspace.\n * If any document in the workspace is added, changed or deleted, the whole cache is evicted.\n */ class WorkspaceCache extends SimpleCache {\n    /**\n     * Creates a new workspace cache.\n     *\n     * @param sharedServices Service container instance to hook into document lifecycle events.\n     * @param state Optional document state on which the cache should evict.\n     * If not provided, the cache will evict on `DocumentBuilder#onUpdate`.\n     * *Deleted* documents are considered in both cases.\n     */ constructor(sharedServices, state){\n        super();\n        if (state) {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onBuildPhase(state, ()=>{\n                this.clear();\n            }));\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate((_changed, deleted)=>{\n                if (deleted.length > 0) {\n                    this.clear();\n                }\n            }));\n        } else {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate(()=>{\n                this.clear();\n            }));\n        }\n    }\n} //# sourceMappingURL=caching.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvY2FjaGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUN2RSxNQUFNQTtJQUNUQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxTQUFTLEdBQUcsRUFBRTtRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztJQUN0QjtJQUNBQyxVQUFVQyxVQUFVLEVBQUU7UUFDbEIsSUFBSSxDQUFDSCxTQUFTLENBQUNJLElBQUksQ0FBQ0Q7SUFDeEI7SUFDQUUsVUFBVTtRQUNOLElBQUksQ0FBQ0MsZUFBZTtRQUNwQixJQUFJLENBQUNDLEtBQUs7UUFDVixJQUFJLENBQUNOLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNELFNBQVMsQ0FBQ1EsT0FBTyxDQUFDTCxDQUFBQSxhQUFjQSxXQUFXRSxPQUFPO0lBQzNEO0lBQ0FDLGtCQUFrQjtRQUNkLElBQUksSUFBSSxDQUFDTCxVQUFVLEVBQUU7WUFDakIsTUFBTSxJQUFJUSxNQUFNO1FBQ3BCO0lBQ0o7QUFDSjtBQUNPLE1BQU1DLG9CQUFvQlo7SUFDN0JDLGFBQWM7UUFDVixLQUFLLElBQUlZO1FBQ1QsSUFBSSxDQUFDQyxLQUFLLEdBQUcsSUFBSUM7SUFDckI7SUFDQUMsSUFBSUMsR0FBRyxFQUFFO1FBQ0wsSUFBSSxDQUFDVCxlQUFlO1FBQ3BCLE9BQU8sSUFBSSxDQUFDTSxLQUFLLENBQUNFLEdBQUcsQ0FBQ0M7SUFDMUI7SUFDQUMsSUFBSUQsR0FBRyxFQUFFRSxLQUFLLEVBQUU7UUFDWixJQUFJLENBQUNYLGVBQWU7UUFDcEIsSUFBSSxDQUFDTSxLQUFLLENBQUNJLEdBQUcsQ0FBQ0QsS0FBS0U7SUFDeEI7SUFDQUMsSUFBSUgsR0FBRyxFQUFFSSxRQUFRLEVBQUU7UUFDZixJQUFJLENBQUNiLGVBQWU7UUFDcEIsSUFBSSxJQUFJLENBQUNNLEtBQUssQ0FBQ0UsR0FBRyxDQUFDQyxNQUFNO1lBQ3JCLE9BQU8sSUFBSSxDQUFDSCxL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QUFJLENBQUMvQixLQUFLO1lBQ2Q7UUFDSjtJQUNKO0FBQ0osRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi91dGlscy9jYWNoaW5nLmpzPzc4ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjMgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGNsYXNzIERpc3Bvc2FibGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudG9EaXNwb3NlID0gW107XG4gICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBvbkRpc3Bvc2UoZGlzcG9zYWJsZSkge1xuICAgICAgICB0aGlzLnRvRGlzcG9zZS5wdXNoKGRpc3Bvc2FibGUpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudG9EaXNwb3NlLmZvckVhY2goZGlzcG9zYWJsZSA9PiBkaXNwb3NhYmxlLmRpc3Bvc2UoKSk7XG4gICAgfVxuICAgIHRocm93SWZEaXNwb3NlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGNhY2hlIGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTaW1wbGVDYWNoZSBleHRlbmRzIERpc3Bvc2FibGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuaGFzKGtleSk7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBnZXQoa2V5LCBwcm92aWRlcikge1xuICAgICAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcHJvdmlkZXIoKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgICAgICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb250ZXh0Q2FjaGUgZXh0ZW5kcyBEaXNwb3NhYmxlQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbnZlcnRlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IGNvbnZlcnRlciAhPT0gbnVsbCAmJiBjb252ZXJ0ZXIgIT09IHZvaWQgMCA/IGNvbnZlcnRlciA6ICh2YWx1ZSA9PiB2YWx1ZSk7XG4gICAgfVxuICAgIGhhcyhjb250ZXh0S2V5LCBrZXkpIHtcbiAgICAgICAgdGhpcy50aHJvd0lmRGlzcG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVGb3JDb250ZXh0KGNvbnRleHRLZXkpLmhhcyhrZXkpO1xuICAgIH1cbiAgICBzZXQoY29udGV4dEtleSwga2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgICAgICB0aGlzLmNhY2hlRm9yQ29udGV4dChjb250ZXh0S2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldChjb250ZXh0S2V5LCBrZXksIHByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRDYWNoZSA9IHRoaXMuY2FjaGVGb3JDb250ZXh0KGNvbnRleHRLZXkpO1xuICAgICAgICBpZiAoY29udGV4dENhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dENhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3ZpZGVyKCk7XG4gICAgICAgICAgICBjb250ZXh0Q2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUoY29udGV4dEtleSwga2V5KSB7XG4gICAgICAgIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlRm9yQ29udGV4dChjb250ZXh0S2V5KS5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgY2xlYXIoY29udGV4dEtleSkge1xuICAgICAgICB0aGlzLnRocm93SWZEaXNwb3NlZCgpO1xuICAgICAgICBpZiAoY29udGV4dEtleSkge1xuICAgICAgICAgICAgY29uc3QgbWFwS2V5ID0gdGhpcy5jb252ZXJ0ZXIoY29udGV4dEtleSk7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLmRlbGV0ZShtYXBLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhY2hlRm9yQ29udGV4dChjb250ZXh0S2V5KSB7XG4gICAgICAgIGNvbnN0IG1hcEtleSA9IHRoaXMuY29udmVydGVyKGNvbnRleHRLZXkpO1xuICAgICAgICBsZXQgZG9jdW1lbnRDYWNoZSA9IHRoaXMuY2FjaGUuZ2V0KG1hcEtleSk7XG4gICAgICAgIGlmICghZG9jdW1lbnRDYWNoZSkge1xuICAgICAgICAgICAgZG9jdW1lbnRDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KG1hcEtleSwgZG9jdW1lbnRDYWNoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50Q2FjaGU7XG4gICAgfVxufVxuLyoqXG4gKiBFdmVyeSBrZXkvdmFsdWUgcGFpciBpbiB0aGlzIGNhY2hlIGlzIHNjb3BlZCB0byBhIGRvY3VtZW50LlxuICogSWYgdGhpcyBkb2N1bWVudCBpcyBjaGFuZ2VkIG9yIGRlbGV0ZWQsIGFsbCBhc3NvY2lhdGVkIGtleS92YWx1ZSBwYWlycyBhcmUgZGVsZXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERvY3VtZW50Q2FjaGUgZXh0ZW5kcyBDb250ZXh0Q2FjaGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZG9jdW1lbnQgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2hhcmVkU2VydmljZXMgU2VydmljZSBjb250YWluZXIgaW5zdGFuY2UgdG8gaG9vayBpbnRvIGRvY3VtZW50IGxpZmVjeWNsZSBldmVudHMuXG4gICAgICogQHBhcmFtIHN0YXRlIE9wdGlvbmFsIGRvY3VtZW50IHN0YXRlIG9uIHdoaWNoIHRoZSBjYWNoZSBzaG91bGQgZXZpY3QuXG4gICAgICogSWYgbm90IHByb3ZpZGVkLCB0aGUgY2FjaGUgd2lsbCBldmljdCBvbiBgRG9jdW1lbnRCdWlsZGVyI29uVXBkYXRlYC5cbiAgICAgKiAqRGVsZXRlZCogZG9jdW1lbnRzIGFyZSBjb25zaWRlcmVkIGluIGJvdGggY2FzZXMuXG4gICAgICpcbiAgICAgKiBQcm92aWRpbmcgYSBzdGF0ZSBoZXJlIHdpbGwgdXNlIGBEb2N1bWVudEJ1aWxkZXIjb25Eb2N1bWVudFBoYXNlYCBpbnN0ZWFkLFxuICAgICAqIHdoaWNoIHRyaWdnZXJzIG9uIGFsbCBkb2N1bWVudHMgdGhhdCBoYXZlIGJlZW4gYWZmZWN0ZWQgYnkgdGhpcyBjaGFuZ2UsIGFzc3VtaW5nIHRoYXQgdGhlXG4gICAgICogc3RhdGUgaXMgYERvY3VtZW50U3RhdGUuTGlua2VkYCBvciBhIGxhdGVyIHN0YXRlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNoYXJlZFNlcnZpY2VzLCBzdGF0ZSkge1xuICAgICAgICBzdXBlcih1cmkgPT4gdXJpLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudG9EaXNwb3NlLnB1c2goc2hhcmVkU2VydmljZXMud29ya3NwYWNlLkRvY3VtZW50QnVpbGRlci5vbkRvY3VtZW50UGhhc2Uoc3RhdGUsIGRvY3VtZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKGRvY3VtZW50LnVyaS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRoaXMudG9EaXNwb3NlLnB1c2goc2hhcmVkU2VydmljZXMud29ya3NwYWNlLkRvY3VtZW50QnVpbGRlci5vblVwZGF0ZSgoX2NoYW5nZWQsIGRlbGV0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVyaSBvZiBkZWxldGVkKSB7IC8vIHJlYWN0IG9ubHkgb24gZGVsZXRlZCBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcih1cmkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9EaXNwb3NlLnB1c2goc2hhcmVkU2VydmljZXMud29ya3NwYWNlLkRvY3VtZW50QnVpbGRlci5vblVwZGF0ZSgoY2hhbmdlZCwgZGVsZXRlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFVyaXMgPSBjaGFuZ2VkLmNvbmNhdChkZWxldGVkKTsgLy8gcmVhY3Qgb24gYm90aCBjaGFuZ2VkIGFuZCBkZWxldGVkIGRvY3VtZW50c1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdXJpIG9mIGFsbFVyaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcih1cmkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRXZlcnkga2V5L3ZhbHVlIHBhaXIgaW4gdGhpcyBjYWNoZSBpcyBzY29wZWQgdG8gdGhlIHdob2xlIHdvcmtzcGFjZS5cbiAqIElmIGFueSBkb2N1bWVudCBpbiB0aGUgd29ya3NwYWNlIGlzIGFkZGVkLCBjaGFuZ2VkIG9yIGRlbGV0ZWQsIHRoZSB3aG9sZSBjYWNoZSBpcyBldmljdGVkLlxuICovXG5leHBvcnQgY2xhc3MgV29ya3NwYWNlQ2FjaGUgZXh0ZW5kcyBTaW1wbGVDYWNoZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB3b3Jrc3BhY2UgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2hhcmVkU2VydmljZXMgU2VydmljZSBjb250YWluZXIgaW5zdGFuY2UgdG8gaG9vayBpbnRvIGRvY3VtZW50IGxpZmVjeWNsZSBldmVudHMuXG4gICAgICogQHBhcmFtIHN0YXRlIE9wdGlvbmFsIGRvY3VtZW50IHN0YXRlIG9uIHdoaWNoIHRoZSBjYWNoZSBzaG91bGQgZXZpY3QuXG4gICAgICogSWYgbm90IHByb3ZpZGVkLCB0aGUgY2FjaGUgd2lsbCBldmljdCBvbiBgRG9jdW1lbnRCdWlsZGVyI29uVXBkYXRlYC5cbiAgICAgKiAqRGVsZXRlZCogZG9jdW1lbnRzIGFyZSBjb25zaWRlcmVkIGluIGJvdGggY2FzZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2hhcmVkU2VydmljZXMsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50b0Rpc3Bvc2UucHVzaChzaGFyZWRTZXJ2aWNlcy53b3Jrc3BhY2UuRG9jdW1lbnRCdWlsZGVyLm9uQnVpbGRQaGFzZShzdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRoaXMudG9EaXNwb3NlLnB1c2goc2hhcmVkU2VydmljZXMud29ya3NwYWNlLkRvY3VtZW50QnVpbGRlci5vblVwZGF0ZSgoX2NoYW5nZWQsIGRlbGV0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlZC5sZW5ndGggPiAwKSB7IC8vIHJlYWN0IG9ubHkgb24gZGVsZXRlZCBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9EaXNwb3NlLnB1c2goc2hhcmVkU2VydmljZXMud29ya3NwYWNlLkRvY3VtZW50QnVpbGRlci5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGluZy5qcy5tYXAiXSwibmFtZXMiOlsiRGlzcG9zYWJsZUNhY2hlIiwiY29uc3RydWN0b3IiLCJ0b0Rpc3Bvc2UiLCJpc0Rpc3Bvc2VkIiwib25EaXNwb3NlIiwiZGlzcG9zYWJsZSIsInB1c2giLCJkaXNwb3NlIiwidGhyb3dJZkRpc3Bvc2VkIiwiY2xlYXIiLCJmb3JFYWNoIiwiRXJyb3IiLCJTaW1wbGVDYWNoZSIsImFyZ3VtZW50cyIsImNhY2hlIiwiTWFwIiwiaGFzIiwia2V5Iiwic2V0IiwidmFsdWUiLCJnZXQiLCJwcm92aWRlciIsInVuZGVmaW5lZCIsImRlbGV0ZSIsIkNvbnRleHRDYWNoZSIsImNvbnZlcnRlciIsImNvbnRleHRLZXkiLCJjYWNoZUZvckNvbnRleHQiLCJjb250ZXh0Q2FjaGUiLCJtYXBLZXkiLCJkb2N1bWVudENhY2hlIiwiRG9jdW1lbnRDYWNoZSIsInNoYXJlZFNlcnZpY2VzIiwic3RhdGUiLCJ1cmkiLCJ0b1N0cmluZyIsIndvcmtzcGFjZSIsIkRvY3VtZW50QnVpbGRlciIsIm9uRG9jdW1lbnRQaGFzZSIsImRvY3VtZW50Iiwib25VcGRhdGUiLCJfY2hhbmdlZCIsImRlbGV0ZWQiLCJjaGFuZ2VkIiwiYWxsVXJpcyIsImNvbmNhdCIsIldvcmtzcGFjZUNhY2hlIiwib25CdWlsZFBoYXNlIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/caching.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/collections.js":
/*!*******************************************************!*\
  !*** ./node_modules/langium/lib/utils/collections.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BiMap: () => (/* binding */ BiMap),\n/* harmony export */   MultiMap: () => (/* binding */ MultiMap)\n/* harmony export */ });\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n/**\n * A multimap is a variation of a Map that has potentially multiple values for every key.\n */ class MultiMap {\n    constructor(elements){\n        this.map = new Map();\n        if (elements) {\n            for (const [key, value] of elements){\n                this.add(key, value);\n            }\n        }\n    }\n    /**\n     * The total number of values in the multimap.\n     */ get size() {\n        return _stream_js__WEBPACK_IMPORTED_MODULE_0__.Reduction.sum((0,_stream_js__WEBPACK_IMPORTED_MODULE_0__.stream)(this.map.values()).map((a)=>a.length));\n    }\n    /**\n     * Clear all entries in the multimap.\n     */ clear() {\n        this.map.clear();\n    }\n    /**\n     * Operates differently depending on whether a `value` is given:\n     *  * With a value, this method deletes the specific key / value pair from the multimap.\n     *  * Without a value, all values associated with the given key are deleted.\n     *\n     * @returns `true` if a value existed and has been removed, or `false` if the specified\n     *     key / value does not exist.\n     */ delete(key, value) {\n        if (value === undefined) {\n            return this.map.delete(key);\n        } else {\n            const values = this.map.get(key);\n            if (values) {\n                const index = values.indexOf(value);\n                if (index >= 0) {\n                    if (values.length === 1) {\n                        this.map.delete(key);\n                    } else {\n                        values.splice(index, 1);\n                    }\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n    /**\n     * Returns an array of all values associated with the given key. If no value exists,\n     * an empty array is returned.\n     *\n     * _Note:_ The returned array is assumed not to be modified. Use the `set` method to add a\n     * value and `delete` to remove a value from the multimap.\n     */ get(key) {\n        var _a;\n        return (_a = this.map.get(key)) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * Operates differently depending on whether a `value` is given:\n     *  * With a value, this method returns `true` if the specific key / value pair is present in the multimap.\n     *  * Without a value, this method returns `true` if the given key is present in the multimap.\n     */ has(key, value) {\n        if (value === undefined) {\n            return this.map.has(key);\n        } else {\n            const values = this.map.get(key);\n            if (values) {\n                return values.indexOf(value) >= 0;\n            }\n            return false;\n        }\n    }\n    /**\n     * Add the given key / value pair to the multimap.\n     */ add(key, value) {\n        if (this.map.has(key)) {\n            this.map.get(key).push(value);\n        } else {\n            this.map.set(key, [\n                value\n            ]);\n        }\n        return this;\n    }\n    /**\n     * Add the given set of key / value pairs to the multimap.\n     */ addAll(key, values) {\n        if (this.map.has(key)) {\n            this.map.get(key).push(...values);\n        } else {\n            this.map.set(key, Array.from(values));\n        }\n        return this;\n    }\n    /**\n     * Invokes the given callback function for every key / value pair in the multimap.\n     */ forEach(callbackfn) {\n        this.map.forEach((array, key)=>array.forEach((value)=>callbackfn(value, key, this)));\n    }\n    /**\n     * Returns an iterator of key, value pairs for every entry in the map.\n     */ [Symbol.iterator]() {\n        return this.entries().iterator();\n    }\n    /**\n     * Returns a stream of key, value pairs for every entry in the map.\n     */ entries() {\n        return (0,_stream_js__WEBPACK_IMPORTED_MODULE_0__.stream)(this.map.entries()).flatMap(([key, array])=>array.map((value)=>[\n                    key,\n                    value\n                ]));\n    }\n    /**\n     * Returns a stream of keys in the map.\n     */ keys() {\n        return (0,_stream_js__WEBPACK_IMPORTED_MODULE_0__.stream)(this.map.keys());\n    }\n    /**\n     * Returns a stream of values in the map.\n     */ values() {\n        return (0,_stream_js__WEBPACK_IMPORTED_MODULE_0__.stream)(this.map.values()).flat();\n    }\n    /**\n     * Returns a stream of key, value set pairs for every key in the map.\n     */ entriesGroupedByKey() {\n        return (0,_stream_js__WEBPACK_IMPORTED_MODULE_0__.stream)(this.map.entries());\n    }\n}\nclass BiMap {\n    get size() {\n        return this.map.size;\n    }\n    constructor(elements){\n        this.map = new Map();\n        this.inverse = new Map();\n        if (elements) {\n            for (const [key, value] of elements){\n                this.set(key, value);\n            }\n        }\n    }\n    clear() {\n        this.map.clear();\n        this.inverse.clear();\n    }\n    set(key, value) {\n        this.map.set(key, value);\n        this.inverse.set(value, key);\n        return this;\n    }\n    get(key) {\n        return this.map.get(key);\n    }\n    getKey(value) {\n        return this.inverse.get(value);\n    }\n    delete(key) {\n        const value = this.map.get(key);\n        if (value !== undefined) {\n            this.map.delete(key);\n            this.inverse.delete(value);\n            return true;\n        }\n        return false;\n    }\n} //# sourceMappingURL=collections.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvY29sbGVjdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQzlCO0FBQ2hEOztDQUVDLEdBQ00sTUFBTUU7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsR0FBRyxHQUFHLElBQUlDO1FBQ2YsSUFBSUYsVUFBVTtZQUNWLEtBQUssTUFBTSxDQUFDRyxLQUFLQyxNQUFNLElBQUlKLFNBQVU7Z0JBQ2pDLElBQUksQ0FBQ0ssR0FBRyxDQUFDRixLQUFLQztZQUNsQjtRQUNKO0lBQ0o7SUFDQTs7S0FFQyxHQUNELElBQUlFLE9BQU87UUFDUCxPQUFPVixpREFBU0EsQ0FBQ1csR0FBRyxDQUFDVixrREFBTUEsQ0FBQyxJQUFJLENBQUNJLEdBQUcsQ0FBQ08sTUFBTSxJQUFJUCxHQUFHLENBQUNRLENBQUFBLElBQUtBLEVBQUVDLE1BQU07SUFDcEU7SUFDQTs7S0FFQyxHQUNEQyxRQUFRO1FBQ0osSUFBSSxDQUFDVixHQUFHLENBQUNVLEtBQUs7SUFDbEI7SUFDQTs7Ozs7OztLQU9DLEdBQ0RDLE9BQU9ULEdBQUcsRUFBRUMsS0FBSyxFQUFFO1FBQ2YsSUFBSUEsVUFBVVMsV0FBVztZQUNyQixPQUFPLElBQUksQ0FBQ1osR0FBRyxDQUFDVyxNQUFNLENBQUNUO1FBQzNCLE9BQ0s7WUFDRCxNQUFNSyxTQUFTLElBQUksQ0FBQ1AsR0FBRyxDQUFDYSxHQUFHLENBQUNYO1lBQzVCLElBQUlLLFFBQVE7Z0JBQ1IsTUFBTU8sUUFBUVAsT0FBT1EsT0FBTyxDQUFDWjtnQkFDN0IsSUFBSVcsU0FBUyxHQUFHO29CQUNaLElBQUlQLE9BQU9FLE1BQU0sS0FBSyxHQUFHO3dCQUNyQixJQUFJLENBQUNULEdBQUcsQ0FBQ1csTUFBTSxDQUFDVDtvQkFDcEIsT0FDSzt3QkFDREssT0FBT1MsTUFBTSxDQUFDRixPQUFPO29CQUN6QjtvQkFDQSxPQUFPO2dCQUNYO1lB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QUNHLEtBQUtDLE1BQU0sSUFBSUosU0FBVTtnQkFDakMsSUFBSSxDQUFDcUIsR0FBRyxDQUFDbEIsS0FBS0M7WUFDbEI7UUFDSjtJQUNKO0lBQ0FPLFFBQVE7UUFDSixJQUFJLENBQUNWLEdBQUcsQ0FBQ1UsS0FBSztRQUNkLElBQUksQ0FBQ3lCLE9BQU8sQ0FBQ3pCLEtBQUs7SUFDdEI7SUFDQVUsSUFBSWxCLEdBQUcsRUFBRUMsS0FBSyxFQUFFO1FBQ1osSUFBSSxDQUFDSCxHQUFHLENBQUNvQixHQUFHLENBQUNsQixLQUFLQztRQUNsQixJQUFJLENBQUNnQyxPQUFPLENBQUNmLEdBQUcsQ0FBQ2pCLE9BQU9EO1FBQ3hCLE9BQU8sSUFBSTtJQUNmO0lBQ0FXLElBQUlYLEdBQUcsRUFBRTtRQUNMLE9BQU8sSUFBSSxDQUFDRixHQUFHLENBQUNhLEdBQUcsQ0FBQ1g7SUFDeEI7SUFDQWtDLE9BQU9qQyxLQUFLLEVBQUU7UUFDVixPQUFPLElBQUksQ0FBQ2dDLE9BQU8sQ0FBQ3RCLEdBQUcsQ0FBQ1Y7SUFDNUI7SUFDQVEsT0FBT1QsR0FBRyxFQUFFO1FBQ1IsTUFBTUMsUUFBUSxJQUFJLENBQUNILEdBQUcsQ0FBQ2EsR0FBRyxDQUFDWDtRQUMzQixJQUFJQyxVQUFVUyxXQUFXO1lBQ3JCLElBQUksQ0FBQ1osR0FBRyxDQUFDVyxNQUFNLENBQUNUO1lBQ2hCLElBQUksQ0FBQ2lDLE9BQU8sQ0FBQ3hCLE1BQU0sQ0FBQ1I7WUFDcEIsT0FBTztRQUNYO1FBQ0EsT0FBTztJQUNYO0FBQ0osRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi91dGlscy9jb2xsZWN0aW9ucy5qcz83NDBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IFJlZHVjdGlvbiwgc3RyZWFtIH0gZnJvbSAnLi9zdHJlYW0uanMnO1xuLyoqXG4gKiBBIG11bHRpbWFwIGlzIGEgdmFyaWF0aW9uIG9mIGEgTWFwIHRoYXQgaGFzIHBvdGVudGlhbGx5IG11bHRpcGxlIHZhbHVlcyBmb3IgZXZlcnkga2V5LlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlNYXAge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiB2YWx1ZXMgaW4gdGhlIG11bHRpbWFwLlxuICAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gUmVkdWN0aW9uLnN1bShzdHJlYW0odGhpcy5tYXAudmFsdWVzKCkpLm1hcChhID0+IGEubGVuZ3RoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBlbnRyaWVzIGluIHRoZSBtdWx0aW1hcC5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlcmF0ZXMgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoZXRoZXIgYSBgdmFsdWVgIGlzIGdpdmVuOlxuICAgICAqICAqIFdpdGggYSB2YWx1ZSwgdGhpcyBtZXRob2QgZGVsZXRlcyB0aGUgc3BlY2lmaWMga2V5IC8gdmFsdWUgcGFpciBmcm9tIHRoZSBtdWx0aW1hcC5cbiAgICAgKiAgKiBXaXRob3V0IGEgdmFsdWUsIGFsbCB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkgYXJlIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgYSB2YWx1ZSBleGlzdGVkIGFuZCBoYXMgYmVlbiByZW1vdmVkLCBvciBgZmFsc2VgIGlmIHRoZSBzcGVjaWZpZWRcbiAgICAgKiAgICAga2V5IC8gdmFsdWUgZG9lcyBub3QgZXhpc3QuXG4gICAgICovXG4gICAgZGVsZXRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWVzLmluZGV4T2YodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuIElmIG5vIHZhbHVlIGV4aXN0cyxcbiAgICAgKiBhbiBlbXB0eSBhcnJheSBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIF9Ob3RlOl8gVGhlIHJldHVybmVkIGFycmF5IGlzIGFzc3VtZWQgbm90IHRvIGJlIG1vZGlmaWVkLiBVc2UgdGhlIGBzZXRgIG1ldGhvZCB0byBhZGQgYVxuICAgICAqIHZhbHVlIGFuZCBgZGVsZXRlYCB0byByZW1vdmUgYSB2YWx1ZSBmcm9tIHRoZSBtdWx0aW1hcC5cbiAgICAgKi9cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMubWFwLmdldChrZXkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlcmF0ZXMgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoZXRoZXIgYSBgdmFsdWVgIGlzIGdpdmVuOlxuICAgICAqICAqIFdpdGggYSB2YWx1ZSwgdGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNwZWNpZmljIGtleSAvIHZhbHVlIHBhaXIgaXMgcHJlc2VudCBpbiB0aGUgbXVsdGltYXAuXG4gICAgICogICogV2l0aG91dCBhIHZhbHVlLCB0aGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4ga2V5IGlzIHByZXNlbnQgaW4gdGhlIG11bHRpbWFwLlxuICAgICAqL1xuICAgIGhhcyhrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAuaGFzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLmluZGV4T2YodmFsdWUpID49IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBnaXZlbiBrZXkgLyB2YWx1ZSBwYWlyIHRvIHRoZSBtdWx0aW1hcC5cbiAgICAgKi9cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5tYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmdldChrZXkpLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGtleSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgZ2l2ZW4gc2V0IG9mIGtleSAvIHZhbHVlIHBhaXJzIHRvIHRoZSBtdWx0aW1hcC5cbiAgICAgKi9cbiAgICBhZGRBbGwoa2V5LCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMubWFwLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5nZXQoa2V5KS5wdXNoKC4uLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCBBcnJheS5mcm9tKHZhbHVlcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZXZlcnkga2V5IC8gdmFsdWUgcGFpciBpbiB0aGUgbXVsdGltYXAuXG4gICAgICovXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuKSB7XG4gICAgICAgIHRoaXMubWFwLmZvckVhY2goKGFycmF5LCBrZXkpID0+IGFycmF5LmZvckVhY2godmFsdWUgPT4gY2FsbGJhY2tmbih2YWx1ZSwga2V5LCB0aGlzKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIG9mIGtleSwgdmFsdWUgcGFpcnMgZm9yIGV2ZXJ5IGVudHJ5IGluIHRoZSBtYXAuXG4gICAgICovXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKS5pdGVyYXRvcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyZWFtIG9mIGtleSwgdmFsdWUgcGFpcnMgZm9yIGV2ZXJ5IGVudHJ5IGluIHRoZSBtYXAuXG4gICAgICovXG4gICAgZW50cmllcygpIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbSh0aGlzLm1hcC5lbnRyaWVzKCkpXG4gICAgICAgICAgICAuZmxhdE1hcCgoW2tleSwgYXJyYXldKSA9PiBhcnJheS5tYXAodmFsdWUgPT4gW2tleSwgdmFsdWVdKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJlYW0gb2Yga2V5cyBpbiB0aGUgbWFwLlxuICAgICAqL1xuICAgIGtleXMoKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW0odGhpcy5tYXAua2V5cygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmVhbSBvZiB2YWx1ZXMgaW4gdGhlIG1hcC5cbiAgICAgKi9cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW0odGhpcy5tYXAudmFsdWVzKCkpLmZsYXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmVhbSBvZiBrZXksIHZhbHVlIHNldCBwYWlycyBmb3IgZXZlcnkga2V5IGluIHRoZSBtYXAuXG4gICAgICovXG4gICAgZW50cmllc0dyb3VwZWRCeUtleSgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbSh0aGlzLm1hcC5lbnRyaWVzKCkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCaU1hcCB7XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5zaXplO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cykge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5pbnZlcnNlID0gbmV3IE1hcCgpO1xuICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuaW52ZXJzZS5jbGVhcigpO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuaW52ZXJzZS5zZXQodmFsdWUsIGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICB9XG4gICAgZ2V0S2V5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludmVyc2UuZ2V0KHZhbHVlKTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB0aGlzLmludmVyc2UuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsZWN0aW9ucy5qcy5tYXAiXSwibmFtZXMiOlsiUmVkdWN0aW9uIiwic3RyZWFtIiwiTXVsdGlNYXAiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnRzIiwibWFwIiwiTWFwIiwia2V5IiwidmFsdWUiLCJhZGQiLCJzaXplIiwic3VtIiwidmFsdWVzIiwiYSIsImxlbmd0aCIsImNsZWFyIiwiZGVsZXRlIiwidW5kZWZpbmVkIiwiZ2V0IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiX2EiLCJoYXMiLCJwdXNoIiwic2V0IiwiYWRkQWxsIiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsImNhbGxiYWNrZm4iLCJhcnJheSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZW50cmllcyIsImZsYXRNYXAiLCJrZXlzIiwiZmxhdCIsImVudHJpZXNHcm91cGVkQnlLZXkiLCJCaU1hcCIsImludmVyc2UiLCJnZXRLZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/collections.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/cst-utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/langium/lib/utils/cst-utils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultNameRegexp: () => (/* binding */ DefaultNameRegexp),\n/* harmony export */   RangeComparison: () => (/* binding */ RangeComparison),\n/* harmony export */   compareRange: () => (/* binding */ compareRange),\n/* harmony export */   findCommentNode: () => (/* binding */ findCommentNode),\n/* harmony export */   findDeclarationNodeAtOffset: () => (/* binding */ findDeclarationNodeAtOffset),\n/* harmony export */   findLeafNodeAtOffset: () => (/* binding */ findLeafNodeAtOffset),\n/* harmony export */   findLeafNodeBeforeOffset: () => (/* binding */ findLeafNodeBeforeOffset),\n/* harmony export */   flattenCst: () => (/* binding */ flattenCst),\n/* harmony export */   getInteriorNodes: () => (/* binding */ getInteriorNodes),\n/* harmony export */   getNextNode: () => (/* binding */ getNextNode),\n/* harmony export */   getPreviousNode: () => (/* binding */ getPreviousNode),\n/* harmony export */   getStartlineNode: () => (/* binding */ getStartlineNode),\n/* harmony export */   inRange: () => (/* binding */ inRange),\n/* harmony export */   isChildNode: () => (/* binding */ isChildNode),\n/* harmony export */   isCommentNode: () => (/* binding */ isCommentNode),\n/* harmony export */   streamCst: () => (/* binding */ streamCst),\n/* harmony export */   toDocumentSegment: () => (/* binding */ toDocumentSegment),\n/* harmony export */   tokenToRange: () => (/* binding */ tokenToRange)\n/* harmony export */ });\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n/**\n * Create a stream of all CST nodes that are directly and indirectly contained in the given root node,\n * including the root node itself.\n */ function streamCst(node) {\n    return new _stream_js__WEBPACK_IMPORTED_MODULE_0__.TreeStreamImpl(node, (element)=>{\n        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isCompositeCstNode)(element)) {\n            return element.content;\n        } else {\n            return [];\n        }\n    }, {\n        includeRoot: true\n    });\n}\n/**\n * Create a stream of all leaf nodes that are directly and indirectly contained in the given root node.\n */ function flattenCst(node) {\n    return streamCst(node).filter(_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isLeafCstNode);\n}\n/**\n * Determines whether the specified cst node is a child of the specified parent node.\n */ function isChildNode(child, parent) {\n    while(child.container){\n        child = child.container;\n        if (child === parent) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction tokenToRange(token) {\n    // Chevrotain uses 1-based indices everywhere\n    // So we subtract 1 from every value to align with the LSP\n    return {\n        start: {\n            character: token.startColumn - 1,\n            line: token.startLine - 1\n        },\n        end: {\n            character: token.endColumn,\n            line: token.endLine - 1\n        }\n    };\n}\nfunction toDocumentSegment(node) {\n    if (!node) {\n        return undefined;\n    }\n    const { offset, end, range } = node;\n    return {\n        range,\n        offset,\n        end,\n        length: end - offset\n    };\n}\nvar RangeComparison;\n(function(RangeComparison) {\n    RangeComparison[RangeComparison[\"Before\"] = 0] = \"Before\";\n    RangeComparison[RangeComparison[\"After\"] = 1] = \"After\";\n    RangeComparison[RangeComparison[\"OverlapFront\"] = 2] = \"OverlapFront\";\n    RangeComparison[RangeComparison[\"OverlapBack\"] = 3] = \"OverlapBack\";\n    RangeComparison[RangeComparison[\"Inside\"] = 4] = \"Inside\";\n    RangeComparison[RangeComparison[\"Outside\"] = 5] = \"Outside\";\n})(RangeComparison || (RangeComparison = {}));\nfunction compareRange(range, to) {\n    if (range.end.line < to.start.line || range.end.line === to.start.line && range.end.character <= to.start.character) {\n        return RangeComparison.Before;\n    } else if (range.start.line > to.end.line || range.start.line === to.end.line && range.start.character >= to.end.character) {\n        return RangeComparison.After;\n    }\n    const startInside = range.start.line > to.start.line || range.start.line === to.start.line && range.start.character >= to.start.character;\n    const endInside = range.end.line < to.end.line || range.end.line === to.end.line && range.end.character <= to.end.character;\n    if (startInside && endInside) {\n        return RangeComparison.Inside;\n    } else if (startInside) {\n        return RangeComparison.OverlapBack;\n    } else if (endInside) {\n        return RangeComparison.OverlapFront;\n    } else {\n        return RangeComparison.Outside;\n    }\n}\nfunction inRange(range, to) {\n    const comparison = compareRange(range, to);\n    return comparison > RangeComparison.After;\n}\n// The \\p{L} regex matches any unicode letter character, i.e. characters from non-english alphabets\n// Together with \\w it matches any kind of character which can commonly appear in IDs\nconst DefaultNameRegexp = /^[\\w\\p{L}]$/u;\n/**\n * Performs `findLeafNodeAtOffset` with a minor difference: When encountering a character that matches the `nameRegexp` argument,\n * it will instead return the leaf node at the `offset - 1` position.\n *\n * For LSP services, users expect that the declaration of an element is available if the cursor is directly after the element.\n */ function findDeclarationNodeAtOffset(cstNode, offset, nameRegexp = DefaultNameRegexp) {\n    if (cstNode) {\n        if (offset > 0) {\n            const localOffset = offset - cstNode.offset;\n            const textAtOffset = cstNode.text.charAt(localOffset);\n            if (!nameRegexp.test(textAtOffset)) {\n                offset--;\n            }\n        }\n        return findLeafNodeAtOffset(cstNode, offset);\n    }\n    return undefined;\n}\nfunction findCommentNode(cstNode, commentNames) {\n    if (cstNode) {\n        const previous = getPreviousNode(cstNode, true);\n        if (previous && isCommentNode(previous, commentNames)) {\n            return previous;\n        }\n        if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isRootCstNode)(cstNode)) {\n            // Go from the first non-hidden node through all nodes in reverse order\n            // We do this to find the comment node which directly precedes the root node\n            const endIndex = cstNode.content.findIndex((e)=>!e.hidden);\n            for(let i = endIndex - 1; i >= 0; i--){\n                const child = cstNode.content[i];\n                if (isCommentNode(child, commentNames)) {\n                    return child;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction isCommentNode(cstNode, commentNames) {\n    return (0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isLeafCstNode)(cstNode) && commentNames.includes(cstNode.tokenType.name);\n}\n/**\n * Finds the leaf CST node at the specified 0-based string offset.\n * Note that the given offset will be within the range of the returned leaf node.\n *\n * If the offset does not point to a CST node (but just white space), this method will return `undefined`.\n *\n * @param node The CST node to search through.\n * @param offset The specified offset.\n * @returns The CST node at the specified offset.\n */ function findLeafNodeAtOffset(node, offset) {\n    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isLeafCstNode)(node)) {\n        return node;\n    } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isCompositeCstNode)(node)) {\n        const searchResult = binarySearch(node, offset, false);\n        if (searchResult) {\n            return findLeafNodeAtOffset(searchResult, offset);\n        }\n    }\n    return undefined;\n}\n/**\n * Finds the leaf CST node at the specified 0-based string offset.\n * If no CST node exists at the specified position, it will return the leaf node before it.\n *\n * If there is no leaf node before the specified offset, this method will return `undefined`.\n *\n * @param node The CST node to search through.\n * @param offset The specified offset.\n * @returns The CST node closest to the specified offset.\n */ function findLeafNodeBeforeOffset(node, offset) {\n    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isLeafCstNode)(node)) {\n        return node;\n    } else if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_1__.isCompositeCstNode)(node)) {\n        const searchResult = binarySearch(node, offset, true);\n        if (searchResult) {\n            return findLeafNodeBeforeOffset(searchResult, offset);\n        }\n    }\n    return undefined;\n}\nfunction binarySearch(node, offset, closest) {\n    let left = 0;\n    let right = node.content.length - 1;\n    let closestNode = undefined;\n    while(left <= right){\n        const middle = Math.floor((left + right) / 2);\n        const middleNode = node.content[middle];\n        if (middleNode.offset <= offset && middleNode.end > offset) {\n            // Found an exact match\n            return middleNode;\n        }\n        if (middleNode.end <= offset) {\n            // Update the closest node (less than offset) and move to the right half\n            closestNode = closest ? middleNode : undefined;\n            left = middle + 1;\n        } else {\n            // Move to the left half\n            right = middle - 1;\n        }\n    }\n    return closestNode;\n}\nfunction getPreviousNode(node, hidden = true) {\n    while(node.container){\n        const parent = node.container;\n        let index = parent.content.indexOf(node);\n        while(index > 0){\n            index--;\n            const previous = parent.content[index];\n            if (hidden || !previous.hidden) {\n                return previous;\n            }\n        }\n        node = parent;\n    }\n    return undefined;\n}\nfunction getNextNode(node, hidden = true) {\n    while(node.container){\n        const parent = node.container;\n        let index = parent.content.indexOf(node);\n        const last = parent.content.length - 1;\n        while(index < last){\n            index++;\n            const next = parent.content[index];\n            if (hidden || !next.hidden) {\n                return next;\n            }\n        }\n        node = parent;\n    }\n    return undefined;\n}\nfunction getStartlineNode(node) {\n    if (node.range.start.character === 0) {\n        return node;\n    }\n    const line = node.range.start.line;\n    let last = node;\n    let index;\n    while(node.container){\n        const parent = node.container;\n        const selfIndex = index !== null && index !== void 0 ? index : parent.content.indexOf(node);\n        if (selfIndex === 0) {\n            node = parent;\n            index = undefined;\n        } else {\n            index = selfIndex - 1;\n            node = parent.content[index];\n        }\n        if (node.range.start.line !== line) {\n            break;\n        }\n        last = node;\n    }\n    return last;\n}\nfunction getInteriorNodes(start, end) {\n    const commonParent = getCommonParent(start, end);\n    if (!commonParent) {\n        return [];\n    }\n    return commonParent.parent.content.slice(commonParent.a + 1, commonParent.b);\n}\nfunction getCommonParent(a, b) {\n    const aParents = getParentChain(a);\n    const bParents = getParentChain(b);\n    let current;\n    for(let i = 0; i < aParents.length && i < bParents.length; i++){\n        const aParent = aParents[i];\n        const bParent = bParents[i];\n        if (aParent.parent === bParent.parent) {\n            current = {\n                parent: aParent.parent,\n                a: aParent.index,\n                b: bParent.index\n            };\n        } else {\n            break;\n        }\n    }\n    return current;\n}\nfunction getParentChain(node) {\n    const chain = [];\n    while(node.container){\n        const parent = node.container;\n        const index = parent.content.indexOf(node);\n        chain.push({\n            parent,\n            index\n        });\n        node = parent;\n    }\n    return chain.reverse();\n} //# sourceMappingURL=cst-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvY3N0LXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ087QUFDeEM7QUFDN0M7OztDQUdDLEdBQ00sU0FBU0ksVUFBVUMsSUFBSTtJQUMxQixPQUFPLElBQUlGLHNEQUFjQSxDQUFDRSxNQUFNQyxDQUFBQTtRQUM1QixJQUFJTixtRUFBa0JBLENBQUNNLFVBQVU7WUFDN0IsT0FBT0EsUUFBUUMsT0FBTztRQUMxQixPQUNLO1lBQ0QsT0FBTyxFQUFFO1FBQ2I7SUFDSixHQUFHO1FBQUVDLGFBQWE7SUFBSztBQUMzQjtBQUNBOztDQUVDLEdBQ00sU0FBU0MsV0FBV0osSUFBSTtJQUMzQixPQUFPRCxVQUFVQyxNQUFNSyxNQUFNLENBQUNULDBEQUFhQTtBQUMvQztBQUNBOztDQUVDLEdBQ00sU0FBU1UsWUFBWUMsS0FBSyxFQUFFQyxNQUFNO0lBQ3JDLE1BQU9ELE1BQU1FLFNBQVMsQ0FBRTtRQUNwQkYsUUFBUUEsTUFBTUUsU0FBUztRQUN2QixJQUFJRixVQUFVQyxRQUFRO1lBQ2xCLE9BQU87UUFDWDtJQUNKO0lBQ0EsT0FBTztBQUNYO0FBQ08sU0FBU0UsYUFBYUMsS0FBSztJQUM5Qiw2Q0FBNkM7SUFDN0MsMERBQTBEO0lBQzFELE9BQU87UUFDSEMsT0FBTztZQUNIQyxXQUFXRixNQUFNRyxXQUFXLEdBQUc7WUFDL0JDLE1BQU1KLE1BQU1LLFNBQVMsR0FBRztRQUM1QjtRQUNBQyxLQUFLO1lBQ0RKLFdBQVdGLE1BQU1PLFNBQVM7WUFDMUJILE1BQU1KLE1BQU1RLE9BQU8sR0FBRztRQUMxQjtJQUNKO0FBQ0o7QUFDTyxTQUFTQyxrQkFBa0JwQixJQUFJO0lBQ2xDLElBQUksQ0FBQ0EsTUFBTTtRQUNQLE9BQU9xQjtJQUNYO0lBQ0EsTUFBTSxFQUFFQyxNQUFNLEVBQUVMLEdBQUcsRUFBRU0sS0FBSyxFQUFFLEdBQUd2QjtJQUMv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U0FBUztRQUM3QixNQUFNK0QsUUFBUWhFLE9BQU9OLE9BQU8sQ0FBQ3VFLE9BQU8sQ0FBQ3pFO1FBQ3JDMkYsTUFBTUMsSUFBSSxDQUFDO1lBQ1BwRjtZQUNBZ0U7UUFDSjtRQUNBeEUsT0FBT1E7SUFDWDtJQUNBLE9BQU9tRixNQUFNRSxPQUFPO0FBQ3hCLEVBQ0EscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvY3N0LXV0aWxzLmpzP2MwMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgaXNDb21wb3NpdGVDc3ROb2RlLCBpc0xlYWZDc3ROb2RlLCBpc1Jvb3RDc3ROb2RlIH0gZnJvbSAnLi4vc3ludGF4LXRyZWUuanMnO1xuaW1wb3J0IHsgVHJlZVN0cmVhbUltcGwgfSBmcm9tICcuL3N0cmVhbS5qcyc7XG4vKipcbiAqIENyZWF0ZSBhIHN0cmVhbSBvZiBhbGwgQ1NUIG5vZGVzIHRoYXQgYXJlIGRpcmVjdGx5IGFuZCBpbmRpcmVjdGx5IGNvbnRhaW5lZCBpbiB0aGUgZ2l2ZW4gcm9vdCBub2RlLFxuICogaW5jbHVkaW5nIHRoZSByb290IG5vZGUgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtQ3N0KG5vZGUpIHtcbiAgICByZXR1cm4gbmV3IFRyZWVTdHJlYW1JbXBsKG5vZGUsIGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoaXNDb21wb3NpdGVDc3ROb2RlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSwgeyBpbmNsdWRlUm9vdDogdHJ1ZSB9KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgc3RyZWFtIG9mIGFsbCBsZWFmIG5vZGVzIHRoYXQgYXJlIGRpcmVjdGx5IGFuZCBpbmRpcmVjdGx5IGNvbnRhaW5lZCBpbiB0aGUgZ2l2ZW4gcm9vdCBub2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkNzdChub2RlKSB7XG4gICAgcmV0dXJuIHN0cmVhbUNzdChub2RlKS5maWx0ZXIoaXNMZWFmQ3N0Tm9kZSk7XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIGNzdCBub2RlIGlzIGEgY2hpbGQgb2YgdGhlIHNwZWNpZmllZCBwYXJlbnQgbm9kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hpbGROb2RlKGNoaWxkLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAoY2hpbGQuY29udGFpbmVyKSB7XG4gICAgICAgIGNoaWxkID0gY2hpbGQuY29udGFpbmVyO1xuICAgICAgICBpZiAoY2hpbGQgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuVG9SYW5nZSh0b2tlbikge1xuICAgIC8vIENoZXZyb3RhaW4gdXNlcyAxLWJhc2VkIGluZGljZXMgZXZlcnl3aGVyZVxuICAgIC8vIFNvIHdlIHN1YnRyYWN0IDEgZnJvbSBldmVyeSB2YWx1ZSB0byBhbGlnbiB3aXRoIHRoZSBMU1BcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgY2hhcmFjdGVyOiB0b2tlbi5zdGFydENvbHVtbiAtIDEsXG4gICAgICAgICAgICBsaW5lOiB0b2tlbi5zdGFydExpbmUgLSAxXG4gICAgICAgIH0sXG4gICAgICAgIGVuZDoge1xuICAgICAgICAgICAgY2hhcmFjdGVyOiB0b2tlbi5lbmRDb2x1bW4sIC8vIGVuZENvbHVtbiB1c2VzIHRoZSBjb3JyZWN0IGluZGV4XG4gICAgICAgICAgICBsaW5lOiB0b2tlbi5lbmRMaW5lIC0gMVxuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0RvY3VtZW50U2VnbWVudChub2RlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHsgb2Zmc2V0LCBlbmQsIHJhbmdlIH0gPSBub2RlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJhbmdlLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgbGVuZ3RoOiBlbmQgLSBvZmZzZXRcbiAgICB9O1xufVxuZXhwb3J0IHZhciBSYW5nZUNvbXBhcmlzb247XG4oZnVuY3Rpb24gKFJhbmdlQ29tcGFyaXNvbikge1xuICAgIFJhbmdlQ29tcGFyaXNvbltSYW5nZUNvbXBhcmlzb25bXCJCZWZvcmVcIl0gPSAwXSA9IFwiQmVmb3JlXCI7XG4gICAgUmFuZ2VDb21wYXJpc29uW1JhbmdlQ29tcGFyaXNvbltcIkFmdGVyXCJdID0gMV0gPSBcIkFmdGVyXCI7XG4gICAgUmFuZ2VDb21wYXJpc29uW1JhbmdlQ29tcGFyaXNvbltcIk92ZXJsYXBGcm9udFwiXSA9IDJdID0gXCJPdmVybGFwRnJvbnRcIjtcbiAgICBSYW5nZUNvbXBhcmlzb25bUmFuZ2VDb21wYXJpc29uW1wiT3ZlcmxhcEJhY2tcIl0gPSAzXSA9IFwiT3ZlcmxhcEJhY2tcIjtcbiAgICBSYW5nZUNvbXBhcmlzb25bUmFuZ2VDb21wYXJpc29uW1wiSW5zaWRlXCJdID0gNF0gPSBcIkluc2lkZVwiO1xuICAgIFJhbmdlQ29tcGFyaXNvbltSYW5nZUNvbXBhcmlzb25bXCJPdXRzaWRlXCJdID0gNV0gPSBcIk91dHNpZGVcIjtcbn0pKFJhbmdlQ29tcGFyaXNvbiB8fCAoUmFuZ2VDb21wYXJpc29uID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlUmFuZ2UocmFuZ2UsIHRvKSB7XG4gICAgaWYgKHJhbmdlLmVuZC5saW5lIDwgdG8uc3RhcnQubGluZSB8fCAocmFuZ2UuZW5kLmxpbmUgPT09IHRvLnN0YXJ0LmxpbmUgJiYgcmFuZ2UuZW5kLmNoYXJhY3RlciA8PSB0by5zdGFydC5jaGFyYWN0ZXIpKSB7XG4gICAgICAgIHJldHVybiBSYW5nZUNvbXBhcmlzb24uQmVmb3JlO1xuICAgIH1cbiAgICBlbHNlIGlmIChyYW5nZS5zdGFydC5saW5lID4gdG8uZW5kLmxpbmUgfHwgKHJhbmdlLnN0YXJ0LmxpbmUgPT09IHRvLmVuZC5saW5lICYmIHJhbmdlLnN0YXJ0LmNoYXJhY3RlciA+PSB0by5lbmQuY2hhcmFjdGVyKSkge1xuICAgICAgICByZXR1cm4gUmFuZ2VDb21wYXJpc29uLkFmdGVyO1xuICAgIH1cbiAgICBjb25zdCBzdGFydEluc2lkZSA9IHJhbmdlLnN0YXJ0LmxpbmUgPiB0by5zdGFydC5saW5lIHx8IChyYW5nZS5zdGFydC5saW5lID09PSB0by5zdGFydC5saW5lICYmIHJhbmdlLnN0YXJ0LmNoYXJhY3RlciA+PSB0by5zdGFydC5jaGFyYWN0ZXIpO1xuICAgIGNvbnN0IGVuZEluc2lkZSA9IHJhbmdlLmVuZC5saW5lIDwgdG8uZW5kLmxpbmUgfHwgKHJhbmdlLmVuZC5saW5lID09PSB0by5lbmQubGluZSAmJiByYW5nZS5lbmQuY2hhcmFjdGVyIDw9IHRvLmVuZC5jaGFyYWN0ZXIpO1xuICAgIGlmIChzdGFydEluc2lkZSAmJiBlbmRJbnNpZGUpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlQ29tcGFyaXNvbi5JbnNpZGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXJ0SW5zaWRlKSB7XG4gICAgICAgIHJldHVybiBSYW5nZUNvbXBhcmlzb24uT3ZlcmxhcEJhY2s7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVuZEluc2lkZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2VDb21wYXJpc29uLk92ZXJsYXBGcm9udDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBSYW5nZUNvbXBhcmlzb24uT3V0c2lkZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5SYW5nZShyYW5nZSwgdG8pIHtcbiAgICBjb25zdCBjb21wYXJpc29uID0gY29tcGFyZVJhbmdlKHJhbmdlLCB0byk7XG4gICAgcmV0dXJuIGNvbXBhcmlzb24gPiBSYW5nZUNvbXBhcmlzb24uQWZ0ZXI7XG59XG4vLyBUaGUgXFxwe0x9IHJlZ2V4IG1hdGNoZXMgYW55IHVuaWNvZGUgbGV0dGVyIGNoYXJhY3RlciwgaS5lLiBjaGFyYWN0ZXJzIGZyb20gbm9uLWVuZ2xpc2ggYWxwaGFiZXRzXG4vLyBUb2dldGhlciB3aXRoIFxcdyBpdCBtYXRjaGVzIGFueSBraW5kIG9mIGNoYXJhY3RlciB3aGljaCBjYW4gY29tbW9ubHkgYXBwZWFyIGluIElEc1xuZXhwb3J0IGNvbnN0IERlZmF1bHROYW1lUmVnZXhwID0gL15bXFx3XFxwe0x9XSQvdTtcbi8qKlxuICogUGVyZm9ybXMgYGZpbmRMZWFmTm9kZUF0T2Zmc2V0YCB3aXRoIGEgbWlub3IgZGlmZmVyZW5jZTogV2hlbiBlbmNvdW50ZXJpbmcgYSBjaGFyYWN0ZXIgdGhhdCBtYXRjaGVzIHRoZSBgbmFtZVJlZ2V4cGAgYXJndW1lbnQsXG4gKiBpdCB3aWxsIGluc3RlYWQgcmV0dXJuIHRoZSBsZWFmIG5vZGUgYXQgdGhlIGBvZmZzZXQgLSAxYCBwb3NpdGlvbi5cbiAqXG4gKiBGb3IgTFNQIHNlcnZpY2VzLCB1c2VycyBleHBlY3QgdGhhdCB0aGUgZGVjbGFyYXRpb24gb2YgYW4gZWxlbWVudCBpcyBhdmFpbGFibGUgaWYgdGhlIGN1cnNvciBpcyBkaXJlY3RseSBhZnRlciB0aGUgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmREZWNsYXJhdGlvbk5vZGVBdE9mZnNldChjc3ROb2RlLCBvZmZzZXQsIG5hbWVSZWdleHAgPSBEZWZhdWx0TmFtZVJlZ2V4cCkge1xuICAgIGlmIChjc3ROb2RlKSB7XG4gICAgICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbE9mZnNldCA9IG9mZnNldCAtIGNzdE5vZGUub2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgdGV4dEF0T2Zmc2V0ID0gY3N0Tm9kZS50ZXh0LmNoYXJBdChsb2NhbE9mZnNldCk7XG4gICAgICAgICAgICBpZiAoIW5hbWVSZWdleHAudGVzdCh0ZXh0QXRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmRMZWFmTm9kZUF0T2Zmc2V0KGNzdE5vZGUsIG9mZnNldCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZENvbW1lbnROb2RlKGNzdE5vZGUsIGNvbW1lbnROYW1lcykge1xuICAgIGlmIChjc3ROb2RlKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gZ2V0UHJldmlvdXNOb2RlKGNzdE5vZGUsIHRydWUpO1xuICAgICAgICBpZiAocHJldmlvdXMgJiYgaXNDb21tZW50Tm9kZShwcmV2aW91cywgY29tbWVudE5hbWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Jvb3RDc3ROb2RlKGNzdE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBHbyBmcm9tIHRoZSBmaXJzdCBub24taGlkZGVuIG5vZGUgdGhyb3VnaCBhbGwgbm9kZXMgaW4gcmV2ZXJzZSBvcmRlclxuICAgICAgICAgICAgLy8gV2UgZG8gdGhpcyB0byBmaW5kIHRoZSBjb21tZW50IG5vZGUgd2hpY2ggZGlyZWN0bHkgcHJlY2VkZXMgdGhlIHJvb3Qgbm9kZVxuICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSBjc3ROb2RlLmNvbnRlbnQuZmluZEluZGV4KGUgPT4gIWUuaGlkZGVuKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBlbmRJbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjc3ROb2RlLmNvbnRlbnRbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tbWVudE5vZGUoY2hpbGQsIGNvbW1lbnROYW1lcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tbWVudE5vZGUoY3N0Tm9kZSwgY29tbWVudE5hbWVzKSB7XG4gICAgcmV0dXJuIGlzTGVhZkNzdE5vZGUoY3N0Tm9kZSkgJiYgY29tbWVudE5hbWVzLmluY2x1ZGVzKGNzdE5vZGUudG9rZW5UeXBlLm5hbWUpO1xufVxuLyoqXG4gKiBGaW5kcyB0aGUgbGVhZiBDU1Qgbm9kZSBhdCB0aGUgc3BlY2lmaWVkIDAtYmFzZWQgc3RyaW5nIG9mZnNldC5cbiAqIE5vdGUgdGhhdCB0aGUgZ2l2ZW4gb2Zmc2V0IHdpbGwgYmUgd2l0aGluIHRoZSByYW5nZSBvZiB0aGUgcmV0dXJuZWQgbGVhZiBub2RlLlxuICpcbiAqIElmIHRoZSBvZmZzZXQgZG9lcyBub3QgcG9pbnQgdG8gYSBDU1Qgbm9kZSAoYnV0IGp1c3Qgd2hpdGUgc3BhY2UpLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcGFyYW0gbm9kZSBUaGUgQ1NUIG5vZGUgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0gb2Zmc2V0IFRoZSBzcGVjaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybnMgVGhlIENTVCBub2RlIGF0IHRoZSBzcGVjaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZExlYWZOb2RlQXRPZmZzZXQobm9kZSwgb2Zmc2V0KSB7XG4gICAgaWYgKGlzTGVhZkNzdE5vZGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQ29tcG9zaXRlQ3N0Tm9kZShub2RlKSkge1xuICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSBiaW5hcnlTZWFyY2gobm9kZSwgb2Zmc2V0LCBmYWxzZSk7XG4gICAgICAgIGlmIChzZWFyY2hSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kTGVhZk5vZGVBdE9mZnNldChzZWFyY2hSZXN1bHQsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogRmluZHMgdGhlIGxlYWYgQ1NUIG5vZGUgYXQgdGhlIHNwZWNpZmllZCAwLWJhc2VkIHN0cmluZyBvZmZzZXQuXG4gKiBJZiBubyBDU1Qgbm9kZSBleGlzdHMgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiwgaXQgd2lsbCByZXR1cm4gdGhlIGxlYWYgbm9kZSBiZWZvcmUgaXQuXG4gKlxuICogSWYgdGhlcmUgaXMgbm8gbGVhZiBub2RlIGJlZm9yZSB0aGUgc3BlY2lmaWVkIG9mZnNldCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAuXG4gKlxuICogQHBhcmFtIG5vZGUgVGhlIENTVCBub2RlIHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIG9mZnNldCBUaGUgc3BlY2lmaWVkIG9mZnNldC5cbiAqIEByZXR1cm5zIFRoZSBDU1Qgbm9kZSBjbG9zZXN0IHRvIHRoZSBzcGVjaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZExlYWZOb2RlQmVmb3JlT2Zmc2V0KG5vZGUsIG9mZnNldCkge1xuICAgIGlmIChpc0xlYWZDc3ROb2RlKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NvbXBvc2l0ZUNzdE5vZGUobm9kZSkpIHtcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gYmluYXJ5U2VhcmNoKG5vZGUsIG9mZnNldCwgdHJ1ZSk7XG4gICAgICAgIGlmIChzZWFyY2hSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kTGVhZk5vZGVCZWZvcmVPZmZzZXQoc2VhcmNoUmVzdWx0LCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBiaW5hcnlTZWFyY2gobm9kZSwgb2Zmc2V0LCBjbG9zZXN0KSB7XG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCByaWdodCA9IG5vZGUuY29udGVudC5sZW5ndGggLSAxO1xuICAgIGxldCBjbG9zZXN0Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgICAgICBjb25zdCBtaWRkbGUgPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG4gICAgICAgIGNvbnN0IG1pZGRsZU5vZGUgPSBub2RlLmNvbnRlbnRbbWlkZGxlXTtcbiAgICAgICAgaWYgKG1pZGRsZU5vZGUub2Zmc2V0IDw9IG9mZnNldCAmJiBtaWRkbGVOb2RlLmVuZCA+IG9mZnNldCkge1xuICAgICAgICAgICAgLy8gRm91bmQgYW4gZXhhY3QgbWF0Y2hcbiAgICAgICAgICAgIHJldHVybiBtaWRkbGVOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaWRkbGVOb2RlLmVuZCA8PSBvZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY2xvc2VzdCBub2RlIChsZXNzIHRoYW4gb2Zmc2V0KSBhbmQgbW92ZSB0byB0aGUgcmlnaHQgaGFsZlxuICAgICAgICAgICAgY2xvc2VzdE5vZGUgPSBjbG9zZXN0ID8gbWlkZGxlTm9kZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxlZnQgPSBtaWRkbGUgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbGVmdCBoYWxmXG4gICAgICAgICAgICByaWdodCA9IG1pZGRsZSAtIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb3Nlc3ROb2RlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXZpb3VzTm9kZShub2RlLCBoaWRkZW4gPSB0cnVlKSB7XG4gICAgd2hpbGUgKG5vZGUuY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUuY29udGFpbmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBwYXJlbnQuY29udGVudC5pbmRleE9mKG5vZGUpO1xuICAgICAgICB3aGlsZSAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBwYXJlbnQuY29udGVudFtpbmRleF07XG4gICAgICAgICAgICBpZiAoaGlkZGVuIHx8ICFwcmV2aW91cy5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXh0Tm9kZShub2RlLCBoaWRkZW4gPSB0cnVlKSB7XG4gICAgd2hpbGUgKG5vZGUuY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUuY29udGFpbmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBwYXJlbnQuY29udGVudC5pbmRleE9mKG5vZGUpO1xuICAgICAgICBjb25zdCBsYXN0ID0gcGFyZW50LmNvbnRlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGFzdCkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwYXJlbnQuY29udGVudFtpbmRleF07XG4gICAgICAgICAgICBpZiAoaGlkZGVuIHx8ICFuZXh0LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhcnRsaW5lTm9kZShub2RlKSB7XG4gICAgaWYgKG5vZGUucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyID09PSAwKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBjb25zdCBsaW5lID0gbm9kZS5yYW5nZS5zdGFydC5saW5lO1xuICAgIGxldCBsYXN0ID0gbm9kZTtcbiAgICBsZXQgaW5kZXg7XG4gICAgd2hpbGUgKG5vZGUuY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBzZWxmSW5kZXggPSBpbmRleCAhPT0gbnVsbCAmJiBpbmRleCAhPT0gdm9pZCAwID8gaW5kZXggOiBwYXJlbnQuY29udGVudC5pbmRleE9mKG5vZGUpO1xuICAgICAgICBpZiAoc2VsZkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBub2RlID0gcGFyZW50O1xuICAgICAgICAgICAgaW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IHNlbGZJbmRleCAtIDE7XG4gICAgICAgICAgICBub2RlID0gcGFyZW50LmNvbnRlbnRbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnJhbmdlLnN0YXJ0LmxpbmUgIT09IGxpbmUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxhc3QgPSBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmlvck5vZGVzKHN0YXJ0LCBlbmQpIHtcbiAgICBjb25zdCBjb21tb25QYXJlbnQgPSBnZXRDb21tb25QYXJlbnQoc3RhcnQsIGVuZCk7XG4gICAgaWYgKCFjb21tb25QYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gY29tbW9uUGFyZW50LnBhcmVudC5jb250ZW50LnNsaWNlKGNvbW1vblBhcmVudC5hICsgMSwgY29tbW9uUGFyZW50LmIpO1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUGFyZW50KGEsIGIpIHtcbiAgICBjb25zdCBhUGFyZW50cyA9IGdldFBhcmVudENoYWluKGEpO1xuICAgIGNvbnN0IGJQYXJlbnRzID0gZ2V0UGFyZW50Q2hhaW4oYik7XG4gICAgbGV0IGN1cnJlbnQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhUGFyZW50cy5sZW5ndGggJiYgaSA8IGJQYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFQYXJlbnQgPSBhUGFyZW50c1tpXTtcbiAgICAgICAgY29uc3QgYlBhcmVudCA9IGJQYXJlbnRzW2ldO1xuICAgICAgICBpZiAoYVBhcmVudC5wYXJlbnQgPT09IGJQYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICBjdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgIHBhcmVudDogYVBhcmVudC5wYXJlbnQsXG4gICAgICAgICAgICAgICAgYTogYVBhcmVudC5pbmRleCxcbiAgICAgICAgICAgICAgICBiOiBiUGFyZW50LmluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnRDaGFpbihub2RlKSB7XG4gICAgY29uc3QgY2hhaW4gPSBbXTtcbiAgICB3aGlsZSAobm9kZS5jb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmNvbnRlbnQuaW5kZXhPZihub2RlKTtcbiAgICAgICAgY2hhaW4ucHVzaCh7XG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBpbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYWluLnJldmVyc2UoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzdC11dGlscy5qcy5tYXAiXSwibmFtZXMiOlsiaXNDb21wb3NpdGVDc3ROb2RlIiwiaXNMZWFmQ3N0Tm9kZSIsImlzUm9vdENzdE5vZGUiLCJUcmVlU3RyZWFtSW1wbCIsInN0cmVhbUNzdCIsIm5vZGUiLCJlbGVtZW50IiwiY29udGVudCIsImluY2x1ZGVSb290IiwiZmxhdHRlbkNzdCIsImZpbHRlciIsImlzQ2hpbGROb2RlIiwiY2hpbGQiLCJwYXJlbnQiLCJjb250YWluZXIiLCJ0b2tlblRvUmFuZ2UiLCJ0b2tlbiIsInN0YXJ0IiwiY2hhcmFjdGVyIiwic3RhcnRDb2x1bW4iLCJsaW5lIiwic3RhcnRMaW5lIiwiZW5kIiwiZW5kQ29sdW1uIiwiZW5kTGluZSIsInRvRG9jdW1lbnRTZWdtZW50IiwidW5kZWZpbmVkIiwib2Zmc2V0IiwicmFuZ2UiLCJsZW5ndGgiLCJSYW5nZUNvbXBhcmlzb24iLCJjb21wYXJlUmFuZ2UiLCJ0byIsIkJlZm9yZSIsIkFmdGVyIiwic3RhcnRJbnNpZGUiLCJlbmRJbnNpZGUiLCJJbnNpZGUiLCJPdmVybGFwQmFjayIsIk92ZXJsYXBGcm9udCIsIk91dHNpZGUiLCJpblJhbmdlIiwiY29tcGFyaXNvbiIsIkRlZmF1bHROYW1lUmVnZXhwIiwiZmluZERlY2xhcmF0aW9uTm9kZUF0T2Zmc2V0IiwiY3N0Tm9kZSIsIm5hbWVSZWdleHAiLCJsb2NhbE9mZnNldCIsInRleHRBdE9mZnNldCIsInRleHQiLCJjaGFyQXQiLCJ0ZXN0IiwiZmluZExlYWZOb2RlQXRPZmZzZXQiLCJmaW5kQ29tbWVudE5vZGUiLCJjb21tZW50TmFtZXMiLCJwcmV2aW91cyIsImdldFByZXZpb3VzTm9kZSIsImlzQ29tbWVudE5vZGUiLCJlbmRJbmRleCIsImZpbmRJbmRleCIsImUiLCJoaWRkZW4iLCJpIiwiaW5jbHVkZXMiLCJ0b2tlblR5cGUiLCJuYW1lIiwic2VhcmNoUmVzdWx0IiwiYmluYXJ5U2VhcmNoIiwiZmluZExlYWZOb2RlQmVmb3JlT2Zmc2V0IiwiY2xvc2VzdCIsImxlZnQiLCJyaWdodCIsImNsb3Nlc3ROb2RlIiwibWlkZGxlIiwiTWF0aCIsImZsb29yIiwibWlkZGxlTm9kZSIsImluZGV4IiwiaW5kZXhPZiIsImdldE5leHROb2RlIiwibGFzdCIsIm5leHQiLCJnZXRTdGFydGxpbmVOb2RlIiwic2VsZkluZGV4IiwiZ2V0SW50ZXJpb3JOb2RlcyIsImNvbW1vblBhcmVudCIsImdldENvbW1vblBhcmVudCIsInNsaWNlIiwiYSIsImIiLCJhUGFyZW50cyIsImdldFBhcmVudENoYWluIiwiYlBhcmVudHMiLCJjdXJyZW50IiwiYVBhcmVudCIsImJQYXJlbnQiLCJjaGFpbiIsInB1c2giLCJyZXZlcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/cst-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/disposable.js":
/*!******************************************************!*\
  !*** ./node_modules/langium/lib/utils/disposable.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Disposable: () => (/* binding */ Disposable)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ var Disposable;\n(function(Disposable) {\n    function create(callback) {\n        return {\n            dispose: async ()=>await callback()\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (Disposable = {})); //# sourceMappingURL=disposable.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZGlzcG9zYWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7OEVBSThFLEdBQ3ZFLElBQUlBLFdBQVc7QUFDckIsVUFBVUEsVUFBVTtJQUNqQixTQUFTQyxPQUFPQyxRQUFRO1FBQ3BCLE9BQU87WUFDSEMsU0FBUyxVQUFZLE1BQU1EO1FBQy9CO0lBQ0o7SUFDQUYsV0FBV0MsTUFBTSxHQUFHQTtBQUN4QixHQUFHRCxjQUFlQSxDQUFBQSxhQUFhLENBQUMsS0FDaEMsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZGlzcG9zYWJsZS5qcz8xNDk4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCB2YXIgRGlzcG9zYWJsZTtcbihmdW5jdGlvbiAoRGlzcG9zYWJsZSkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzcG9zZTogYXN5bmMgKCkgPT4gYXdhaXQgY2FsbGJhY2soKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBEaXNwb3NhYmxlLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKERpc3Bvc2FibGUgfHwgKERpc3Bvc2FibGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcG9zYWJsZS5qcy5tYXAiXSwibmFtZXMiOlsiRGlzcG9zYWJsZSIsImNyZWF0ZSIsImNhbGxiYWNrIiwiZGlzcG9zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/disposable.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/errors.js":
/*!**************************************************!*\
  !*** ./node_modules/langium/lib/utils/errors.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorWithLocation: () => (/* binding */ ErrorWithLocation),\n/* harmony export */   assertUnreachable: () => (/* binding */ assertUnreachable)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ class ErrorWithLocation extends Error {\n    constructor(node, message){\n        super(node ? `${message} at ${node.range.start.line}:${node.range.start.character}` : message);\n    }\n}\nfunction assertUnreachable(_) {\n    throw new Error(\"Error! The input value was not handled.\");\n} //# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ3ZFLE1BQU1BLDBCQUEwQkM7SUFDbkNDLFlBQVlDLElBQUksRUFBRUMsT0FBTyxDQUFFO1FBQ3ZCLEtBQUssQ0FBQ0QsT0FBTyxDQUFDLEVBQUVDLFFBQVEsSUFBSSxFQUFFRCxLQUFLRSxLQUFLLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUMsRUFBRUosS0FBS0UsS0FBSyxDQUFDQyxLQUFLLENBQUNFLFNBQVMsQ0FBQyxDQUFDLEdBQUdKO0lBQzFGO0FBQ0o7QUFDTyxTQUFTSyxrQkFBa0JDLENBQUM7SUFDL0IsTUFBTSxJQUFJVCxNQUFNO0FBQ3BCLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZXJyb3JzLmpzP2NiMDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGNsYXNzIEVycm9yV2l0aExvY2F0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG5vZGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobm9kZSA/IGAke21lc3NhZ2V9IGF0ICR7bm9kZS5yYW5nZS5zdGFydC5saW5lfToke25vZGUucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyfWAgOiBtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VW5yZWFjaGFibGUoXykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IhIFRoZSBpbnB1dCB2YWx1ZSB3YXMgbm90IGhhbmRsZWQuJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbIkVycm9yV2l0aExvY2F0aW9uIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm5vZGUiLCJtZXNzYWdlIiwicmFuZ2UiLCJzdGFydCIsImxpbmUiLCJjaGFyYWN0ZXIiLCJhc3NlcnRVbnJlYWNoYWJsZSIsIl8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/grammar-loader.js":
/*!**********************************************************!*\
  !*** ./node_modules/langium/lib/utils/grammar-loader.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadGrammarFromJson: () => (/* binding */ loadGrammarFromJson)\n/* harmony export */ });\n/* harmony import */ var _default_module_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../default-module.js */ \"(ssr)/./node_modules/langium/lib/default-module.js\");\n/* harmony import */ var _dependency_injection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dependency-injection.js */ \"(ssr)/./node_modules/langium/lib/dependency-injection.js\");\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _workspace_file_system_provider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../workspace/file-system-provider.js */ \"(ssr)/./node_modules/langium/lib/workspace/file-system-provider.js\");\n/* harmony import */ var _uri_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uri-utils.js */ \"(ssr)/./node_modules/vscode-uri/lib/esm/index.mjs\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\nconst minimalGrammarModule = {\n    Grammar: ()=>undefined,\n    LanguageMetaData: ()=>({\n            caseInsensitive: false,\n            fileExtensions: [\n                \".langium\"\n            ],\n            languageId: \"langium\"\n        })\n};\nconst minimalSharedGrammarModule = {\n    AstReflection: ()=>new _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.LangiumGrammarAstReflection()\n};\nfunction createMinimalGrammarServices() {\n    const shared = (0,_dependency_injection_js__WEBPACK_IMPORTED_MODULE_1__.inject)((0,_default_module_js__WEBPACK_IMPORTED_MODULE_2__.createDefaultSharedCoreModule)(_workspace_file_system_provider_js__WEBPACK_IMPORTED_MODULE_3__.EmptyFileSystem), minimalSharedGrammarModule);\n    const grammar = (0,_dependency_injection_js__WEBPACK_IMPORTED_MODULE_1__.inject)((0,_default_module_js__WEBPACK_IMPORTED_MODULE_2__.createDefaultCoreModule)({\n        shared\n    }), minimalGrammarModule);\n    shared.ServiceRegistry.register(grammar);\n    return grammar;\n}\n/**\n * Load a Langium grammar for your language from a JSON string. This is used by several services,\n * most notably the parser builder which interprets the grammar to create a parser.\n */ function loadGrammarFromJson(json) {\n    var _a;\n    const services = createMinimalGrammarServices();\n    const astNode = services.serializer.JsonSerializer.deserialize(json);\n    services.shared.workspace.LangiumDocumentFactory.fromModel(astNode, _uri_utils_js__WEBPACK_IMPORTED_MODULE_4__.URI.parse(`memory://${(_a = astNode.name) !== null && _a !== void 0 ? _a : \"grammar\"}.langium`));\n    return astNode;\n} //# sourceMappingURL=grammar-loader.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZ3JhbW1hci1sb2FkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ2dCO0FBQzFDO0FBQ0M7QUFDa0I7QUFDbEM7QUFDckMsTUFBTU0sdUJBQXVCO0lBQ3pCQyxTQUFTLElBQU1DO0lBQ2ZDLGtCQUFrQixJQUFPO1lBQ3JCQyxpQkFBaUI7WUFDakJDLGdCQUFnQjtnQkFBQzthQUFXO1lBQzVCQyxZQUFZO1FBQ2hCO0FBQ0o7QUFDQSxNQUFNQyw2QkFBNkI7SUFDL0JDLGVBQWUsSUFBTSxJQUFJWCxvRkFBK0I7QUFDNUQ7QUFDQSxTQUFTYTtJQUNMLE1BQU1DLFNBQVNmLGdFQUFNQSxDQUFDRCxpRkFBNkJBLENBQUNHLCtFQUFlQSxHQUFHUztJQUN0RSxNQUFNSyxVQUFVaEIsZ0VBQU1BLENBQUNGLDJFQUF1QkEsQ0FBQztRQUFFaUI7SUFBTyxJQUFJWDtJQUM1RFcsT0FBT0UsZUFBZSxDQUFDQyxRQUFRLENBQUNGO0lBQ2hDLE9BQU9BO0FBQ1g7QUFDQTs7O0NBR0MsR0FDTSxTQUFTRyxvQkFBb0JDLElBQUk7SUFDcEMsSUFBSUM7SUFDSixNQUFNQyxXQUFXUjtJQUNqQixNQUFNUyxVQUFVRCxTQUFTRSxVQUFVLENBQUNDLGNBQWMsQ0FBQ0MsV0FBVyxDQUFDTjtJQUMvREUsU0FBU1AsTUFBTSxDQUFDWSxTQUFTLENBQUNDLHNCQUFzQixDQUFDQyxTQUFTLENBQUNOLFNBQVNwQiw4Q0FBR0EsQ0FBQzJCLEtBQUssQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDVCxLQUFLRSxRQUFRUSxJQUFJLE1BQU0sUUFBUVYsT0FBTyxLQUFLLElBQUlBLEtBQUssVUFBVSxRQUFRLENBQUM7SUFDbEssT0FBT0U7QUFDWCxFQUNBLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3V0aWxzL2dyYW1tYXItbG9hZGVyLmpzP2Y2ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjMgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgY3JlYXRlRGVmYXVsdENvcmVNb2R1bGUsIGNyZWF0ZURlZmF1bHRTaGFyZWRDb3JlTW9kdWxlIH0gZnJvbSAnLi4vZGVmYXVsdC1tb2R1bGUuanMnO1xuaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAnLi4vZGVwZW5kZW5jeS1pbmplY3Rpb24uanMnO1xuaW1wb3J0ICogYXMgYXN0IGZyb20gJy4uL2xhbmd1YWdlcy9nZW5lcmF0ZWQvYXN0LmpzJztcbmltcG9ydCB7IEVtcHR5RmlsZVN5c3RlbSB9IGZyb20gJy4uL3dvcmtzcGFjZS9maWxlLXN5c3RlbS1wcm92aWRlci5qcyc7XG5pbXBvcnQgeyBVUkkgfSBmcm9tICcuL3VyaS11dGlscy5qcyc7XG5jb25zdCBtaW5pbWFsR3JhbW1hck1vZHVsZSA9IHtcbiAgICBHcmFtbWFyOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgTGFuZ3VhZ2VNZXRhRGF0YTogKCkgPT4gKHtcbiAgICAgICAgY2FzZUluc2Vuc2l0aXZlOiBmYWxzZSxcbiAgICAgICAgZmlsZUV4dGVuc2lvbnM6IFsnLmxhbmdpdW0nXSxcbiAgICAgICAgbGFuZ3VhZ2VJZDogJ2xhbmdpdW0nXG4gICAgfSlcbn07XG5jb25zdCBtaW5pbWFsU2hhcmVkR3JhbW1hck1vZHVsZSA9IHtcbiAgICBBc3RSZWZsZWN0aW9uOiAoKSA9PiBuZXcgYXN0LkxhbmdpdW1HcmFtbWFyQXN0UmVmbGVjdGlvbigpXG59O1xuZnVuY3Rpb24gY3JlYXRlTWluaW1hbEdyYW1tYXJTZXJ2aWNlcygpIHtcbiAgICBjb25zdCBzaGFyZWQgPSBpbmplY3QoY3JlYXRlRGVmYXVsdFNoYXJlZENvcmVNb2R1bGUoRW1wdHlGaWxlU3lzdGVtKSwgbWluaW1hbFNoYXJlZEdyYW1tYXJNb2R1bGUpO1xuICAgIGNvbnN0IGdyYW1tYXIgPSBpbmplY3QoY3JlYXRlRGVmYXVsdENvcmVNb2R1bGUoeyBzaGFyZWQgfSksIG1pbmltYWxHcmFtbWFyTW9kdWxlKTtcbiAgICBzaGFyZWQuU2VydmljZVJlZ2lzdHJ5LnJlZ2lzdGVyKGdyYW1tYXIpO1xuICAgIHJldHVybiBncmFtbWFyO1xufVxuLyoqXG4gKiBMb2FkIGEgTGFuZ2l1bSBncmFtbWFyIGZvciB5b3VyIGxhbmd1YWdlIGZyb20gYSBKU09OIHN0cmluZy4gVGhpcyBpcyB1c2VkIGJ5IHNldmVyYWwgc2VydmljZXMsXG4gKiBtb3N0IG5vdGFibHkgdGhlIHBhcnNlciBidWlsZGVyIHdoaWNoIGludGVycHJldHMgdGhlIGdyYW1tYXIgdG8gY3JlYXRlIGEgcGFyc2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEdyYW1tYXJGcm9tSnNvbihqc29uKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHNlcnZpY2VzID0gY3JlYXRlTWluaW1hbEdyYW1tYXJTZXJ2aWNlcygpO1xuICAgIGNvbnN0IGFzdE5vZGUgPSBzZXJ2aWNlcy5zZXJpYWxpemVyLkpzb25TZXJpYWxpemVyLmRlc2VyaWFsaXplKGpzb24pO1xuICAgIHNlcnZpY2VzLnNoYXJlZC53b3Jrc3BhY2UuTGFuZ2l1bURvY3VtZW50RmFjdG9yeS5mcm9tTW9kZWwoYXN0Tm9kZSwgVVJJLnBhcnNlKGBtZW1vcnk6Ly8keyhfYSA9IGFzdE5vZGUubmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ2dyYW1tYXInfS5sYW5naXVtYCkpO1xuICAgIHJldHVybiBhc3ROb2RlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhbW1hci1sb2FkZXIuanMubWFwIl0sIm5hbWVzIjpbImNyZWF0ZURlZmF1bHRDb3JlTW9kdWxlIiwiY3JlYXRlRGVmYXVsdFNoYXJlZENvcmVNb2R1bGUiLCJpbmplY3QiLCJhc3QiLCJFbXB0eUZpbGVTeXN0ZW0iLCJVUkkiLCJtaW5pbWFsR3JhbW1hck1vZHVsZSIsIkdyYW1tYXIiLCJ1bmRlZmluZWQiLCJMYW5ndWFnZU1ldGFEYXRhIiwiY2FzZUluc2Vuc2l0aXZlIiwiZmlsZUV4dGVuc2lvbnMiLCJsYW5ndWFnZUlkIiwibWluaW1hbFNoYXJlZEdyYW1tYXJNb2R1bGUiLCJBc3RSZWZsZWN0aW9uIiwiTGFuZ2l1bUdyYW1tYXJBc3RSZWZsZWN0aW9uIiwiY3JlYXRlTWluaW1hbEdyYW1tYXJTZXJ2aWNlcyIsInNoYXJlZCIsImdyYW1tYXIiLCJTZXJ2aWNlUmVnaXN0cnkiLCJyZWdpc3RlciIsImxvYWRHcmFtbWFyRnJvbUpzb24iLCJqc29uIiwiX2EiLCJzZXJ2aWNlcyIsImFzdE5vZGUiLCJzZXJpYWxpemVyIiwiSnNvblNlcmlhbGl6ZXIiLCJkZXNlcmlhbGl6ZSIsIndvcmtzcGFjZSIsIkxhbmdpdW1Eb2N1bWVudEZhY3RvcnkiLCJmcm9tTW9kZWwiLCJwYXJzZSIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/grammar-loader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/grammar-utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/langium/lib/utils/grammar-utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findAssignment: () => (/* binding */ findAssignment),\n/* harmony export */   findNameAssignment: () => (/* binding */ findNameAssignment),\n/* harmony export */   findNodeForKeyword: () => (/* binding */ findNodeForKeyword),\n/* harmony export */   findNodeForProperty: () => (/* binding */ findNodeForProperty),\n/* harmony export */   findNodesForKeyword: () => (/* binding */ findNodesForKeyword),\n/* harmony export */   findNodesForKeywordInternal: () => (/* binding */ findNodesForKeywordInternal),\n/* harmony export */   findNodesForProperty: () => (/* binding */ findNodesForProperty),\n/* harmony export */   getActionAtElement: () => (/* binding */ getActionAtElement),\n/* harmony export */   getActionType: () => (/* binding */ getActionType),\n/* harmony export */   getAllReachableRules: () => (/* binding */ getAllReachableRules),\n/* harmony export */   getCrossReferenceTerminal: () => (/* binding */ getCrossReferenceTerminal),\n/* harmony export */   getEntryRule: () => (/* binding */ getEntryRule),\n/* harmony export */   getExplicitRuleType: () => (/* binding */ getExplicitRuleType),\n/* harmony export */   getHiddenRules: () => (/* binding */ getHiddenRules),\n/* harmony export */   getRuleType: () => (/* binding */ getRuleType),\n/* harmony export */   getRuleTypeName: () => (/* binding */ getRuleTypeName),\n/* harmony export */   getTypeName: () => (/* binding */ getTypeName),\n/* harmony export */   isArrayCardinality: () => (/* binding */ isArrayCardinality),\n/* harmony export */   isArrayOperator: () => (/* binding */ isArrayOperator),\n/* harmony export */   isCommentTerminal: () => (/* binding */ isCommentTerminal),\n/* harmony export */   isDataType: () => (/* binding */ isDataType),\n/* harmony export */   isDataTypeRule: () => (/* binding */ isDataTypeRule),\n/* harmony export */   isOptionalCardinality: () => (/* binding */ isOptionalCardinality),\n/* harmony export */   terminalRegex: () => (/* binding */ terminalRegex)\n/* harmony export */ });\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/errors.js */ \"(ssr)/./node_modules/langium/lib/utils/errors.js\");\n/* harmony import */ var _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../languages/generated/ast.js */ \"(ssr)/./node_modules/langium/lib/languages/generated/ast.js\");\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _cst_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/* harmony import */ var _regexp_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./regexp-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/regexp-utils.js\");\n/******************************************************************************\n * Copyright 2021-2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\n/**\n * Returns the entry rule of the given grammar, if any. If the grammar file does not contain an entry rule,\n * the result is `undefined`.\n */ function getEntryRule(grammar) {\n    return grammar.rules.find((e)=>_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isParserRule(e) && e.entry);\n}\n/**\n * Returns all hidden terminal rules of the given grammar, if any.\n */ function getHiddenRules(grammar) {\n    return grammar.rules.filter((e)=>_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRule(e) && e.hidden);\n}\n/**\n * Returns all rules that can be reached from the topmost rules of the specified grammar (entry and hidden terminal rules).\n *\n * @param grammar The grammar that contains all rules\n * @param allTerminals Whether or not to include terminals that are referenced only by other terminals\n * @returns A list of referenced parser and terminal rules. If the grammar contains no entry rule,\n *      this function returns all rules of the specified grammar.\n */ function getAllReachableRules(grammar, allTerminals) {\n    const ruleNames = new Set();\n    const entryRule = getEntryRule(grammar);\n    if (!entryRule) {\n        return new Set(grammar.rules);\n    }\n    const topMostRules = [\n        entryRule\n    ].concat(getHiddenRules(grammar));\n    for (const rule of topMostRules){\n        ruleDfs(rule, ruleNames, allTerminals);\n    }\n    const rules = new Set();\n    for (const rule of grammar.rules){\n        if (ruleNames.has(rule.name) || _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRule(rule) && rule.hidden) {\n            rules.add(rule);\n        }\n    }\n    return rules;\n}\nfunction ruleDfs(rule, visitedSet, allTerminals) {\n    visitedSet.add(rule.name);\n    (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAllContents)(rule).forEach((node)=>{\n        if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isRuleCall(node) || allTerminals && _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRuleCall(node)) {\n            const refRule = node.rule.ref;\n            if (refRule && !visitedSet.has(refRule.name)) {\n                ruleDfs(refRule, visitedSet, allTerminals);\n            }\n        }\n    });\n}\n/**\n * Determines the grammar expression used to parse a cross-reference (usually a reference to a terminal rule).\n * A cross-reference can declare this expression explicitly in the form `[Type : Terminal]`, but if `Terminal`\n * is omitted, this function attempts to infer it from the name of the referenced `Type` (using `findNameAssignment`).\n *\n * Returns the grammar expression used to parse the given cross-reference, or `undefined` if it is not declared\n * and cannot be inferred.\n */ function getCrossReferenceTerminal(crossRef) {\n    if (crossRef.terminal) {\n        return crossRef.terminal;\n    } else if (crossRef.type.ref) {\n        const nameAssigment = findNameAssignment(crossRef.type.ref);\n        return nameAssigment === null || nameAssigment === void 0 ? void 0 : nameAssigment.terminal;\n    }\n    return undefined;\n}\n/**\n * Determines whether the given terminal rule represents a comment. This is true if the rule is marked\n * as `hidden` and it does not match white space. This means every hidden token (i.e. excluded from the AST)\n * that contains visible characters is considered a comment.\n */ function isCommentTerminal(terminalRule) {\n    return terminalRule.hidden && !(0,_regexp_utils_js__WEBPACK_IMPORTED_MODULE_2__.isWhitespace)(terminalRegex(terminalRule));\n}\n/**\n * Find all CST nodes within the given node that contribute to the specified property.\n *\n * @param node A CST node in which to look for property assignments. If this is undefined, the result is an empty array.\n * @param property A property name of the constructed AST node. If this is undefined, the result is an empty array.\n */ function findNodesForProperty(node, property) {\n    if (!node || !property) {\n        return [];\n    }\n    return findNodesForPropertyInternal(node, property, node.astNode, true);\n}\n/**\n * Find a single CST node within the given node that contributes to the specified property.\n *\n * @param node A CST node in which to look for property assignments. If this is undefined, the result is `undefined`.\n * @param property A property name of the constructed AST node. If this is undefined, the result is `undefined`.\n * @param index If no index is specified or the index is less than zero, the first found node is returned. If the\n *        specified index exceeds the number of assignments to the property, the last found node is returned. Otherwise,\n *        the node with the specified index is returned.\n */ function findNodeForProperty(node, property, index) {\n    if (!node || !property) {\n        return undefined;\n    }\n    const nodes = findNodesForPropertyInternal(node, property, node.astNode, true);\n    if (nodes.length === 0) {\n        return undefined;\n    }\n    if (index !== undefined) {\n        index = Math.max(0, Math.min(index, nodes.length - 1));\n    } else {\n        index = 0;\n    }\n    return nodes[index];\n}\nfunction findNodesForPropertyInternal(node, property, element, first) {\n    if (!first) {\n        const nodeFeature = (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.getContainerOfType)(node.grammarSource, _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAssignment);\n        if (nodeFeature && nodeFeature.feature === property) {\n            return [\n                node\n            ];\n        }\n    }\n    if ((0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_3__.isCompositeCstNode)(node) && node.astNode === element) {\n        return node.content.flatMap((e)=>findNodesForPropertyInternal(e, property, element, false));\n    }\n    return [];\n}\n/**\n * Find all CST nodes within the given node that correspond to the specified keyword.\n *\n * @param node A CST node in which to look for keywords. If this is undefined, the result is an empty array.\n * @param keyword A keyword as specified in the grammar.\n */ function findNodesForKeyword(node, keyword) {\n    if (!node) {\n        return [];\n    }\n    return findNodesForKeywordInternal(node, keyword, node === null || node === void 0 ? void 0 : node.astNode);\n}\n/**\n * Find a single CST node within the given node that corresponds to the specified keyword.\n *\n * @param node A CST node in which to look for keywords. If this is undefined, the result is `undefined`.\n * @param keyword A keyword as specified in the grammar.\n * @param index If no index is specified or the index is less than zero, the first found node is returned. If the\n *        specified index exceeds the number of keyword occurrences, the last found node is returned. Otherwise,\n *        the node with the specified index is returned.\n */ function findNodeForKeyword(node, keyword, index) {\n    if (!node) {\n        return undefined;\n    }\n    const nodes = findNodesForKeywordInternal(node, keyword, node === null || node === void 0 ? void 0 : node.astNode);\n    if (nodes.length === 0) {\n        return undefined;\n    }\n    if (index !== undefined) {\n        index = Math.max(0, Math.min(index, nodes.length - 1));\n    } else {\n        index = 0;\n    }\n    return nodes[index];\n}\nfunction findNodesForKeywordInternal(node, keyword, element) {\n    if (node.astNode !== element) {\n        return [];\n    }\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isKeyword(node.grammarSource) && node.grammarSource.value === keyword) {\n        return [\n            node\n        ];\n    }\n    const treeIterator = (0,_cst_utils_js__WEBPACK_IMPORTED_MODULE_4__.streamCst)(node).iterator();\n    let result;\n    const keywordNodes = [];\n    do {\n        result = treeIterator.next();\n        if (!result.done) {\n            const childNode = result.value;\n            if (childNode.astNode === element) {\n                if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isKeyword(childNode.grammarSource) && childNode.grammarSource.value === keyword) {\n                    keywordNodes.push(childNode);\n                }\n            } else {\n                treeIterator.prune();\n            }\n        }\n    }while (!result.done);\n    return keywordNodes;\n}\n/**\n * If the given CST node was parsed in the context of a property assignment, the respective `Assignment` grammar\n * node is returned. If no assignment is found, the result is `undefined`.\n *\n * @param cstNode A CST node for which to find a property assignment.\n */ function findAssignment(cstNode) {\n    var _a;\n    const astNode = cstNode.astNode;\n    // Only search until the ast node of the parent cst node is no longer the original ast node\n    // This would make us jump to a preceding rule call, which contains only unrelated assignments\n    while(astNode === ((_a = cstNode.container) === null || _a === void 0 ? void 0 : _a.astNode)){\n        const assignment = (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.getContainerOfType)(cstNode.grammarSource, _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAssignment);\n        if (assignment) {\n            return assignment;\n        }\n        cstNode = cstNode.container;\n    }\n    return undefined;\n}\n/**\n * Find an assignment to the `name` property for the given grammar type. This requires the `type` to be inferred\n * from a parser rule, and that rule must contain an assignment to the `name` property. In all other cases,\n * this function returns `undefined`.\n */ function findNameAssignment(type) {\n    let startNode = type;\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isInferredType(startNode)) {\n        // for inferred types, the location to start searching for the name-assignment is different\n        if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAction(startNode.$container)) {\n            // a type which is explicitly inferred by an action: investigate the sibbling of the Action node, i.e. start searching at the Action's parent\n            startNode = startNode.$container.$container;\n        } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isParserRule(startNode.$container)) {\n            // investigate the parser rule with the explicitly inferred type\n            startNode = startNode.$container;\n        } else {\n            (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_5__.assertUnreachable)(startNode.$container);\n        }\n    }\n    return findNameAssignmentInternal(type, startNode, new Map());\n}\nfunction findNameAssignmentInternal(type, startNode, cache) {\n    var _a;\n    // the cache is only required to prevent infinite loops\n    function go(node, refType) {\n        let childAssignment = undefined;\n        const parentAssignment = (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.getContainerOfType)(node, _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAssignment);\n        // No parent assignment implies unassigned rule call\n        if (!parentAssignment) {\n            childAssignment = findNameAssignmentInternal(refType, refType, cache);\n        }\n        cache.set(type, childAssignment);\n        return childAssignment;\n    }\n    if (cache.has(type)) {\n        return cache.get(type);\n    }\n    cache.set(type, undefined);\n    for (const node of (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAllContents)(startNode)){\n        if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAssignment(node) && node.feature.toLowerCase() === \"name\") {\n            cache.set(type, node);\n            return node;\n        } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isRuleCall(node) && _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isParserRule(node.rule.ref)) {\n            return go(node, node.rule.ref);\n        } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isSimpleType(node) && ((_a = node.typeRef) === null || _a === void 0 ? void 0 : _a.ref)) {\n            return go(node, node.typeRef.ref);\n        }\n    }\n    return undefined;\n}\nfunction getActionAtElement(element) {\n    const parent = element.$container;\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isGroup(parent)) {\n        const elements = parent.elements;\n        const index = elements.indexOf(element);\n        for(let i = index - 1; i >= 0; i--){\n            const item = elements[i];\n            if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAction(item)) {\n                return item;\n            } else {\n                const action = (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAllContents)(elements[i]).find(_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAction);\n                if (action) {\n                    return action;\n                }\n            }\n        }\n    }\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAbstractElement(parent)) {\n        return getActionAtElement(parent);\n    } else {\n        return undefined;\n    }\n}\nfunction isOptionalCardinality(cardinality, element) {\n    return cardinality === \"?\" || cardinality === \"*\" || _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isGroup(element) && Boolean(element.guardCondition);\n}\nfunction isArrayCardinality(cardinality) {\n    return cardinality === \"*\" || cardinality === \"+\";\n}\nfunction isArrayOperator(operator) {\n    return operator === \"+=\";\n}\n/**\n * Determines whether the given parser rule is a _data type rule_, meaning that it has a\n * primitive return type like `number`, `boolean`, etc.\n */ function isDataTypeRule(rule) {\n    return isDataTypeRuleInternal(rule, new Set());\n}\nfunction isDataTypeRuleInternal(rule, visited) {\n    if (visited.has(rule)) {\n        return true;\n    } else {\n        visited.add(rule);\n    }\n    for (const node of (0,_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.streamAllContents)(rule)){\n        if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isRuleCall(node)) {\n            if (!node.rule.ref) {\n                // RuleCall to unresolved rule. Don't assume `rule` is a DataType rule.\n                return false;\n            }\n            if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isParserRule(node.rule.ref) && !isDataTypeRuleInternal(node.rule.ref, visited)) {\n                return false;\n            }\n        } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAssignment(node)) {\n            return false;\n        } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAction(node)) {\n            return false;\n        }\n    }\n    return Boolean(rule.definition);\n}\nfunction isDataType(type) {\n    return isDataTypeInternal(type.type, new Set());\n}\nfunction isDataTypeInternal(type, visited) {\n    if (visited.has(type)) {\n        return true;\n    } else {\n        visited.add(type);\n    }\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isArrayType(type)) {\n        return false;\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isReferenceType(type)) {\n        return false;\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isUnionType(type)) {\n        return type.types.every((e)=>isDataTypeInternal(e, visited));\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isSimpleType(type)) {\n        if (type.primitiveType !== undefined) {\n            return true;\n        } else if (type.stringType !== undefined) {\n            return true;\n        } else if (type.typeRef !== undefined) {\n            const ref = type.typeRef.ref;\n            if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isType(ref)) {\n                return isDataTypeInternal(ref.type, visited);\n            } else {\n                return false;\n            }\n        } else {\n            return false;\n        }\n    } else {\n        return false;\n    }\n}\nfunction getExplicitRuleType(rule) {\n    if (rule.inferredType) {\n        return rule.inferredType.name;\n    } else if (rule.dataType) {\n        return rule.dataType;\n    } else if (rule.returnType) {\n        const refType = rule.returnType.ref;\n        if (refType) {\n            // check if we need to check Action as return type\n            if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isParserRule(refType)) {\n                return refType.name;\n            } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isInterface(refType) || _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isType(refType)) {\n                return refType.name;\n            }\n        }\n    }\n    return undefined;\n}\nfunction getTypeName(type) {\n    var _a;\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isParserRule(type)) {\n        return isDataTypeRule(type) ? type.name : (_a = getExplicitRuleType(type)) !== null && _a !== void 0 ? _a : type.name;\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isInterface(type) || _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isType(type) || _languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isReturnType(type)) {\n        return type.name;\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isAction(type)) {\n        const actionType = getActionType(type);\n        if (actionType) {\n            return actionType;\n        }\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isInferredType(type)) {\n        return type.name;\n    }\n    throw new Error(\"Cannot get name of Unknown Type\");\n}\nfunction getActionType(action) {\n    var _a;\n    if (action.inferredType) {\n        return action.inferredType.name;\n    } else if ((_a = action.type) === null || _a === void 0 ? void 0 : _a.ref) {\n        return getTypeName(action.type.ref);\n    }\n    return undefined; // not inferring and not referencing a valid type\n}\n/**\n * This function is used at development time (for code generation and the internal type system) to get the type of the AST node produced by the given rule.\n * For data type rules, the name of the rule is returned,\n * e.g. \"INT_value returns number: MY_INT;\" returns \"INT_value\".\n * @param rule the given rule\n * @returns the name of the AST node type of the rule\n */ function getRuleTypeName(rule) {\n    var _a, _b, _c;\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRule(rule)) {\n        return (_b = (_a = rule.type) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : \"string\";\n    } else {\n        return isDataTypeRule(rule) ? rule.name : (_c = getExplicitRuleType(rule)) !== null && _c !== void 0 ? _c : rule.name;\n    }\n}\n/**\n * This function is used at runtime to get the actual type of the values produced by the given rule at runtime.\n * For data type rules, the name of the declared return type of the rule is returned (if any),\n * e.g. \"INT_value returns number: MY_INT;\" returns \"number\".\n * @param rule the given rule\n * @returns the name of the type of the produced values of the rule at runtime\n */ function getRuleType(rule) {\n    var _a, _b, _c;\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRule(rule)) {\n        return (_b = (_a = rule.type) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : \"string\";\n    } else {\n        return (_c = getExplicitRuleType(rule)) !== null && _c !== void 0 ? _c : rule.name;\n    }\n}\nfunction terminalRegex(terminalRule) {\n    const flags = {\n        s: false,\n        i: false,\n        u: false\n    };\n    const source = abstractElementToRegex(terminalRule.definition, flags);\n    const flagText = Object.entries(flags).filter(([, value])=>value).map(([name])=>name).join(\"\");\n    return new RegExp(source, flagText);\n}\n// Using [\\s\\S]* allows to match everything, compared to . which doesn't match line terminators\nconst WILDCARD = /[\\s\\S]/.source;\nfunction abstractElementToRegex(element, flags) {\n    if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalAlternatives(element)) {\n        return terminalAlternativesToRegex(element);\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalGroup(element)) {\n        return terminalGroupToRegex(element);\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isCharacterRange(element)) {\n        return characterRangeToRegex(element);\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isTerminalRuleCall(element)) {\n        const rule = element.rule.ref;\n        if (!rule) {\n            throw new Error(\"Missing rule reference.\");\n        }\n        return withCardinality(abstractElementToRegex(rule.definition), {\n            cardinality: element.cardinality,\n            lookahead: element.lookahead\n        });\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isNegatedToken(element)) {\n        return negateTokenToRegex(element);\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isUntilToken(element)) {\n        return untilTokenToRegex(element);\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isRegexToken(element)) {\n        const lastSlash = element.regex.lastIndexOf(\"/\");\n        const source = element.regex.substring(1, lastSlash);\n        const regexFlags = element.regex.substring(lastSlash + 1);\n        if (flags) {\n            flags.i = regexFlags.includes(\"i\");\n            flags.s = regexFlags.includes(\"s\");\n            flags.u = regexFlags.includes(\"u\");\n        }\n        return withCardinality(source, {\n            cardinality: element.cardinality,\n            lookahead: element.lookahead,\n            wrap: false\n        });\n    } else if (_languages_generated_ast_js__WEBPACK_IMPORTED_MODULE_0__.isWildcard(element)) {\n        return withCardinality(WILDCARD, {\n            cardinality: element.cardinality,\n            lookahead: element.lookahead\n        });\n    } else {\n        throw new Error(`Invalid terminal element: ${element === null || element === void 0 ? void 0 : element.$type}`);\n    }\n}\nfunction terminalAlternativesToRegex(alternatives) {\n    return withCardinality(alternatives.elements.map((e)=>abstractElementToRegex(e)).join(\"|\"), {\n        cardinality: alternatives.cardinality,\n        lookahead: alternatives.lookahead\n    });\n}\nfunction terminalGroupToRegex(group) {\n    return withCardinality(group.elements.map((e)=>abstractElementToRegex(e)).join(\"\"), {\n        cardinality: group.cardinality,\n        lookahead: group.lookahead\n    });\n}\nfunction untilTokenToRegex(until) {\n    return withCardinality(`${WILDCARD}*?${abstractElementToRegex(until.terminal)}`, {\n        cardinality: until.cardinality,\n        lookahead: until.lookahead\n    });\n}\nfunction negateTokenToRegex(negate) {\n    return withCardinality(`(?!${abstractElementToRegex(negate.terminal)})${WILDCARD}*?`, {\n        cardinality: negate.cardinality,\n        lookahead: negate.lookahead\n    });\n}\nfunction characterRangeToRegex(range) {\n    if (range.right) {\n        return withCardinality(`[${keywordToRegex(range.left)}-${keywordToRegex(range.right)}]`, {\n            cardinality: range.cardinality,\n            lookahead: range.lookahead,\n            wrap: false\n        });\n    }\n    return withCardinality(keywordToRegex(range.left), {\n        cardinality: range.cardinality,\n        lookahead: range.lookahead,\n        wrap: false\n    });\n}\nfunction keywordToRegex(keyword) {\n    return (0,_regexp_utils_js__WEBPACK_IMPORTED_MODULE_2__.escapeRegExp)(keyword.value);\n}\nfunction withCardinality(regex, options) {\n    var _a;\n    if (options.wrap !== false || options.lookahead) {\n        regex = `(${(_a = options.lookahead) !== null && _a !== void 0 ? _a : \"\"}${regex})`;\n    }\n    if (options.cardinality) {\n        return `${regex}${options.cardinality}`;\n    }\n    return regex;\n} //# sourceMappingURL=grammar-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZ3JhbW1hci11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDdkI7QUFDRjtBQUNFO0FBQ2dCO0FBQzVCO0FBQ29CO0FBQy9EOzs7Q0FHQyxHQUNNLFNBQVNRLGFBQWFDLE9BQU87SUFDaEMsT0FBT0EsUUFBUUMsS0FBSyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLElBQUtYLHFFQUFnQixDQUFDVyxNQUFNQSxFQUFFRSxLQUFLO0FBQ2pFO0FBQ0E7O0NBRUMsR0FDTSxTQUFTQyxlQUFlTixPQUFPO0lBQ2xDLE9BQU9BLFFBQVFDLEtBQUssQ0FBQ00sTUFBTSxDQUFDLENBQUNKLElBQU1YLHVFQUFrQixDQUFDVyxNQUFNQSxFQUFFTSxNQUFNO0FBQ3hFO0FBQ0E7Ozs7Ozs7Q0FPQyxHQUNNLFNBQVNDLHFCQUFxQlYsT0FBTyxFQUFFVyxZQUFZO0lBQ3RELE1BQU1DLFlBQVksSUFBSUM7SUFDdEIsTUFBTUMsWUFBWWYsYUFBYUM7SUFDL0IsSUFBSSxDQUFDYyxXQUFXO1FBQ1osT0FBTyxJQUFJRCxJQUFJYixRQUFRQyxLQUFLO0lBQ2hDO0lBQ0EsTUFBTWMsZUFBZTtRQUFDRDtLQUFVLENBQUNFLE1BQU0sQ0FBQ1YsZUFBZU47SUFDdkQsS0FBSyxNQUFNaUIsUUFBUUYsYUFBYztRQUM3QkcsUUFBUUQsTUFBTUwsV0FBV0Q7SUFDN0I7SUFDQSxNQUFNVixRQUFRLElBQUlZO0lBQ2xCLEtBQUssTUFBTUksUUFBUWpCLFFBQVFDLEtBQUssQ0FBRTtRQUM5QixJQUFJVyxVQUFVTyxHQUFHLENBQUNGLEtBQUtHLElBQUksS0FBTTVCLHVFQUFrQixDQUFDeUIsU0FBU0EsS0FBS1IsTUFBTSxFQUFHO1lBQ3ZFUixNQUFNb0IsR0FBRyxDQUFDSjtRQUNkO0lBQ0o7SUFDQSxPQUFPaEI7QUFDWDtBQUNBLFNBQVNpQixRQUFRRCxJ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QUksRUFBRSxDQUFDLEVBQUVELGVBQWVGLE1BQU1DLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNyRnpFLGFBQWF3RSxNQUFNeEUsV0FBVztZQUM5QnFELFdBQVdtQixNQUFNbkIsU0FBUztZQUMxQlksTUFBTTtRQUNWO0lBQ0o7SUFDQSxPQUFPYixnQkFBZ0JzQixlQUFlRixNQUFNRyxJQUFJLEdBQUc7UUFDL0MzRSxhQUFhd0UsTUFBTXhFLFdBQVc7UUFDOUJxRCxXQUFXbUIsTUFBTW5CLFNBQVM7UUFDMUJZLE1BQU07SUFDVjtBQUNKO0FBQ0EsU0FBU1MsZUFBZXZILE9BQU87SUFDM0IsT0FBTzlELDhEQUFZQSxDQUFDOEQsUUFBUUksS0FBSztBQUNyQztBQUNBLFNBQVM2RixnQkFBZ0JRLEtBQUssRUFBRWdCLE9BQU87SUFDbkMsSUFBSXpHO0lBQ0osSUFBSXlHLFFBQVFYLElBQUksS0FBSyxTQUFTVyxRQUFRdkIsU0FBUyxFQUFFO1FBQzdDTyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUN6RixLQUFLeUcsUUFBUXZCLFNBQVMsTUFBTSxRQUFRbEYsT0FBTyxLQUFLLElBQUlBLEtBQUssR0FBRyxFQUFFeUYsTUFBTSxDQUFDLENBQUM7SUFDdkY7SUFDQSxJQUFJZ0IsUUFBUTVFLFdBQVcsRUFBRTtRQUNyQixPQUFPLENBQUMsRUFBRTRELE1BQU0sRUFBRWdCLFFBQVE1RSxXQUFXLENBQUMsQ0FBQztJQUMzQztJQUNBLE9BQU80RDtBQUNYLEVBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvZ3JhbW1hci11dGlscy5qcz81ZDI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxLTIwMjIgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgYXNzZXJ0VW5yZWFjaGFibGUgfSBmcm9tICcuLi91dGlscy9lcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgYXN0IGZyb20gJy4uL2xhbmd1YWdlcy9nZW5lcmF0ZWQvYXN0LmpzJztcbmltcG9ydCB7IGlzQ29tcG9zaXRlQ3N0Tm9kZSB9IGZyb20gJy4uL3N5bnRheC10cmVlLmpzJztcbmltcG9ydCB7IGdldENvbnRhaW5lck9mVHlwZSwgc3RyZWFtQWxsQ29udGVudHMgfSBmcm9tICcuL2FzdC11dGlscy5qcyc7XG5pbXBvcnQgeyBzdHJlYW1Dc3QgfSBmcm9tICcuL2NzdC11dGlscy5qcyc7XG5pbXBvcnQgeyBlc2NhcGVSZWdFeHAsIGlzV2hpdGVzcGFjZSB9IGZyb20gJy4vcmVnZXhwLXV0aWxzLmpzJztcbi8qKlxuICogUmV0dXJucyB0aGUgZW50cnkgcnVsZSBvZiB0aGUgZ2l2ZW4gZ3JhbW1hciwgaWYgYW55LiBJZiB0aGUgZ3JhbW1hciBmaWxlIGRvZXMgbm90IGNvbnRhaW4gYW4gZW50cnkgcnVsZSxcbiAqIHRoZSByZXN1bHQgaXMgYHVuZGVmaW5lZGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRyeVJ1bGUoZ3JhbW1hcikge1xuICAgIHJldHVybiBncmFtbWFyLnJ1bGVzLmZpbmQoZSA9PiBhc3QuaXNQYXJzZXJSdWxlKGUpICYmIGUuZW50cnkpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFsbCBoaWRkZW4gdGVybWluYWwgcnVsZXMgb2YgdGhlIGdpdmVuIGdyYW1tYXIsIGlmIGFueS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhpZGRlblJ1bGVzKGdyYW1tYXIpIHtcbiAgICByZXR1cm4gZ3JhbW1hci5ydWxlcy5maWx0ZXIoKGUpID0+IGFzdC5pc1Rlcm1pbmFsUnVsZShlKSAmJiBlLmhpZGRlbik7XG59XG4vKipcbiAqIFJldHVybnMgYWxsIHJ1bGVzIHRoYXQgY2FuIGJlIHJlYWNoZWQgZnJvbSB0aGUgdG9wbW9zdCBydWxlcyBvZiB0aGUgc3BlY2lmaWVkIGdyYW1tYXIgKGVudHJ5IGFuZCBoaWRkZW4gdGVybWluYWwgcnVsZXMpLlxuICpcbiAqIEBwYXJhbSBncmFtbWFyIFRoZSBncmFtbWFyIHRoYXQgY29udGFpbnMgYWxsIHJ1bGVzXG4gKiBAcGFyYW0gYWxsVGVybWluYWxzIFdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgdGVybWluYWxzIHRoYXQgYXJlIHJlZmVyZW5jZWQgb25seSBieSBvdGhlciB0ZXJtaW5hbHNcbiAqIEByZXR1cm5zIEEgbGlzdCBvZiByZWZlcmVuY2VkIHBhcnNlciBhbmQgdGVybWluYWwgcnVsZXMuIElmIHRoZSBncmFtbWFyIGNvbnRhaW5zIG5vIGVudHJ5IHJ1bGUsXG4gKiAgICAgIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbGwgcnVsZXMgb2YgdGhlIHNwZWNpZmllZCBncmFtbWFyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsUmVhY2hhYmxlUnVsZXMoZ3JhbW1hciwgYWxsVGVybWluYWxzKSB7XG4gICAgY29uc3QgcnVsZU5hbWVzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGVudHJ5UnVsZSA9IGdldEVudHJ5UnVsZShncmFtbWFyKTtcbiAgICBpZiAoIWVudHJ5UnVsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNldChncmFtbWFyLnJ1bGVzKTtcbiAgICB9XG4gICAgY29uc3QgdG9wTW9zdFJ1bGVzID0gW2VudHJ5UnVsZV0uY29uY2F0KGdldEhpZGRlblJ1bGVzKGdyYW1tYXIpKTtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdG9wTW9zdFJ1bGVzKSB7XG4gICAgICAgIHJ1bGVEZnMocnVsZSwgcnVsZU5hbWVzLCBhbGxUZXJtaW5hbHMpO1xuICAgIH1cbiAgICBjb25zdCBydWxlcyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgZ3JhbW1hci5ydWxlcykge1xuICAgICAgICBpZiAocnVsZU5hbWVzLmhhcyhydWxlLm5hbWUpIHx8IChhc3QuaXNUZXJtaW5hbFJ1bGUocnVsZSkgJiYgcnVsZS5oaWRkZW4pKSB7XG4gICAgICAgICAgICBydWxlcy5hZGQocnVsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVzO1xufVxuZnVuY3Rpb24gcnVsZURmcyhydWxlLCB2aXNpdGVkU2V0LCBhbGxUZXJtaW5hbHMpIHtcbiAgICB2aXNpdGVkU2V0LmFkZChydWxlLm5hbWUpO1xuICAgIHN0cmVhbUFsbENvbnRlbnRzKHJ1bGUpLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgIGlmIChhc3QuaXNSdWxlQ2FsbChub2RlKSB8fCAoYWxsVGVybWluYWxzICYmIGFzdC5pc1Rlcm1pbmFsUnVsZUNhbGwobm9kZSkpKSB7XG4gICAgICAgICAgICBjb25zdCByZWZSdWxlID0gbm9kZS5ydWxlLnJlZjtcbiAgICAgICAgICAgIGlmIChyZWZSdWxlICYmICF2aXNpdGVkU2V0LmhhcyhyZWZSdWxlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcnVsZURmcyhyZWZSdWxlLCB2aXNpdGVkU2V0LCBhbGxUZXJtaW5hbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIERldGVybWluZXMgdGhlIGdyYW1tYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHBhcnNlIGEgY3Jvc3MtcmVmZXJlbmNlICh1c3VhbGx5IGEgcmVmZXJlbmNlIHRvIGEgdGVybWluYWwgcnVsZSkuXG4gKiBBIGNyb3NzLXJlZmVyZW5jZSBjYW4gZGVjbGFyZSB0aGlzIGV4cHJlc3Npb24gZXhwbGljaXRseSBpbiB0aGUgZm9ybSBgW1R5cGUgOiBUZXJtaW5hbF1gLCBidXQgaWYgYFRlcm1pbmFsYFxuICogaXMgb21pdHRlZCwgdGhpcyBmdW5jdGlvbiBhdHRlbXB0cyB0byBpbmZlciBpdCBmcm9tIHRoZSBuYW1lIG9mIHRoZSByZWZlcmVuY2VkIGBUeXBlYCAodXNpbmcgYGZpbmROYW1lQXNzaWdubWVudGApLlxuICpcbiAqIFJldHVybnMgdGhlIGdyYW1tYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHBhcnNlIHRoZSBnaXZlbiBjcm9zcy1yZWZlcmVuY2UsIG9yIGB1bmRlZmluZWRgIGlmIGl0IGlzIG5vdCBkZWNsYXJlZFxuICogYW5kIGNhbm5vdCBiZSBpbmZlcnJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENyb3NzUmVmZXJlbmNlVGVybWluYWwoY3Jvc3NSZWYpIHtcbiAgICBpZiAoY3Jvc3NSZWYudGVybWluYWwpIHtcbiAgICAgICAgcmV0dXJuIGNyb3NzUmVmLnRlcm1pbmFsO1xuICAgIH1cbiAgICBlbHNlIGlmIChjcm9zc1JlZi50eXBlLnJlZikge1xuICAgICAgICBjb25zdCBuYW1lQXNzaWdtZW50ID0gZmluZE5hbWVBc3NpZ25tZW50KGNyb3NzUmVmLnR5cGUucmVmKTtcbiAgICAgICAgcmV0dXJuIG5hbWVBc3NpZ21lbnQgPT09IG51bGwgfHwgbmFtZUFzc2lnbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmFtZUFzc2lnbWVudC50ZXJtaW5hbDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiB0ZXJtaW5hbCBydWxlIHJlcHJlc2VudHMgYSBjb21tZW50LiBUaGlzIGlzIHRydWUgaWYgdGhlIHJ1bGUgaXMgbWFya2VkXG4gKiBhcyBgaGlkZGVuYCBhbmQgaXQgZG9lcyBub3QgbWF0Y2ggd2hpdGUgc3BhY2UuIFRoaXMgbWVhbnMgZXZlcnkgaGlkZGVuIHRva2VuIChpLmUuIGV4Y2x1ZGVkIGZyb20gdGhlIEFTVClcbiAqIHRoYXQgY29udGFpbnMgdmlzaWJsZSBjaGFyYWN0ZXJzIGlzIGNvbnNpZGVyZWQgYSBjb21tZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb21tZW50VGVybWluYWwodGVybWluYWxSdWxlKSB7XG4gICAgcmV0dXJuIHRlcm1pbmFsUnVsZS5oaWRkZW4gJiYgIWlzV2hpdGVzcGFjZSh0ZXJtaW5hbFJlZ2V4KHRlcm1pbmFsUnVsZSkpO1xufVxuLyoqXG4gKiBGaW5kIGFsbCBDU1Qgbm9kZXMgd2l0aGluIHRoZSBnaXZlbiBub2RlIHRoYXQgY29udHJpYnV0ZSB0byB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSBub2RlIEEgQ1NUIG5vZGUgaW4gd2hpY2ggdG8gbG9vayBmb3IgcHJvcGVydHkgYXNzaWdubWVudHMuIElmIHRoaXMgaXMgdW5kZWZpbmVkLCB0aGUgcmVzdWx0IGlzIGFuIGVtcHR5IGFycmF5LlxuICogQHBhcmFtIHByb3BlcnR5IEEgcHJvcGVydHkgbmFtZSBvZiB0aGUgY29uc3RydWN0ZWQgQVNUIG5vZGUuIElmIHRoaXMgaXMgdW5kZWZpbmVkLCB0aGUgcmVzdWx0IGlzIGFuIGVtcHR5IGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE5vZGVzRm9yUHJvcGVydHkobm9kZSwgcHJvcGVydHkpIHtcbiAgICBpZiAoIW5vZGUgfHwgIXByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmROb2Rlc0ZvclByb3BlcnR5SW50ZXJuYWwobm9kZSwgcHJvcGVydHksIG5vZGUuYXN0Tm9kZSwgdHJ1ZSk7XG59XG4vKipcbiAqIEZpbmQgYSBzaW5nbGUgQ1NUIG5vZGUgd2l0aGluIHRoZSBnaXZlbiBub2RlIHRoYXQgY29udHJpYnV0ZXMgdG8gdGhlIHNwZWNpZmllZCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0gbm9kZSBBIENTVCBub2RlIGluIHdoaWNoIHRvIGxvb2sgZm9yIHByb3BlcnR5IGFzc2lnbm1lbnRzLiBJZiB0aGlzIGlzIHVuZGVmaW5lZCwgdGhlIHJlc3VsdCBpcyBgdW5kZWZpbmVkYC5cbiAqIEBwYXJhbSBwcm9wZXJ0eSBBIHByb3BlcnR5IG5hbWUgb2YgdGhlIGNvbnN0cnVjdGVkIEFTVCBub2RlLiBJZiB0aGlzIGlzIHVuZGVmaW5lZCwgdGhlIHJlc3VsdCBpcyBgdW5kZWZpbmVkYC5cbiAqIEBwYXJhbSBpbmRleCBJZiBubyBpbmRleCBpcyBzcGVjaWZpZWQgb3IgdGhlIGluZGV4IGlzIGxlc3MgdGhhbiB6ZXJvLCB0aGUgZmlyc3QgZm91bmQgbm9kZSBpcyByZXR1cm5lZC4gSWYgdGhlXG4gKiAgICAgICAgc3BlY2lmaWVkIGluZGV4IGV4Y2VlZHMgdGhlIG51bWJlciBvZiBhc3NpZ25tZW50cyB0byB0aGUgcHJvcGVydHksIHRoZSBsYXN0IGZvdW5kIG5vZGUgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSxcbiAqICAgICAgICB0aGUgbm9kZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW5kZXggaXMgcmV0dXJuZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9kZUZvclByb3BlcnR5KG5vZGUsIHByb3BlcnR5LCBpbmRleCkge1xuICAgIGlmICghbm9kZSB8fCAhcHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgbm9kZXMgPSBmaW5kTm9kZXNGb3JQcm9wZXJ0eUludGVybmFsKG5vZGUsIHByb3BlcnR5LCBub2RlLmFzdE5vZGUsIHRydWUpO1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgbm9kZXMubGVuZ3RoIC0gMSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXNbaW5kZXhdO1xufVxuZnVuY3Rpb24gZmluZE5vZGVzRm9yUHJvcGVydHlJbnRlcm5hbChub2RlLCBwcm9wZXJ0eSwgZWxlbWVudCwgZmlyc3QpIHtcbiAgICBpZiAoIWZpcnN0KSB7XG4gICAgICAgIGNvbnN0IG5vZGVGZWF0dXJlID0gZ2V0Q29udGFpbmVyT2ZUeXBlKG5vZGUuZ3JhbW1hclNvdXJjZSwgYXN0LmlzQXNzaWdubWVudCk7XG4gICAgICAgIGlmIChub2RlRmVhdHVyZSAmJiBub2RlRmVhdHVyZS5mZWF0dXJlID09PSBwcm9wZXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuIFtub2RlXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDb21wb3NpdGVDc3ROb2RlKG5vZGUpICYmIG5vZGUuYXN0Tm9kZSA9PT0gZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gbm9kZS5jb250ZW50LmZsYXRNYXAoZSA9PiBmaW5kTm9kZXNGb3JQcm9wZXJ0eUludGVybmFsKGUsIHByb3BlcnR5LCBlbGVtZW50LCBmYWxzZSkpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG4vKipcbiAqIEZpbmQgYWxsIENTVCBub2RlcyB3aXRoaW4gdGhlIGdpdmVuIG5vZGUgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBzcGVjaWZpZWQga2V5d29yZC5cbiAqXG4gKiBAcGFyYW0gbm9kZSBBIENTVCBub2RlIGluIHdoaWNoIHRvIGxvb2sgZm9yIGtleXdvcmRzLiBJZiB0aGlzIGlzIHVuZGVmaW5lZCwgdGhlIHJlc3VsdCBpcyBhbiBlbXB0eSBhcnJheS5cbiAqIEBwYXJhbSBrZXl3b3JkIEEga2V5d29yZCBhcyBzcGVjaWZpZWQgaW4gdGhlIGdyYW1tYXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9kZXNGb3JLZXl3b3JkKG5vZGUsIGtleXdvcmQpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gZmluZE5vZGVzRm9yS2V5d29yZEludGVybmFsKG5vZGUsIGtleXdvcmQsIG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5hc3ROb2RlKTtcbn1cbi8qKlxuICogRmluZCBhIHNpbmdsZSBDU1Qgbm9kZSB3aXRoaW4gdGhlIGdpdmVuIG5vZGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgc3BlY2lmaWVkIGtleXdvcmQuXG4gKlxuICogQHBhcmFtIG5vZGUgQSBDU1Qgbm9kZSBpbiB3aGljaCB0byBsb29rIGZvciBrZXl3b3Jkcy4gSWYgdGhpcyBpcyB1bmRlZmluZWQsIHRoZSByZXN1bHQgaXMgYHVuZGVmaW5lZGAuXG4gKiBAcGFyYW0ga2V5d29yZCBBIGtleXdvcmQgYXMgc3BlY2lmaWVkIGluIHRoZSBncmFtbWFyLlxuICogQHBhcmFtIGluZGV4IElmIG5vIGluZGV4IGlzIHNwZWNpZmllZCBvciB0aGUgaW5kZXggaXMgbGVzcyB0aGFuIHplcm8sIHRoZSBmaXJzdCBmb3VuZCBub2RlIGlzIHJldHVybmVkLiBJZiB0aGVcbiAqICAgICAgICBzcGVjaWZpZWQgaW5kZXggZXhjZWVkcyB0aGUgbnVtYmVyIG9mIGtleXdvcmQgb2NjdXJyZW5jZXMsIHRoZSBsYXN0IGZvdW5kIG5vZGUgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSxcbiAqICAgICAgICB0aGUgbm9kZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW5kZXggaXMgcmV0dXJuZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTm9kZUZvcktleXdvcmQobm9kZSwga2V5d29yZCwgaW5kZXgpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgbm9kZXMgPSBmaW5kTm9kZXNGb3JLZXl3b3JkSW50ZXJuYWwobm9kZSwga2V5d29yZCwgbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmFzdE5vZGUpO1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgbm9kZXMubGVuZ3RoIC0gMSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXNbaW5kZXhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmROb2Rlc0ZvcktleXdvcmRJbnRlcm5hbChub2RlLCBrZXl3b3JkLCBlbGVtZW50KSB7XG4gICAgaWYgKG5vZGUuYXN0Tm9kZSAhPT0gZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChhc3QuaXNLZXl3b3JkKG5vZGUuZ3JhbW1hclNvdXJjZSkgJiYgbm9kZS5ncmFtbWFyU291cmNlLnZhbHVlID09PSBrZXl3b3JkKSB7XG4gICAgICAgIHJldHVybiBbbm9kZV07XG4gICAgfVxuICAgIGNvbnN0IHRyZWVJdGVyYXRvciA9IHN0cmVhbUNzdChub2RlKS5pdGVyYXRvcigpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3Qga2V5d29yZE5vZGVzID0gW107XG4gICAgZG8ge1xuICAgICAgICByZXN1bHQgPSB0cmVlSXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlLmFzdE5vZGUgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXN0LmlzS2V5d29yZChjaGlsZE5vZGUuZ3JhbW1hclNvdXJjZSkgJiYgY2hpbGROb2RlLmdyYW1tYXJTb3VyY2UudmFsdWUgPT09IGtleXdvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZE5vZGVzLnB1c2goY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmVlSXRlcmF0b3IucHJ1bmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKCFyZXN1bHQuZG9uZSk7XG4gICAgcmV0dXJuIGtleXdvcmROb2Rlcztcbn1cbi8qKlxuICogSWYgdGhlIGdpdmVuIENTVCBub2RlIHdhcyBwYXJzZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBwcm9wZXJ0eSBhc3NpZ25tZW50LCB0aGUgcmVzcGVjdGl2ZSBgQXNzaWdubWVudGAgZ3JhbW1hclxuICogbm9kZSBpcyByZXR1cm5lZC4gSWYgbm8gYXNzaWdubWVudCBpcyBmb3VuZCwgdGhlIHJlc3VsdCBpcyBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcGFyYW0gY3N0Tm9kZSBBIENTVCBub2RlIGZvciB3aGljaCB0byBmaW5kIGEgcHJvcGVydHkgYXNzaWdubWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRBc3NpZ25tZW50KGNzdE5vZGUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYXN0Tm9kZSA9IGNzdE5vZGUuYXN0Tm9kZTtcbiAgICAvLyBPbmx5IHNlYXJjaCB1bnRpbCB0aGUgYXN0IG5vZGUgb2YgdGhlIHBhcmVudCBjc3Qgbm9kZSBpcyBubyBsb25nZXIgdGhlIG9yaWdpbmFsIGFzdCBub2RlXG4gICAgLy8gVGhpcyB3b3VsZCBtYWtlIHVzIGp1bXAgdG8gYSBwcmVjZWRpbmcgcnVsZSBjYWxsLCB3aGljaCBjb250YWlucyBvbmx5IHVucmVsYXRlZCBhc3NpZ25tZW50c1xuICAgIHdoaWxlIChhc3ROb2RlID09PSAoKF9hID0gY3N0Tm9kZS5jb250YWluZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hc3ROb2RlKSkge1xuICAgICAgICBjb25zdCBhc3NpZ25tZW50ID0gZ2V0Q29udGFpbmVyT2ZUeXBlKGNzdE5vZGUuZ3JhbW1hclNvdXJjZSwgYXN0LmlzQXNzaWdubWVudCk7XG4gICAgICAgIGlmIChhc3NpZ25tZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gYXNzaWdubWVudDtcbiAgICAgICAgfVxuICAgICAgICBjc3ROb2RlID0gY3N0Tm9kZS5jb250YWluZXI7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEZpbmQgYW4gYXNzaWdubWVudCB0byB0aGUgYG5hbWVgIHByb3BlcnR5IGZvciB0aGUgZ2l2ZW4gZ3JhbW1hciB0eXBlLiBUaGlzIHJlcXVpcmVzIHRoZSBgdHlwZWAgdG8gYmUgaW5mZXJyZWRcbiAqIGZyb20gYSBwYXJzZXIgcnVsZSwgYW5kIHRoYXQgcnVsZSBtdXN0IGNvbnRhaW4gYW4gYXNzaWdubWVudCB0byB0aGUgYG5hbWVgIHByb3BlcnR5LiBJbiBhbGwgb3RoZXIgY2FzZXMsXG4gKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTmFtZUFzc2lnbm1lbnQodHlwZSkge1xuICAgIGxldCBzdGFydE5vZGUgPSB0eXBlO1xuICAgIGlmIChhc3QuaXNJbmZlcnJlZFR5cGUoc3RhcnROb2RlKSkge1xuICAgICAgICAvLyBmb3IgaW5mZXJyZWQgdHlwZXMsIHRoZSBsb2NhdGlvbiB0byBzdGFydCBzZWFyY2hpbmcgZm9yIHRoZSBuYW1lLWFzc2lnbm1lbnQgaXMgZGlmZmVyZW50XG4gICAgICAgIGlmIChhc3QuaXNBY3Rpb24oc3RhcnROb2RlLiRjb250YWluZXIpKSB7XG4gICAgICAgICAgICAvLyBhIHR5cGUgd2hpY2ggaXMgZXhwbGljaXRseSBpbmZlcnJlZCBieSBhbiBhY3Rpb246IGludmVzdGlnYXRlIHRoZSBzaWJibGluZyBvZiB0aGUgQWN0aW9uIG5vZGUsIGkuZS4gc3RhcnQgc2VhcmNoaW5nIGF0IHRoZSBBY3Rpb24ncyBwYXJlbnRcbiAgICAgICAgICAgIHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZS4kY29udGFpbmVyLiRjb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXN0LmlzUGFyc2VyUnVsZShzdGFydE5vZGUuJGNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIC8vIGludmVzdGlnYXRlIHRoZSBwYXJzZXIgcnVsZSB3aXRoIHRoZSBleHBsaWNpdGx5IGluZmVycmVkIHR5cGVcbiAgICAgICAgICAgIHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZS4kY29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0VW5yZWFjaGFibGUoc3RhcnROb2RlLiRjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaW5kTmFtZUFzc2lnbm1lbnRJbnRlcm5hbCh0eXBlLCBzdGFydE5vZGUsIG5ldyBNYXAoKSk7XG59XG5mdW5jdGlvbiBmaW5kTmFtZUFzc2lnbm1lbnRJbnRlcm5hbCh0eXBlLCBzdGFydE5vZGUsIGNhY2hlKSB7XG4gICAgdmFyIF9hO1xuICAgIC8vIHRoZSBjYWNoZSBpcyBvbmx5IHJlcXVpcmVkIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHNcbiAgICBmdW5jdGlvbiBnbyhub2RlLCByZWZUeXBlKSB7XG4gICAgICAgIGxldCBjaGlsZEFzc2lnbm1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHBhcmVudEFzc2lnbm1lbnQgPSBnZXRDb250YWluZXJPZlR5cGUobm9kZSwgYXN0LmlzQXNzaWdubWVudCk7XG4gICAgICAgIC8vIE5vIHBhcmVudCBhc3NpZ25tZW50IGltcGxpZXMgdW5hc3NpZ25lZCBydWxlIGNhbGxcbiAgICAgICAgaWYgKCFwYXJlbnRBc3NpZ25tZW50KSB7XG4gICAgICAgICAgICBjaGlsZEFzc2lnbm1lbnQgPSBmaW5kTmFtZUFzc2lnbm1lbnRJbnRlcm5hbChyZWZUeXBlLCByZWZUeXBlLCBjYWNoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FjaGUuc2V0KHR5cGUsIGNoaWxkQXNzaWdubWVudCk7XG4gICAgICAgIHJldHVybiBjaGlsZEFzc2lnbm1lbnQ7XG4gICAgfVxuICAgIGlmIChjYWNoZS5oYXModHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldCh0eXBlKTtcbiAgICB9XG4gICAgY2FjaGUuc2V0KHR5cGUsIHVuZGVmaW5lZCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHN0cmVhbUFsbENvbnRlbnRzKHN0YXJ0Tm9kZSkpIHtcbiAgICAgICAgaWYgKGFzdC5pc0Fzc2lnbm1lbnQobm9kZSkgJiYgbm9kZS5mZWF0dXJlLnRvTG93ZXJDYXNlKCkgPT09ICduYW1lJykge1xuICAgICAgICAgICAgY2FjaGUuc2V0KHR5cGUsIG5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXN0LmlzUnVsZUNhbGwobm9kZSkgJiYgYXN0LmlzUGFyc2VyUnVsZShub2RlLnJ1bGUucmVmKSkge1xuICAgICAgICAgICAgcmV0dXJuIGdvKG5vZGUsIG5vZGUucnVsZS5yZWYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFzdC5pc1NpbXBsZVR5cGUobm9kZSkgJiYgKChfYSA9IG5vZGUudHlwZVJlZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlZikpIHtcbiAgICAgICAgICAgIHJldHVybiBnbyhub2RlLCBub2RlLnR5cGVSZWYucmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGlvbkF0RWxlbWVudChlbGVtZW50KSB7XG4gICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC4kY29udGFpbmVyO1xuICAgIGlmIChhc3QuaXNHcm91cChwYXJlbnQpKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gcGFyZW50LmVsZW1lbnRzO1xuICAgICAgICBjb25zdCBpbmRleCA9IGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBpZiAoYXN0LmlzQWN0aW9uKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBzdHJlYW1BbGxDb250ZW50cyhlbGVtZW50c1tpXSkuZmluZChhc3QuaXNBY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFzdC5pc0Fic3RyYWN0RWxlbWVudChwYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBnZXRBY3Rpb25BdEVsZW1lbnQocGFyZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT3B0aW9uYWxDYXJkaW5hbGl0eShjYXJkaW5hbGl0eSwgZWxlbWVudCkge1xuICAgIHJldHVybiBjYXJkaW5hbGl0eSA9PT0gJz8nIHx8IGNhcmRpbmFsaXR5ID09PSAnKicgfHwgKGFzdC5pc0dyb3VwKGVsZW1lbnQpICYmIEJvb2xlYW4oZWxlbWVudC5ndWFyZENvbmRpdGlvbikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlDYXJkaW5hbGl0eShjYXJkaW5hbGl0eSkge1xuICAgIHJldHVybiBjYXJkaW5hbGl0eSA9PT0gJyonIHx8IGNhcmRpbmFsaXR5ID09PSAnKyc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheU9wZXJhdG9yKG9wZXJhdG9yKSB7XG4gICAgcmV0dXJuIG9wZXJhdG9yID09PSAnKz0nO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIHBhcnNlciBydWxlIGlzIGEgX2RhdGEgdHlwZSBydWxlXywgbWVhbmluZyB0aGF0IGl0IGhhcyBhXG4gKiBwcmltaXRpdmUgcmV0dXJuIHR5cGUgbGlrZSBgbnVtYmVyYCwgYGJvb2xlYW5gLCBldGMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFUeXBlUnVsZShydWxlKSB7XG4gICAgcmV0dXJuIGlzRGF0YVR5cGVSdWxlSW50ZXJuYWwocnVsZSwgbmV3IFNldCgpKTtcbn1cbmZ1bmN0aW9uIGlzRGF0YVR5cGVSdWxlSW50ZXJuYWwocnVsZSwgdmlzaXRlZCkge1xuICAgIGlmICh2aXNpdGVkLmhhcyhydWxlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpc2l0ZWQuYWRkKHJ1bGUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygc3RyZWFtQWxsQ29udGVudHMocnVsZSkpIHtcbiAgICAgICAgaWYgKGFzdC5pc1J1bGVDYWxsKG5vZGUpKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUucnVsZS5yZWYpIHtcbiAgICAgICAgICAgICAgICAvLyBSdWxlQ2FsbCB0byB1bnJlc29sdmVkIHJ1bGUuIERvbid0IGFzc3VtZSBgcnVsZWAgaXMgYSBEYXRhVHlwZSBydWxlLlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3QuaXNQYXJzZXJSdWxlKG5vZGUucnVsZS5yZWYpICYmICFpc0RhdGFUeXBlUnVsZUludGVybmFsKG5vZGUucnVsZS5yZWYsIHZpc2l0ZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFzdC5pc0Fzc2lnbm1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhc3QuaXNBY3Rpb24obm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQm9vbGVhbihydWxlLmRlZmluaXRpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YVR5cGUodHlwZSkge1xuICAgIHJldHVybiBpc0RhdGFUeXBlSW50ZXJuYWwodHlwZS50eXBlLCBuZXcgU2V0KCkpO1xufVxuZnVuY3Rpb24gaXNEYXRhVHlwZUludGVybmFsKHR5cGUsIHZpc2l0ZWQpIHtcbiAgICBpZiAodmlzaXRlZC5oYXModHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2aXNpdGVkLmFkZCh0eXBlKTtcbiAgICB9XG4gICAgaWYgKGFzdC5pc0FycmF5VHlwZSh0eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzdC5pc1JlZmVyZW5jZVR5cGUodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChhc3QuaXNVbmlvblR5cGUodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUudHlwZXMuZXZlcnkoZSA9PiBpc0RhdGFUeXBlSW50ZXJuYWwoZSwgdmlzaXRlZCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChhc3QuaXNTaW1wbGVUeXBlKHR5cGUpKSB7XG4gICAgICAgIGlmICh0eXBlLnByaW1pdGl2ZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZS5zdHJpbmdUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUudHlwZVJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCByZWYgPSB0eXBlLnR5cGVSZWYucmVmO1xuICAgICAgICAgICAgaWYgKGFzdC5pc1R5cGUocmVmKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0RhdGFUeXBlSW50ZXJuYWwocmVmLnR5cGUsIHZpc2l0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cGxpY2l0UnVsZVR5cGUocnVsZSkge1xuICAgIGlmIChydWxlLmluZmVycmVkVHlwZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5pbmZlcnJlZFR5cGUubmFtZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocnVsZS5kYXRhVHlwZSkge1xuICAgICAgICByZXR1cm4gcnVsZS5kYXRhVHlwZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocnVsZS5yZXR1cm5UeXBlKSB7XG4gICAgICAgIGNvbnN0IHJlZlR5cGUgPSBydWxlLnJldHVyblR5cGUucmVmO1xuICAgICAgICBpZiAocmVmVHlwZSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBjaGVjayBBY3Rpb24gYXMgcmV0dXJuIHR5cGVcbiAgICAgICAgICAgIGlmIChhc3QuaXNQYXJzZXJSdWxlKHJlZlR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZlR5cGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFzdC5pc0ludGVyZmFjZShyZWZUeXBlKSB8fCBhc3QuaXNUeXBlKHJlZlR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZlR5cGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGFzdC5pc1BhcnNlclJ1bGUodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzRGF0YVR5cGVSdWxlKHR5cGUpID8gdHlwZS5uYW1lIDogKF9hID0gZ2V0RXhwbGljaXRSdWxlVHlwZSh0eXBlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHlwZS5uYW1lO1xuICAgIH1cbiAgICBlbHNlIGlmIChhc3QuaXNJbnRlcmZhY2UodHlwZSkgfHwgYXN0LmlzVHlwZSh0eXBlKSB8fCBhc3QuaXNSZXR1cm5UeXBlKHR5cGUpKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm5hbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzdC5pc0FjdGlvbih0eXBlKSkge1xuICAgICAgICBjb25zdCBhY3Rpb25UeXBlID0gZ2V0QWN0aW9uVHlwZSh0eXBlKTtcbiAgICAgICAgaWYgKGFjdGlvblR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzdC5pc0luZmVycmVkVHlwZSh0eXBlKSkge1xuICAgICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBnZXQgbmFtZSBvZiBVbmtub3duIFR5cGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3Rpb25UeXBlKGFjdGlvbikge1xuICAgIHZhciBfYTtcbiAgICBpZiAoYWN0aW9uLmluZmVycmVkVHlwZSkge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmluZmVycmVkVHlwZS5uYW1lO1xuICAgIH1cbiAgICBlbHNlIGlmICgoX2EgPSBhY3Rpb24udHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlZikge1xuICAgICAgICByZXR1cm4gZ2V0VHlwZU5hbWUoYWN0aW9uLnR5cGUucmVmKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gbm90IGluZmVycmluZyBhbmQgbm90IHJlZmVyZW5jaW5nIGEgdmFsaWQgdHlwZVxufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYXQgZGV2ZWxvcG1lbnQgdGltZSAoZm9yIGNvZGUgZ2VuZXJhdGlvbiBhbmQgdGhlIGludGVybmFsIHR5cGUgc3lzdGVtKSB0byBnZXQgdGhlIHR5cGUgb2YgdGhlIEFTVCBub2RlIHByb2R1Y2VkIGJ5IHRoZSBnaXZlbiBydWxlLlxuICogRm9yIGRhdGEgdHlwZSBydWxlcywgdGhlIG5hbWUgb2YgdGhlIHJ1bGUgaXMgcmV0dXJuZWQsXG4gKiBlLmcuIFwiSU5UX3ZhbHVlIHJldHVybnMgbnVtYmVyOiBNWV9JTlQ7XCIgcmV0dXJucyBcIklOVF92YWx1ZVwiLlxuICogQHBhcmFtIHJ1bGUgdGhlIGdpdmVuIHJ1bGVcbiAqIEByZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBBU1Qgbm9kZSB0eXBlIG9mIHRoZSBydWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdWxlVHlwZU5hbWUocnVsZSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGlmIChhc3QuaXNUZXJtaW5hbFJ1bGUocnVsZSkpIHtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHJ1bGUudHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdzdHJpbmcnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzRGF0YVR5cGVSdWxlKHJ1bGUpID8gcnVsZS5uYW1lIDogKF9jID0gZ2V0RXhwbGljaXRSdWxlVHlwZShydWxlKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogcnVsZS5uYW1lO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGF0IHJ1bnRpbWUgdG8gZ2V0IHRoZSBhY3R1YWwgdHlwZSBvZiB0aGUgdmFsdWVzIHByb2R1Y2VkIGJ5IHRoZSBnaXZlbiBydWxlIGF0IHJ1bnRpbWUuXG4gKiBGb3IgZGF0YSB0eXBlIHJ1bGVzLCB0aGUgbmFtZSBvZiB0aGUgZGVjbGFyZWQgcmV0dXJuIHR5cGUgb2YgdGhlIHJ1bGUgaXMgcmV0dXJuZWQgKGlmIGFueSksXG4gKiBlLmcuIFwiSU5UX3ZhbHVlIHJldHVybnMgbnVtYmVyOiBNWV9JTlQ7XCIgcmV0dXJucyBcIm51bWJlclwiLlxuICogQHBhcmFtIHJ1bGUgdGhlIGdpdmVuIHJ1bGVcbiAqIEByZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSB0eXBlIG9mIHRoZSBwcm9kdWNlZCB2YWx1ZXMgb2YgdGhlIHJ1bGUgYXQgcnVudGltZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVsZVR5cGUocnVsZSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGlmIChhc3QuaXNUZXJtaW5hbFJ1bGUocnVsZSkpIHtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHJ1bGUudHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdzdHJpbmcnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChfYyA9IGdldEV4cGxpY2l0UnVsZVR5cGUocnVsZSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHJ1bGUubmFtZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdGVybWluYWxSZWdleCh0ZXJtaW5hbFJ1bGUpIHtcbiAgICBjb25zdCBmbGFncyA9IHtcbiAgICAgICAgczogZmFsc2UsXG4gICAgICAgIGk6IGZhbHNlLFxuICAgICAgICB1OiBmYWxzZVxuICAgIH07XG4gICAgY29uc3Qgc291cmNlID0gYWJzdHJhY3RFbGVtZW50VG9SZWdleCh0ZXJtaW5hbFJ1bGUuZGVmaW5pdGlvbiwgZmxhZ3MpO1xuICAgIGNvbnN0IGZsYWdUZXh0ID0gT2JqZWN0LmVudHJpZXMoZmxhZ3MpLmZpbHRlcigoWywgdmFsdWVdKSA9PiB2YWx1ZSkubWFwKChbbmFtZV0pID0+IG5hbWUpLmpvaW4oJycpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKHNvdXJjZSwgZmxhZ1RleHQpO1xufVxuLy8gVXNpbmcgW1xcc1xcU10qIGFsbG93cyB0byBtYXRjaCBldmVyeXRoaW5nLCBjb21wYXJlZCB0byAuIHdoaWNoIGRvZXNuJ3QgbWF0Y2ggbGluZSB0ZXJtaW5hdG9yc1xuY29uc3QgV0lMRENBUkQgPSAvW1xcc1xcU10vLnNvdXJjZTtcbmZ1bmN0aW9uIGFic3RyYWN0RWxlbWVudFRvUmVnZXgoZWxlbWVudCwgZmxhZ3MpIHtcbiAgICBpZiAoYXN0LmlzVGVybWluYWxBbHRlcm5hdGl2ZXMoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRlcm1pbmFsQWx0ZXJuYXRpdmVzVG9SZWdleChlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXN0LmlzVGVybWluYWxHcm91cChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gdGVybWluYWxHcm91cFRvUmVnZXgoZWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzdC5pc0NoYXJhY3RlclJhbmdlKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXJSYW5nZVRvUmVnZXgoZWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzdC5pc1Rlcm1pbmFsUnVsZUNhbGwoZWxlbWVudCkpIHtcbiAgICAgICAgY29uc3QgcnVsZSA9IGVsZW1lbnQucnVsZS5yZWY7XG4gICAgICAgIGlmICghcnVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJ1bGUgcmVmZXJlbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoQ2FyZGluYWxpdHkoYWJzdHJhY3RFbGVtZW50VG9SZWdleChydWxlLmRlZmluaXRpb24pLCB7XG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogZWxlbWVudC5jYXJkaW5hbGl0eSxcbiAgICAgICAgICAgIGxvb2thaGVhZDogZWxlbWVudC5sb29rYWhlYWRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzdC5pc05lZ2F0ZWRUb2tlbihlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gbmVnYXRlVG9rZW5Ub1JlZ2V4KGVsZW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChhc3QuaXNVbnRpbFRva2VuKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiB1bnRpbFRva2VuVG9SZWdleChlbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXN0LmlzUmVnZXhUb2tlbihlbGVtZW50KSkge1xuICAgICAgICBjb25zdCBsYXN0U2xhc2ggPSBlbGVtZW50LnJlZ2V4Lmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGVsZW1lbnQucmVnZXguc3Vic3RyaW5nKDEsIGxhc3RTbGFzaCk7XG4gICAgICAgIGNvbnN0IHJlZ2V4RmxhZ3MgPSBlbGVtZW50LnJlZ2V4LnN1YnN0cmluZyhsYXN0U2xhc2ggKyAxKTtcbiAgICAgICAgaWYgKGZsYWdzKSB7XG4gICAgICAgICAgICBmbGFncy5pID0gcmVnZXhGbGFncy5pbmNsdWRlcygnaScpO1xuICAgICAgICAgICAgZmxhZ3MucyA9IHJlZ2V4RmxhZ3MuaW5jbHVkZXMoJ3MnKTtcbiAgICAgICAgICAgIGZsYWdzLnUgPSByZWdleEZsYWdzLmluY2x1ZGVzKCd1Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpdGhDYXJkaW5hbGl0eShzb3VyY2UsIHtcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBlbGVtZW50LmNhcmRpbmFsaXR5LFxuICAgICAgICAgICAgbG9va2FoZWFkOiBlbGVtZW50Lmxvb2thaGVhZCxcbiAgICAgICAgICAgIHdyYXA6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChhc3QuaXNXaWxkY2FyZChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gd2l0aENhcmRpbmFsaXR5KFdJTERDQVJELCB7XG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogZWxlbWVudC5jYXJkaW5hbGl0eSxcbiAgICAgICAgICAgIGxvb2thaGVhZDogZWxlbWVudC5sb29rYWhlYWRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGVybWluYWwgZWxlbWVudDogJHtlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQuJHR5cGV9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGVybWluYWxBbHRlcm5hdGl2ZXNUb1JlZ2V4KGFsdGVybmF0aXZlcykge1xuICAgIHJldHVybiB3aXRoQ2FyZGluYWxpdHkoYWx0ZXJuYXRpdmVzLmVsZW1lbnRzLm1hcChlID0+IGFic3RyYWN0RWxlbWVudFRvUmVnZXgoZSkpLmpvaW4oJ3wnKSwge1xuICAgICAgICBjYXJkaW5hbGl0eTogYWx0ZXJuYXRpdmVzLmNhcmRpbmFsaXR5LFxuICAgICAgICBsb29rYWhlYWQ6IGFsdGVybmF0aXZlcy5sb29rYWhlYWRcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRlcm1pbmFsR3JvdXBUb1JlZ2V4KGdyb3VwKSB7XG4gICAgcmV0dXJuIHdpdGhDYXJkaW5hbGl0eShncm91cC5lbGVtZW50cy5tYXAoZSA9PiBhYnN0cmFjdEVsZW1lbnRUb1JlZ2V4KGUpKS5qb2luKCcnKSwge1xuICAgICAgICBjYXJkaW5hbGl0eTogZ3JvdXAuY2FyZGluYWxpdHksXG4gICAgICAgIGxvb2thaGVhZDogZ3JvdXAubG9va2FoZWFkXG4gICAgfSk7XG59XG5mdW5jdGlvbiB1bnRpbFRva2VuVG9SZWdleCh1bnRpbCkge1xuICAgIHJldHVybiB3aXRoQ2FyZGluYWxpdHkoYCR7V0lMRENBUkR9Kj8ke2Fic3RyYWN0RWxlbWVudFRvUmVnZXgodW50aWwudGVybWluYWwpfWAsIHtcbiAgICAgICAgY2FyZGluYWxpdHk6IHVudGlsLmNhcmRpbmFsaXR5LFxuICAgICAgICBsb29rYWhlYWQ6IHVudGlsLmxvb2thaGVhZFxuICAgIH0pO1xufVxuZnVuY3Rpb24gbmVnYXRlVG9rZW5Ub1JlZ2V4KG5lZ2F0ZSkge1xuICAgIHJldHVybiB3aXRoQ2FyZGluYWxpdHkoYCg/ISR7YWJzdHJhY3RFbGVtZW50VG9SZWdleChuZWdhdGUudGVybWluYWwpfSkke1dJTERDQVJEfSo/YCwge1xuICAgICAgICBjYXJkaW5hbGl0eTogbmVnYXRlLmNhcmRpbmFsaXR5LFxuICAgICAgICBsb29rYWhlYWQ6IG5lZ2F0ZS5sb29rYWhlYWRcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNoYXJhY3RlclJhbmdlVG9SZWdleChyYW5nZSkge1xuICAgIGlmIChyYW5nZS5yaWdodCkge1xuICAgICAgICByZXR1cm4gd2l0aENhcmRpbmFsaXR5KGBbJHtrZXl3b3JkVG9SZWdleChyYW5nZS5sZWZ0KX0tJHtrZXl3b3JkVG9SZWdleChyYW5nZS5yaWdodCl9XWAsIHtcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiByYW5nZS5jYXJkaW5hbGl0eSxcbiAgICAgICAgICAgIGxvb2thaGVhZDogcmFuZ2UubG9va2FoZWFkLFxuICAgICAgICAgICAgd3JhcDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB3aXRoQ2FyZGluYWxpdHkoa2V5d29yZFRvUmVnZXgocmFuZ2UubGVmdCksIHtcbiAgICAgICAgY2FyZGluYWxpdHk6IHJhbmdlLmNhcmRpbmFsaXR5LFxuICAgICAgICBsb29rYWhlYWQ6IHJhbmdlLmxvb2thaGVhZCxcbiAgICAgICAgd3JhcDogZmFsc2VcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGtleXdvcmRUb1JlZ2V4KGtleXdvcmQpIHtcbiAgICByZXR1cm4gZXNjYXBlUmVnRXhwKGtleXdvcmQudmFsdWUpO1xufVxuZnVuY3Rpb24gd2l0aENhcmRpbmFsaXR5KHJlZ2V4LCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChvcHRpb25zLndyYXAgIT09IGZhbHNlIHx8IG9wdGlvbnMubG9va2FoZWFkKSB7XG4gICAgICAgIHJlZ2V4ID0gYCgkeyhfYSA9IG9wdGlvbnMubG9va2FoZWFkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJ30ke3JlZ2V4fSlgO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jYXJkaW5hbGl0eSkge1xuICAgICAgICByZXR1cm4gYCR7cmVnZXh9JHtvcHRpb25zLmNhcmRpbmFsaXR5fWA7XG4gICAgfVxuICAgIHJldHVybiByZWdleDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYW1tYXItdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbImFzc2VydFVucmVhY2hhYmxlIiwiYXN0IiwiaXNDb21wb3NpdGVDc3ROb2RlIiwiZ2V0Q29udGFpbmVyT2ZUeXBlIiwic3RyZWFtQWxsQ29udGVudHMiLCJzdHJlYW1Dc3QiLCJlc2NhcGVSZWdFeHAiLCJpc1doaXRlc3BhY2UiLCJnZXRFbnRyeVJ1bGUiLCJncmFtbWFyIiwicnVsZXMiLCJmaW5kIiwiZSIsImlzUGFyc2VyUnVsZSIsImVudHJ5IiwiZ2V0SGlkZGVuUnVsZXMiLCJmaWx0ZXIiLCJpc1Rlcm1pbmFsUnVsZSIsImhpZGRlbiIsImdldEFsbFJlYWNoYWJsZVJ1bGVzIiwiYWxsVGVybWluYWxzIiwicnVsZU5hbWVzIiwiU2V0IiwiZW50cnlSdWxlIiwidG9wTW9zdFJ1bGVzIiwiY29uY2F0IiwicnVsZSIsInJ1bGVEZnMiLCJoYXMiLCJuYW1lIiwiYWRkIiwidmlzaXRlZFNldCIsImZvckVhY2giLCJub2RlIiwiaXNSdWxlQ2FsbCIsImlzVGVybWluYWxSdWxlQ2FsbCIsInJlZlJ1bGUiLCJyZWYiLCJnZXRDcm9zc1JlZmVyZW5jZVRlcm1pbmFsIiwiY3Jvc3NSZWYiLCJ0ZXJtaW5hbCIsInR5cGUiLCJuYW1lQXNzaWdtZW50IiwiZmluZE5hbWVBc3NpZ25tZW50IiwidW5kZWZpbmVkIiwiaXNDb21tZW50VGVybWluYWwiLCJ0ZXJtaW5hbFJ1bGUiLCJ0ZXJtaW5hbFJlZ2V4IiwiZmluZE5vZGVzRm9yUHJvcGVydHkiLCJwcm9wZXJ0eSIsImZpbmROb2Rlc0ZvclByb3BlcnR5SW50ZXJuYWwiLCJhc3ROb2RlIiwiZmluZE5vZGVGb3JQcm9wZXJ0eSIsImluZGV4Iiwibm9kZXMiLCJsZW5ndGgiLCJNYXRoIiwibWF4IiwibWluIiwiZWxlbWVudCIsImZpcnN0Iiwibm9kZUZlYXR1cmUiLCJncmFtbWFyU291cmNlIiwiaXNBc3NpZ25tZW50IiwiZmVhdHVyZSIsImNvbnRlbnQiLCJmbGF0TWFwIiwiZmluZE5vZGVzRm9yS2V5d29yZCIsImtleXdvcmQiLCJmaW5kTm9kZXNGb3JLZXl3b3JkSW50ZXJuYWwiLCJmaW5kTm9kZUZvcktleXdvcmQiLCJpc0tleXdvcmQiLCJ2YWx1ZSIsInRyZWVJdGVyYXRvciIsIml0ZXJhdG9yIiwicmVzdWx0Iiwia2V5d29yZE5vZGVzIiwibmV4dCIsImRvbmUiLCJjaGlsZE5vZGUiLCJwdXNoIiwicHJ1bmUiLCJmaW5kQXNzaWdubWVudCIsImNzdE5vZGUiLCJfYSIsImNvbnRhaW5lciIsImFzc2lnbm1lbnQiLCJzdGFydE5vZGUiLCJpc0luZmVycmVkVHlwZSIsImlzQWN0aW9uIiwiJGNvbnRhaW5lciIsImZpbmROYW1lQXNzaWdubWVudEludGVybmFsIiwiTWFwIiwiY2FjaGUiLCJnbyIsInJlZlR5cGUiLCJjaGlsZEFzc2lnbm1lbnQiLCJwYXJlbnRBc3NpZ25tZW50Iiwic2V0IiwiZ2V0IiwidG9Mb3dlckNhc2UiLCJpc1NpbXBsZVR5cGUiLCJ0eXBlUmVmIiwiZ2V0QWN0aW9uQXRFbGVtZW50IiwicGFyZW50IiwiaXNHcm91cCIsImVsZW1lbnRzIiwiaW5kZXhPZiIsImkiLCJpdGVtIiwiYWN0aW9uIiwiaXNBYnN0cmFjdEVsZW1lbnQiLCJpc09wdGlvbmFsQ2FyZGluYWxpdHkiLCJjYXJkaW5hbGl0eSIsIkJvb2xlYW4iLCJndWFyZENvbmRpdGlvbiIsImlzQXJyYXlDYXJkaW5hbGl0eSIsImlzQXJyYXlPcGVyYXRvciIsIm9wZXJhdG9yIiwiaXNEYXRhVHlwZVJ1bGUiLCJpc0RhdGFUeXBlUnVsZUludGVybmFsIiwidmlzaXRlZCIsImRlZmluaXRpb24iLCJpc0RhdGFUeXBlIiwiaXNEYXRhVHlwZUludGVybmFsIiwiaXNBcnJheVR5cGUiLCJpc1JlZmVyZW5jZVR5cGUiLCJpc1VuaW9uVHlwZSIsInR5cGVzIiwiZXZlcnkiLCJwcmltaXRpdmVUeXBlIiwic3RyaW5nVHlwZSIsImlzVHlwZSIsImdldEV4cGxpY2l0UnVsZVR5cGUiLCJpbmZlcnJlZFR5cGUiLCJkYXRhVHlwZSIsInJldHVyblR5cGUiLCJpc0ludGVyZmFjZSIsImdldFR5cGVOYW1lIiwiaXNSZXR1cm5UeXBlIiwiYWN0aW9uVHlwZSIsImdldEFjdGlvblR5cGUiLCJFcnJvciIsImdldFJ1bGVUeXBlTmFtZSIsIl9iIiwiX2MiLCJnZXRSdWxlVHlwZSIsImZsYWdzIiwicyIsInUiLCJzb3VyY2UiLCJhYnN0cmFjdEVsZW1lbnRUb1JlZ2V4IiwiZmxhZ1RleHQiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiam9pbiIsIlJlZ0V4cCIsIldJTERDQVJEIiwiaXNUZXJtaW5hbEFsdGVybmF0aXZlcyIsInRlcm1pbmFsQWx0ZXJuYXRpdmVzVG9SZWdleCIsImlzVGVybWluYWxHcm91cCIsInRlcm1pbmFsR3JvdXBUb1JlZ2V4IiwiaXNDaGFyYWN0ZXJSYW5nZSIsImNoYXJhY3RlclJhbmdlVG9SZWdleCIsIndpdGhDYXJkaW5hbGl0eSIsImxvb2thaGVhZCIsImlzTmVnYXRlZFRva2VuIiwibmVnYXRlVG9rZW5Ub1JlZ2V4IiwiaXNVbnRpbFRva2VuIiwidW50aWxUb2tlblRvUmVnZXgiLCJpc1JlZ2V4VG9rZW4iLCJsYXN0U2xhc2giLCJyZWdleCIsImxhc3RJbmRleE9mIiwic3Vic3RyaW5nIiwicmVnZXhGbGFncyIsImluY2x1ZGVzIiwid3JhcCIsImlzV2lsZGNhcmQiLCIkdHlwZSIsImFsdGVybmF0aXZlcyIsImdyb3VwIiwidW50aWwiLCJuZWdhdGUiLCJyYW5nZSIsInJpZ2h0Iiwia2V5d29yZFRvUmVnZXgiLCJsZWZ0Iiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/promise-utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/langium/lib/utils/promise-utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Deferred: () => (/* binding */ Deferred),\n/* harmony export */   OperationCancelled: () => (/* binding */ OperationCancelled),\n/* harmony export */   delayNextTick: () => (/* binding */ delayNextTick),\n/* harmony export */   interruptAndCheck: () => (/* binding */ interruptAndCheck),\n/* harmony export */   isOperationCancelled: () => (/* binding */ isOperationCancelled),\n/* harmony export */   setInterruptionPeriod: () => (/* binding */ setInterruptionPeriod),\n/* harmony export */   startCancelableOperation: () => (/* binding */ startCancelableOperation)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n/**\n * Delays the execution of the current code to the next tick of the event loop.\n * Don't call this method directly in a tight loop to prevent too many promises from being created.\n */ function delayNextTick() {\n    return new Promise((resolve)=>{\n        // In case we are running in a non-node environment, `setImmediate` isn't available.\n        // Using `setTimeout` of the browser API accomplishes the same result.\n        if (typeof setImmediate === \"undefined\") {\n            setTimeout(resolve, 0);\n        } else {\n            setImmediate(resolve);\n        }\n    });\n}\nlet lastTick = 0;\nlet globalInterruptionPeriod = 10;\n/**\n * Reset the global interruption period and create a cancellation token source.\n */ function startCancelableOperation() {\n    lastTick = performance.now();\n    return new _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationTokenSource();\n}\n/**\n * Change the period duration for `interruptAndCheck` to the given number of milliseconds.\n * The default value is 10ms.\n */ function setInterruptionPeriod(period) {\n    globalInterruptionPeriod = period;\n}\n/**\n * This symbol may be thrown in an asynchronous context by any Langium service that receives\n * a `CancellationToken`. This means that the promise returned by such a service is rejected with\n * this symbol as rejection reason.\n */ const OperationCancelled = Symbol(\"OperationCancelled\");\n/**\n * Use this in a `catch` block to check whether the thrown object indicates that the operation\n * has been cancelled.\n */ function isOperationCancelled(err) {\n    return err === OperationCancelled;\n}\n/**\n * This function does two things:\n *  1. Check the elapsed time since the last call to this function or to `startCancelableOperation`. If the predefined\n *     period (configured with `setInterruptionPeriod`) is exceeded, execution is delayed with `delayNextTick`.\n *  2. If the predefined period is not met yet or execution is resumed after an interruption, the given cancellation\n *     token is checked, and if cancellation is requested, `OperationCanceled` is thrown.\n *\n * All services in Langium that receive a `CancellationToken` may potentially call this function, so the\n * `CancellationToken` must be caught (with an `async` try-catch block or a `catch` callback attached to\n * the promise) to avoid that event being exposed as an error.\n */ async function interruptAndCheck(token) {\n    if (token === _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        // Early exit in case cancellation was disabled by the caller\n        return;\n    }\n    const current = performance.now();\n    if (current - lastTick >= globalInterruptionPeriod) {\n        lastTick = current;\n        await delayNextTick();\n        // prevent calling delayNextTick every iteration of loop\n        // where delayNextTick takes up the majority or all of the\n        // globalInterruptionPeriod itself\n        lastTick = performance.now();\n    }\n    if (token.isCancellationRequested) {\n        throw OperationCancelled;\n    }\n}\n/**\n * Simple implementation of the deferred pattern.\n * An object that exposes a promise and functions to resolve and reject it.\n */ class Deferred {\n    constructor(){\n        this.promise = new Promise((resolve, reject)=>{\n            this.resolve = (arg)=>{\n                resolve(arg);\n                return this;\n            };\n            this.reject = (err)=>{\n                reject(err);\n                return this;\n            };\n        });\n    }\n} //# sourceMappingURL=promise-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvcHJvbWlzZS11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNRO0FBQ3RGOzs7Q0FHQyxHQUNNLFNBQVNFO0lBQ1osT0FBTyxJQUFJQyxRQUFRQyxDQUFBQTtRQUNmLG9GQUFvRjtRQUNwRixzRUFBc0U7UUFDdEUsSUFBSSxPQUFPQyxpQkFBaUIsYUFBYTtZQUNyQ0MsV0FBV0YsU0FBUztRQUN4QixPQUNLO1lBQ0RDLGFBQWFEO1FBQ2pCO0lBQ0o7QUFDSjtBQUNBLElBQUlHLFdBQVc7QUFDZixJQUFJQywyQkFBMkI7QUFDL0I7O0NBRUMsR0FDTSxTQUFTQztJQUNaRixXQUFXRyxZQUFZQyxHQUFHO0lBQzFCLE9BQU8sSUFBSVYsMkVBQXVCQTtBQUN0QztBQUNBOzs7Q0FHQyxHQUNNLFNBQVNXLHNCQUFzQkMsTUFBTTtJQUN4Q0wsMkJBQTJCSztBQUMvQjtBQUNBOzs7O0NBSUMsR0FDTSxNQUFNQyxxQkFBcUJDLE9BQU8sc0JBQXNCO0FBQy9EOzs7Q0FHQyxHQUNNLFNBQVNDLHFCQUFxQkMsR0FBRztJQUNwQyxPQUFPQSxRQUFRSDtBQUNuQjtBQUNBOzs7Ozs7Ozs7O0NBVUMsR0FDTSxlQUFlSSxrQkFBa0JDLEtBQUs7SUFDekMsSUFBSUEsVUFBVW5CLHFFQUFpQkEsQ0FBQ29CLElBQUksRUFBRTtRQUNsQyw2REFBNkQ7UUFDN0Q7SUFDSjtJQUNBLE1BQU1DLFVBQVVYLFlBQVlDLEdBQUc7SUFDL0IsSUFBSVUsVUFBVWQsWUFBWUMsMEJBQTBCO1FBQ2hERCxXQUFXYztRQUNYLE1BQU1uQjtRQUNOLHdEQUF3RDtRQUN4RCwwREFBMEQ7UUFDMUQsa0NBQWtDO1FBQ2xDSyxXQUFXRyxZQUFZQyxHQUFHO0lBQzlCO0lBQ0EsSUFBSVEsTUFBTUcsdUJBQXVCLEVBQUU7UUFDL0IsTUFBTVI7SUFDVjtBQUNKO0FBQ0E7OztDQUdDLEdBQ00sTUFBTVM7SUFDVEMsYUFBYztRQUNWLElBQUksQ0FBQ0MsT0FBTyxHQUFHLElBQUl0QixRQUFRLENBQUNDLFNBQVNzQjtZQUNqQyxJQUFJLENBQUN0QixPQUFPLEdBQUcsQ0FBQ3VCO2dCQUNadkIsUUFBUXVCO2dCQUNSLE9BQU8sSUFBSTtZQUNmO1lBQ0EsSUFBSSxDQUFDRCxNQUFNLEdBQUcsQ0FBQ1Q7Z0JBQ1hTLE9BQU9UO2dCQUNQLE9BQU8sSUFBSTtZQUNmO1FBQ0o7SUFDSjtBQUNKLEVBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvcHJvbWlzZS11dGlscy5qcz83MjUxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IENhbmNlbGxhdGlvblRva2VuLCBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSB9IGZyb20gJy4uL3V0aWxzL2NhbmNlbGxhdGlvbi5qcyc7XG4vKipcbiAqIERlbGF5cyB0aGUgZXhlY3V0aW9uIG9mIHRoZSBjdXJyZW50IGNvZGUgdG8gdGhlIG5leHQgdGljayBvZiB0aGUgZXZlbnQgbG9vcC5cbiAqIERvbid0IGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkgaW4gYSB0aWdodCBsb29wIHRvIHByZXZlbnQgdG9vIG1hbnkgcHJvbWlzZXMgZnJvbSBiZWluZyBjcmVhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsYXlOZXh0VGljaygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIC8vIEluIGNhc2Ugd2UgYXJlIHJ1bm5pbmcgaW4gYSBub24tbm9kZSBlbnZpcm9ubWVudCwgYHNldEltbWVkaWF0ZWAgaXNuJ3QgYXZhaWxhYmxlLlxuICAgICAgICAvLyBVc2luZyBgc2V0VGltZW91dGAgb2YgdGhlIGJyb3dzZXIgQVBJIGFjY29tcGxpc2hlcyB0aGUgc2FtZSByZXN1bHQuXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShyZXNvbHZlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxubGV0IGxhc3RUaWNrID0gMDtcbmxldCBnbG9iYWxJbnRlcnJ1cHRpb25QZXJpb2QgPSAxMDtcbi8qKlxuICogUmVzZXQgdGhlIGdsb2JhbCBpbnRlcnJ1cHRpb24gcGVyaW9kIGFuZCBjcmVhdGUgYSBjYW5jZWxsYXRpb24gdG9rZW4gc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDYW5jZWxhYmxlT3BlcmF0aW9uKCkge1xuICAgIGxhc3RUaWNrID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgcmV0dXJuIG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xufVxuLyoqXG4gKiBDaGFuZ2UgdGhlIHBlcmlvZCBkdXJhdGlvbiBmb3IgYGludGVycnVwdEFuZENoZWNrYCB0byB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cbiAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEwbXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnRlcnJ1cHRpb25QZXJpb2QocGVyaW9kKSB7XG4gICAgZ2xvYmFsSW50ZXJydXB0aW9uUGVyaW9kID0gcGVyaW9kO1xufVxuLyoqXG4gKiBUaGlzIHN5bWJvbCBtYXkgYmUgdGhyb3duIGluIGFuIGFzeW5jaHJvbm91cyBjb250ZXh0IGJ5IGFueSBMYW5naXVtIHNlcnZpY2UgdGhhdCByZWNlaXZlc1xuICogYSBgQ2FuY2VsbGF0aW9uVG9rZW5gLiBUaGlzIG1lYW5zIHRoYXQgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgc3VjaCBhIHNlcnZpY2UgaXMgcmVqZWN0ZWQgd2l0aFxuICogdGhpcyBzeW1ib2wgYXMgcmVqZWN0aW9uIHJlYXNvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IE9wZXJhdGlvbkNhbmNlbGxlZCA9IFN5bWJvbCgnT3BlcmF0aW9uQ2FuY2VsbGVkJyk7XG4vKipcbiAqIFVzZSB0aGlzIGluIGEgYGNhdGNoYCBibG9jayB0byBjaGVjayB3aGV0aGVyIHRoZSB0aHJvd24gb2JqZWN0IGluZGljYXRlcyB0aGF0IHRoZSBvcGVyYXRpb25cbiAqIGhhcyBiZWVuIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT3BlcmF0aW9uQ2FuY2VsbGVkKGVycikge1xuICAgIHJldHVybiBlcnIgPT09IE9wZXJhdGlvbkNhbmNlbGxlZDtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIHR3byB0aGluZ3M6XG4gKiAgMS4gQ2hlY2sgdGhlIGVsYXBzZWQgdGltZSBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoaXMgZnVuY3Rpb24gb3IgdG8gYHN0YXJ0Q2FuY2VsYWJsZU9wZXJhdGlvbmAuIElmIHRoZSBwcmVkZWZpbmVkXG4gKiAgICAgcGVyaW9kIChjb25maWd1cmVkIHdpdGggYHNldEludGVycnVwdGlvblBlcmlvZGApIGlzIGV4Y2VlZGVkLCBleGVjdXRpb24gaXMgZGVsYXllZCB3aXRoIGBkZWxheU5leHRUaWNrYC5cbiAqICAyLiBJZiB0aGUgcHJlZGVmaW5lZCBwZXJpb2QgaXMgbm90IG1ldCB5ZXQgb3IgZXhlY3V0aW9uIGlzIHJlc3VtZWQgYWZ0ZXIgYW4gaW50ZXJydXB0aW9uLCB0aGUgZ2l2ZW4gY2FuY2VsbGF0aW9uXG4gKiAgICAgdG9rZW4gaXMgY2hlY2tlZCwgYW5kIGlmIGNhbmNlbGxhdGlvbiBpcyByZXF1ZXN0ZWQsIGBPcGVyYXRpb25DYW5jZWxlZGAgaXMgdGhyb3duLlxuICpcbiAqIEFsbCBzZXJ2aWNlcyBpbiBMYW5naXVtIHRoYXQgcmVjZWl2ZSBhIGBDYW5jZWxsYXRpb25Ub2tlbmAgbWF5IHBvdGVudGlhbGx5IGNhbGwgdGhpcyBmdW5jdGlvbiwgc28gdGhlXG4gKiBgQ2FuY2VsbGF0aW9uVG9rZW5gIG11c3QgYmUgY2F1Z2h0ICh3aXRoIGFuIGBhc3luY2AgdHJ5LWNhdGNoIGJsb2NrIG9yIGEgYGNhdGNoYCBjYWxsYmFjayBhdHRhY2hlZCB0b1xuICogdGhlIHByb21pc2UpIHRvIGF2b2lkIHRoYXQgZXZlbnQgYmVpbmcgZXhwb3NlZCBhcyBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGludGVycnVwdEFuZENoZWNrKHRva2VuKSB7XG4gICAgaWYgKHRva2VuID09PSBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lKSB7XG4gICAgICAgIC8vIEVhcmx5IGV4aXQgaW4gY2FzZSBjYW5jZWxsYXRpb24gd2FzIGRpc2FibGVkIGJ5IHRoZSBjYWxsZXJcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgaWYgKGN1cnJlbnQgLSBsYXN0VGljayA+PSBnbG9iYWxJbnRlcnJ1cHRpb25QZXJpb2QpIHtcbiAgICAgICAgbGFzdFRpY2sgPSBjdXJyZW50O1xuICAgICAgICBhd2FpdCBkZWxheU5leHRUaWNrKCk7XG4gICAgICAgIC8vIHByZXZlbnQgY2FsbGluZyBkZWxheU5leHRUaWNrIGV2ZXJ5IGl0ZXJhdGlvbiBvZiBsb29wXG4gICAgICAgIC8vIHdoZXJlIGRlbGF5TmV4dFRpY2sgdGFrZXMgdXAgdGhlIG1ham9yaXR5IG9yIGFsbCBvZiB0aGVcbiAgICAgICAgLy8gZ2xvYmFsSW50ZXJydXB0aW9uUGVyaW9kIGl0c2VsZlxuICAgICAgICBsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgICBpZiAodG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcbiAgICAgICAgdGhyb3cgT3BlcmF0aW9uQ2FuY2VsbGVkO1xuICAgIH1cbn1cbi8qKlxuICogU2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBkZWZlcnJlZCBwYXR0ZXJuLlxuICogQW4gb2JqZWN0IHRoYXQgZXhwb3NlcyBhIHByb21pc2UgYW5kIGZ1bmN0aW9ucyB0byByZXNvbHZlIGFuZCByZWplY3QgaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGFyZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6WyJDYW5jZWxsYXRpb25Ub2tlbiIsIkNhbmNlbGxhdGlvblRva2VuU291cmNlIiwiZGVsYXlOZXh0VGljayIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImxhc3RUaWNrIiwiZ2xvYmFsSW50ZXJydXB0aW9uUGVyaW9kIiwic3RhcnRDYW5jZWxhYmxlT3BlcmF0aW9uIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzZXRJbnRlcnJ1cHRpb25QZXJpb2QiLCJwZXJpb2QiLCJPcGVyYXRpb25DYW5jZWxsZWQiLCJTeW1ib2wiLCJpc09wZXJhdGlvbkNhbmNlbGxlZCIsImVyciIsImludGVycnVwdEFuZENoZWNrIiwidG9rZW4iLCJOb25lIiwiY3VycmVudCIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiRGVmZXJyZWQiLCJjb25zdHJ1Y3RvciIsInByb21pc2UiLCJyZWplY3QiLCJhcmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/promise-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/regexp-utils.js":
/*!********************************************************!*\
  !*** ./node_modules/langium/lib/utils/regexp-utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NEWLINE_REGEXP: () => (/* binding */ NEWLINE_REGEXP),\n/* harmony export */   escapeRegExp: () => (/* binding */ escapeRegExp),\n/* harmony export */   getCaseInsensitivePattern: () => (/* binding */ getCaseInsensitivePattern),\n/* harmony export */   getTerminalParts: () => (/* binding */ getTerminalParts),\n/* harmony export */   isMultilineComment: () => (/* binding */ isMultilineComment),\n/* harmony export */   isWhitespace: () => (/* binding */ isWhitespace),\n/* harmony export */   partialMatches: () => (/* binding */ partialMatches),\n/* harmony export */   partialRegExp: () => (/* binding */ partialRegExp),\n/* harmony export */   whitespaceCharacters: () => (/* binding */ whitespaceCharacters)\n/* harmony export */ });\n/* harmony import */ var _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chevrotain/regexp-to-ast */ \"(ssr)/./node_modules/@chevrotain/regexp-to-ast/lib/src/api.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \nconst NEWLINE_REGEXP = /\\r?\\n/gm;\nconst regexpParser = new _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.RegExpParser();\n/**\n * This class is in charge of heuristically identifying start/end tokens of terminals.\n *\n * The way this works is by doing the following:\n * 1. Traverse the regular expression in the \"start state\"\n * 2. Add any encountered sets/single characters to the \"start regexp\"\n * 3. Once we encounter any variable-length content (i.e. with quantifiers such as +/?/*), we enter the \"end state\"\n * 4. In the end state, any sets/single characters are added to an \"end stack\".\n * 5. If we re-encounter any variable-length content we reset the end stack\n * 6. We continue visiting the regex until the end, reseting the end stack and rebuilding it as necessary\n *\n * After traversing a regular expression the `startRegexp/endRegexp` properties allow access to the stored start/end of the terminal\n */ class TerminalRegExpVisitor extends _chevrotain_regexp_to_ast__WEBPACK_IMPORTED_MODULE_0__.BaseRegExpVisitor {\n    constructor(){\n        super(...arguments);\n        this.isStarting = true;\n        this.endRegexpStack = [];\n        this.multiline = false;\n    }\n    get endRegex() {\n        return this.endRegexpStack.join(\"\");\n    }\n    reset(regex) {\n        this.multiline = false;\n        this.regex = regex;\n        this.startRegexp = \"\";\n        this.isStarting = true;\n        this.endRegexpStack = [];\n    }\n    visitGroup(node) {\n        if (node.quantifier) {\n            this.isStarting = false;\n            this.endRegexpStack = [];\n        }\n    }\n    visitCharacter(node) {\n        const char = String.fromCharCode(node.value);\n        if (!this.multiline && char === \"\\n\") {\n            this.multiline = true;\n        }\n        if (node.quantifier) {\n            this.isStarting = false;\n            this.endRegexpStack = [];\n        } else {\n            const escapedChar = escapeRegExp(char);\n            this.endRegexpStack.push(escapedChar);\n            if (this.isStarting) {\n                this.startRegexp += escapedChar;\n            }\n        }\n    }\n    visitSet(node) {\n        if (!this.multiline) {\n            const set = this.regex.substring(node.loc.begin, node.loc.end);\n            const regex = new RegExp(set);\n            this.multiline = Boolean(\"\\n\".match(regex));\n        }\n        if (node.quantifier) {\n            this.isStarting = false;\n            this.endRegexpStack = [];\n        } else {\n            const set = this.regex.substring(node.loc.begin, node.loc.end);\n            this.endRegexpStack.push(set);\n            if (this.isStarting) {\n                this.startRegexp += set;\n            }\n        }\n    }\n    visitChildren(node) {\n        if (node.type === \"Group\") {\n            // Ignore children of groups with quantifier (+/*/?)\n            // These groups are unrelated to start/end tokens of terminals\n            const group = node;\n            if (group.quantifier) {\n                return;\n            }\n        }\n        super.visitChildren(node);\n    }\n}\nconst visitor = new TerminalRegExpVisitor();\nfunction getTerminalParts(regexp) {\n    try {\n        if (typeof regexp !== \"string\") {\n            regexp = regexp.source;\n        }\n        regexp = `/${regexp}/`;\n        const pattern = regexpParser.pattern(regexp);\n        const parts = [];\n        for (const alternative of pattern.value.value){\n            visitor.reset(regexp);\n            visitor.visit(alternative);\n            parts.push({\n                start: visitor.startRegexp,\n                end: visitor.endRegex\n            });\n        }\n        return parts;\n    } catch (_a) {\n        return [];\n    }\n}\nfunction isMultilineComment(regexp) {\n    try {\n        if (typeof regexp === \"string\") {\n            regexp = new RegExp(regexp);\n        }\n        regexp = regexp.toString();\n        visitor.reset(regexp);\n        // Parsing the pattern might fail (since it's user code)\n        visitor.visit(regexpParser.pattern(regexp));\n        return visitor.multiline;\n    } catch (_a) {\n        return false;\n    }\n}\n/**\n * A set of all characters that are considered whitespace by the '\\s' RegExp character class.\n * Taken from [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions/Character_classes).\n */ const whitespaceCharacters = (\"\\f\\n\\r\t\\v \\xa0         \" + \"   \\u2028\\u2029  　\\uFEFF\").split(\"\");\nfunction isWhitespace(value) {\n    const regexp = typeof value === \"string\" ? new RegExp(value) : value;\n    return whitespaceCharacters.some((ws)=>regexp.test(ws));\n}\nfunction escapeRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction getCaseInsensitivePattern(keyword) {\n    return Array.prototype.map.call(keyword, (letter)=>/\\w/.test(letter) ? `[${letter.toLowerCase()}${letter.toUpperCase()}]` : escapeRegExp(letter)).join(\"\");\n}\n/**\n * Determines whether the given input has a partial match with the specified regex.\n * @param regex The regex to partially match against\n * @param input The input string\n * @returns Whether any match exists.\n */ function partialMatches(regex, input) {\n    const partial = partialRegExp(regex);\n    const match = input.match(partial);\n    return !!match && match[0].length > 0;\n}\n/**\n * Builds a partial regex from the input regex. A partial regex is able to match incomplete input strings. E.g.\n * a partial regex constructed from `/ab/` is able to match the string `a` without needing a following `b` character. However it won't match `b` alone.\n * @param regex The input regex to be converted.\n * @returns A partial regex constructed from the input regex.\n */ function partialRegExp(regex) {\n    if (typeof regex === \"string\") {\n        regex = new RegExp(regex);\n    }\n    const re = regex, source = regex.source;\n    let i = 0;\n    function process() {\n        let result = \"\", tmp;\n        function appendRaw(nbChars) {\n            result += source.substr(i, nbChars);\n            i += nbChars;\n        }\n        function appendOptional(nbChars) {\n            result += \"(?:\" + source.substr(i, nbChars) + \"|$)\";\n            i += nbChars;\n        }\n        while(i < source.length){\n            switch(source[i]){\n                case \"\\\\\":\n                    switch(source[i + 1]){\n                        case \"c\":\n                            appendOptional(3);\n                            break;\n                        case \"x\":\n                            appendOptional(4);\n                            break;\n                        case \"u\":\n                            if (re.unicode) {\n                                if (source[i + 2] === \"{\") {\n                                    appendOptional(source.indexOf(\"}\", i) - i + 1);\n                                } else {\n                                    appendOptional(6);\n                                }\n                            } else {\n                                appendOptional(2);\n                            }\n                            break;\n                        case \"p\":\n                        case \"P\":\n                            if (re.unicode) {\n                                appendOptional(source.indexOf(\"}\", i) - i + 1);\n                            } else {\n                                appendOptional(2);\n                            }\n                            break;\n                        case \"k\":\n                            appendOptional(source.indexOf(\">\", i) - i + 1);\n                            break;\n                        default:\n                            appendOptional(2);\n                            break;\n                    }\n                    break;\n                case \"[\":\n                    tmp = /\\[(?:\\\\.|.)*?\\]/g;\n                    tmp.lastIndex = i;\n                    tmp = tmp.exec(source) || [];\n                    appendOptional(tmp[0].length);\n                    break;\n                case \"|\":\n                case \"^\":\n                case \"$\":\n                case \"*\":\n                case \"+\":\n                case \"?\":\n                    appendRaw(1);\n                    break;\n                case \"{\":\n                    tmp = /\\{\\d+,?\\d*\\}/g;\n                    tmp.lastIndex = i;\n                    tmp = tmp.exec(source);\n                    if (tmp) {\n                        appendRaw(tmp[0].length);\n                    } else {\n                        appendOptional(1);\n                    }\n                    break;\n                case \"(\":\n                    if (source[i + 1] === \"?\") {\n                        switch(source[i + 2]){\n                            case \":\":\n                                result += \"(?:\";\n                                i += 3;\n                                result += process() + \"|$)\";\n                                break;\n                            case \"=\":\n                                result += \"(?=\";\n                                i += 3;\n                                result += process() + \")\";\n                                break;\n                            case \"!\":\n                                tmp = i;\n                                i += 3;\n                                process();\n                                result += source.substr(tmp, i - tmp);\n                                break;\n                            case \"<\":\n                                switch(source[i + 3]){\n                                    case \"=\":\n                                    case \"!\":\n                                        tmp = i;\n                                        i += 4;\n                                        process();\n                                        result += source.substr(tmp, i - tmp);\n                                        break;\n                                    default:\n                                        appendRaw(source.indexOf(\">\", i) - i + 1);\n                                        result += process() + \"|$)\";\n                                        break;\n                                }\n                                break;\n                        }\n                    } else {\n                        appendRaw(1);\n                        result += process() + \"|$)\";\n                    }\n                    break;\n                case \")\":\n                    ++i;\n                    return result;\n                default:\n                    appendOptional(1);\n                    break;\n            }\n        }\n        return result;\n    }\n    return new RegExp(process(), regex.flags);\n} //# sourceMappingURL=regexp-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvcmVnZXhwLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDRjtBQUNyRSxNQUFNRSxpQkFBaUIsVUFBVTtBQUN4QyxNQUFNQyxlQUFlLElBQUlILG1FQUFZQTtBQUNyQzs7Ozs7Ozs7Ozs7O0NBWUMsR0FDRCxNQUFNSSw4QkFBOEJILHdFQUFpQkE7SUFDakRJLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsRUFBRTtRQUN4QixJQUFJLENBQUNDLFNBQVMsR0FBRztJQUNyQjtJQUNBLElBQUlDLFdBQVc7UUFDWCxPQUFPLElBQUksQ0FBQ0YsY0FBYyxDQUFDRyxJQUFJLENBQUM7SUFDcEM7SUFDQUMsTUFBTUMsS0FBSyxFQUFFO1FBQ1QsSUFBSSxDQUFDSixTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDSSxLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDQyxXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDUCxVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsRUFBRTtJQUM1QjtJQUNBTyxXQUFXQyxJQUFJLEVBQUU7UUFDYixJQUFJQSxLQUFLQyxVQUFVLEVBQUU7WUFDakIsSUFBSSxDQUFDVixVQUFVLEdBQUc7WUFDbEIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsRUFBRTtRQUM1QjtJQUNKO0lBQ0FVLGVBQWVGLElBQUksRUFBRTtRQUNqQixNQUFNRyxPQUFPQyxPQUFPQyxZQUFZLENBQUNMLEtBQUtNLEtBQUs7UUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQ2IsU0FBUyxJQUFJVSxTQUFTLE1BQU07WUFDbEMsSUFBSSxDQUFDVixTQUFTLEdBQUc7UUFDckI7UUFDQSxJQUFJTyxLQUFLQyxVQUFVLEVBQUU7WUFDakIsSUFBSSxDQUFDVixVQUFVLEdBQUc7WUFD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bGVzL2xhbmdpdW0vbGliL3V0aWxzL3JlZ2V4cC11dGlscy5qcz8zNjEzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IFJlZ0V4cFBhcnNlciwgQmFzZVJlZ0V4cFZpc2l0b3IgfSBmcm9tICdAY2hldnJvdGFpbi9yZWdleHAtdG8tYXN0JztcbmV4cG9ydCBjb25zdCBORVdMSU5FX1JFR0VYUCA9IC9cXHI/XFxuL2dtO1xuY29uc3QgcmVnZXhwUGFyc2VyID0gbmV3IFJlZ0V4cFBhcnNlcigpO1xuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGluIGNoYXJnZSBvZiBoZXVyaXN0aWNhbGx5IGlkZW50aWZ5aW5nIHN0YXJ0L2VuZCB0b2tlbnMgb2YgdGVybWluYWxzLlxuICpcbiAqIFRoZSB3YXkgdGhpcyB3b3JrcyBpcyBieSBkb2luZyB0aGUgZm9sbG93aW5nOlxuICogMS4gVHJhdmVyc2UgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBpbiB0aGUgXCJzdGFydCBzdGF0ZVwiXG4gKiAyLiBBZGQgYW55IGVuY291bnRlcmVkIHNldHMvc2luZ2xlIGNoYXJhY3RlcnMgdG8gdGhlIFwic3RhcnQgcmVnZXhwXCJcbiAqIDMuIE9uY2Ugd2UgZW5jb3VudGVyIGFueSB2YXJpYWJsZS1sZW5ndGggY29udGVudCAoaS5lLiB3aXRoIHF1YW50aWZpZXJzIHN1Y2ggYXMgKy8/LyopLCB3ZSBlbnRlciB0aGUgXCJlbmQgc3RhdGVcIlxuICogNC4gSW4gdGhlIGVuZCBzdGF0ZSwgYW55IHNldHMvc2luZ2xlIGNoYXJhY3RlcnMgYXJlIGFkZGVkIHRvIGFuIFwiZW5kIHN0YWNrXCIuXG4gKiA1LiBJZiB3ZSByZS1lbmNvdW50ZXIgYW55IHZhcmlhYmxlLWxlbmd0aCBjb250ZW50IHdlIHJlc2V0IHRoZSBlbmQgc3RhY2tcbiAqIDYuIFdlIGNvbnRpbnVlIHZpc2l0aW5nIHRoZSByZWdleCB1bnRpbCB0aGUgZW5kLCByZXNldGluZyB0aGUgZW5kIHN0YWNrIGFuZCByZWJ1aWxkaW5nIGl0IGFzIG5lY2Vzc2FyeVxuICpcbiAqIEFmdGVyIHRyYXZlcnNpbmcgYSByZWd1bGFyIGV4cHJlc3Npb24gdGhlIGBzdGFydFJlZ2V4cC9lbmRSZWdleHBgIHByb3BlcnRpZXMgYWxsb3cgYWNjZXNzIHRvIHRoZSBzdG9yZWQgc3RhcnQvZW5kIG9mIHRoZSB0ZXJtaW5hbFxuICovXG5jbGFzcyBUZXJtaW5hbFJlZ0V4cFZpc2l0b3IgZXh0ZW5kcyBCYXNlUmVnRXhwVmlzaXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuaXNTdGFydGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZW5kUmVnZXhwU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5tdWx0aWxpbmUgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IGVuZFJlZ2V4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRSZWdleHBTdGFjay5qb2luKCcnKTtcbiAgICB9XG4gICAgcmVzZXQocmVnZXgpIHtcbiAgICAgICAgdGhpcy5tdWx0aWxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWdleCA9IHJlZ2V4O1xuICAgICAgICB0aGlzLnN0YXJ0UmVnZXhwID0gJyc7XG4gICAgICAgIHRoaXMuaXNTdGFydGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZW5kUmVnZXhwU3RhY2sgPSBbXTtcbiAgICB9XG4gICAgdmlzaXRHcm91cChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLnF1YW50aWZpZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdGFydGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbmRSZWdleHBTdGFjayA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0Q2hhcmFjdGVyKG5vZGUpIHtcbiAgICAgICAgY29uc3QgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUobm9kZS52YWx1ZSk7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aWxpbmUgJiYgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlsaW5lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5xdWFudGlmaWVyKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RhcnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZW5kUmVnZXhwU3RhY2sgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVzY2FwZWRDaGFyID0gZXNjYXBlUmVnRXhwKGNoYXIpO1xuICAgICAgICAgICAgdGhpcy5lbmRSZWdleHBTdGFjay5wdXNoKGVzY2FwZWRDaGFyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVnZXhwICs9IGVzY2FwZWRDaGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0U2V0KG5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm11bHRpbGluZSkge1xuICAgICAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5yZWdleC5zdWJzdHJpbmcobm9kZS5sb2MuYmVnaW4sIG5vZGUubG9jLmVuZCk7XG4gICAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoc2V0KTtcbiAgICAgICAgICAgIHRoaXMubXVsdGlsaW5lID0gQm9vbGVhbignXFxuJy5tYXRjaChyZWdleCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnF1YW50aWZpZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdGFydGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbmRSZWdleHBTdGFjayA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5yZWdleC5zdWJzdHJpbmcobm9kZS5sb2MuYmVnaW4sIG5vZGUubG9jLmVuZCk7XG4gICAgICAgICAgICB0aGlzLmVuZFJlZ2V4cFN0YWNrLnB1c2goc2V0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVnZXhwICs9IHNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdENoaWxkcmVuKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ0dyb3VwJykge1xuICAgICAgICAgICAgLy8gSWdub3JlIGNoaWxkcmVuIG9mIGdyb3VwcyB3aXRoIHF1YW50aWZpZXIgKCsvKi8/KVxuICAgICAgICAgICAgLy8gVGhlc2UgZ3JvdXBzIGFyZSB1bnJlbGF0ZWQgdG8gc3RhcnQvZW5kIHRva2VucyBvZiB0ZXJtaW5hbHNcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChncm91cC5xdWFudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnZpc2l0Q2hpbGRyZW4obm9kZSk7XG4gICAgfVxufVxuY29uc3QgdmlzaXRvciA9IG5ldyBUZXJtaW5hbFJlZ0V4cFZpc2l0b3IoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXJtaW5hbFBhcnRzKHJlZ2V4cCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVnZXhwICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVnZXhwID0gcmVnZXhwLnNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICByZWdleHAgPSBgLyR7cmVnZXhwfS9gO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gcmVnZXhwUGFyc2VyLnBhdHRlcm4ocmVnZXhwKTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBhbHRlcm5hdGl2ZSBvZiBwYXR0ZXJuLnZhbHVlLnZhbHVlKSB7XG4gICAgICAgICAgICB2aXNpdG9yLnJlc2V0KHJlZ2V4cCk7XG4gICAgICAgICAgICB2aXNpdG9yLnZpc2l0KGFsdGVybmF0aXZlKTtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiB2aXNpdG9yLnN0YXJ0UmVnZXhwLFxuICAgICAgICAgICAgICAgIGVuZDogdmlzaXRvci5lbmRSZWdleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpbGluZUNvbW1lbnQocmVnZXhwKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWdleHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVnZXhwID0gcmVnZXhwLnRvU3RyaW5nKCk7XG4gICAgICAgIHZpc2l0b3IucmVzZXQocmVnZXhwKTtcbiAgICAgICAgLy8gUGFyc2luZyB0aGUgcGF0dGVybiBtaWdodCBmYWlsIChzaW5jZSBpdCdzIHVzZXIgY29kZSlcbiAgICAgICAgdmlzaXRvci52aXNpdChyZWdleHBQYXJzZXIucGF0dGVybihyZWdleHApKTtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IubXVsdGlsaW5lO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogQSBzZXQgb2YgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgY29uc2lkZXJlZCB3aGl0ZXNwYWNlIGJ5IHRoZSAnXFxzJyBSZWdFeHAgY2hhcmFjdGVyIGNsYXNzLlxuICogVGFrZW4gZnJvbSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL1JlZ3VsYXJfZXhwcmVzc2lvbnMvQ2hhcmFjdGVyX2NsYXNzZXMpLlxuICovXG5leHBvcnQgY29uc3Qgd2hpdGVzcGFjZUNoYXJhY3RlcnMgPSAoJ1xcZlxcblxcclxcdFxcdlxcdTAwMjBcXHUwMGEwXFx1MTY4MFxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3JyArXG4gICAgJ1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMjhcXHUyMDI5XFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1ZmVmZicpLnNwbGl0KCcnKTtcbmV4cG9ydCBmdW5jdGlvbiBpc1doaXRlc3BhY2UodmFsdWUpIHtcbiAgICBjb25zdCByZWdleHAgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gbmV3IFJlZ0V4cCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZXR1cm4gd2hpdGVzcGFjZUNoYXJhY3RlcnMuc29tZSgod3MpID0+IHJlZ2V4cC50ZXN0KHdzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FzZUluc2Vuc2l0aXZlUGF0dGVybihrZXl3b3JkKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChrZXl3b3JkLCBsZXR0ZXIgPT4gL1xcdy8udGVzdChsZXR0ZXIpID8gYFske2xldHRlci50b0xvd2VyQ2FzZSgpfSR7bGV0dGVyLnRvVXBwZXJDYXNlKCl9XWAgOiBlc2NhcGVSZWdFeHAobGV0dGVyKSkuam9pbignJyk7XG59XG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gaW5wdXQgaGFzIGEgcGFydGlhbCBtYXRjaCB3aXRoIHRoZSBzcGVjaWZpZWQgcmVnZXguXG4gKiBAcGFyYW0gcmVnZXggVGhlIHJlZ2V4IHRvIHBhcnRpYWxseSBtYXRjaCBhZ2FpbnN0XG4gKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHN0cmluZ1xuICogQHJldHVybnMgV2hldGhlciBhbnkgbWF0Y2ggZXhpc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbE1hdGNoZXMocmVnZXgsIGlucHV0KSB7XG4gICAgY29uc3QgcGFydGlhbCA9IHBhcnRpYWxSZWdFeHAocmVnZXgpO1xuICAgIGNvbnN0IG1hdGNoID0gaW5wdXQubWF0Y2gocGFydGlhbCk7XG4gICAgcmV0dXJuICEhbWF0Y2ggJiYgbWF0Y2hbMF0ubGVuZ3RoID4gMDtcbn1cbi8qKlxuICogQnVpbGRzIGEgcGFydGlhbCByZWdleCBmcm9tIHRoZSBpbnB1dCByZWdleC4gQSBwYXJ0aWFsIHJlZ2V4IGlzIGFibGUgdG8gbWF0Y2ggaW5jb21wbGV0ZSBpbnB1dCBzdHJpbmdzLiBFLmcuXG4gKiBhIHBhcnRpYWwgcmVnZXggY29uc3RydWN0ZWQgZnJvbSBgL2FiL2AgaXMgYWJsZSB0byBtYXRjaCB0aGUgc3RyaW5nIGBhYCB3aXRob3V0IG5lZWRpbmcgYSBmb2xsb3dpbmcgYGJgIGNoYXJhY3Rlci4gSG93ZXZlciBpdCB3b24ndCBtYXRjaCBgYmAgYWxvbmUuXG4gKiBAcGFyYW0gcmVnZXggVGhlIGlucHV0IHJlZ2V4IHRvIGJlIGNvbnZlcnRlZC5cbiAqIEByZXR1cm5zIEEgcGFydGlhbCByZWdleCBjb25zdHJ1Y3RlZCBmcm9tIHRoZSBpbnB1dCByZWdleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWxSZWdFeHAocmVnZXgpIHtcbiAgICBpZiAodHlwZW9mIHJlZ2V4ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAocmVnZXgpO1xuICAgIH1cbiAgICBjb25zdCByZSA9IHJlZ2V4LCBzb3VyY2UgPSByZWdleC5zb3VyY2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAnJywgdG1wO1xuICAgICAgICBmdW5jdGlvbiBhcHBlbmRSYXcobmJDaGFycykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHNvdXJjZS5zdWJzdHIoaSwgbmJDaGFycyk7XG4gICAgICAgICAgICBpICs9IG5iQ2hhcnM7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYXBwZW5kT3B0aW9uYWwobmJDaGFycykge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICcoPzonICsgc291cmNlLnN1YnN0cihpLCBuYkNoYXJzKSArICd8JCknO1xuICAgICAgICAgICAgaSArPSBuYkNoYXJzO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpIDwgc291cmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgc3dpdGNoIChzb3VyY2VbaV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzb3VyY2VbaSArIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRPcHRpb25hbCgzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE9wdGlvbmFsKDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlLnVuaWNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZVtpICsgMl0gPT09ICd7Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kT3B0aW9uYWwoc291cmNlLmluZGV4T2YoJ30nLCBpKSAtIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE9wdGlvbmFsKDYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRPcHRpb25hbCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZS51bmljb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE9wdGlvbmFsKHNvdXJjZS5pbmRleE9mKCd9JywgaSkgLSBpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRPcHRpb25hbCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRPcHRpb25hbChzb3VyY2UuaW5kZXhPZignPicsIGkpIC0gaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRPcHRpb25hbCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gL1xcWyg/OlxcXFwufC4pKj9cXF0vZztcbiAgICAgICAgICAgICAgICAgICAgdG1wLmxhc3RJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5leGVjKHNvdXJjZSkgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZE9wdGlvbmFsKHRtcFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd8JzpcbiAgICAgICAgICAgICAgICBjYXNlICdeJzpcbiAgICAgICAgICAgICAgICBjYXNlICckJzpcbiAgICAgICAgICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICBjYXNlICc/JzpcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kUmF3KDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gL1xce1xcZCssP1xcZCpcXH0vZztcbiAgICAgICAgICAgICAgICAgICAgdG1wLmxhc3RJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5leGVjKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0bXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFJhdyh0bXBbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZE9wdGlvbmFsKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlW2kgKyAxXSA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNvdXJjZVtpICsgMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICc6JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcoPzonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBwcm9jZXNzKCkgKyAnfCQpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnPSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnKD89JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gcHJvY2VzcygpICsgJyknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICchJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzb3VyY2Uuc3Vic3RyKHRtcCwgaSAtIHRtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNvdXJjZVtpICsgM10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJz0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzb3VyY2Uuc3Vic3RyKHRtcCwgaSAtIHRtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFJhdyhzb3VyY2UuaW5kZXhPZignPicsIGkpIC0gaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBwcm9jZXNzKCkgKyAnfCQpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFJhdygxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBwcm9jZXNzKCkgKyAnfCQpJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZE9wdGlvbmFsKDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChwcm9jZXNzKCksIHJlZ2V4LmZsYWdzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2V4cC11dGlscy5qcy5tYXAiXSwibmFtZXMiOlsiUmVnRXhwUGFyc2VyIiwiQmFzZVJlZ0V4cFZpc2l0b3IiLCJORVdMSU5FX1JFR0VYUCIsInJlZ2V4cFBhcnNlciIsIlRlcm1pbmFsUmVnRXhwVmlzaXRvciIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiaXNTdGFydGluZyIsImVuZFJlZ2V4cFN0YWNrIiwibXVsdGlsaW5lIiwiZW5kUmVnZXgiLCJqb2luIiwicmVzZXQiLCJyZWdleCIsInN0YXJ0UmVnZXhwIiwidmlzaXRHcm91cCIsIm5vZGUiLCJxdWFudGlmaWVyIiwidmlzaXRDaGFyYWN0ZXIiLCJjaGFyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidmFsdWUiLCJlc2NhcGVkQ2hhciIsImVzY2FwZVJlZ0V4cCIsInB1c2giLCJ2aXNpdFNldCIsInNldCIsInN1YnN0cmluZyIsImxvYyIsImJlZ2luIiwiZW5kIiwiUmVnRXhwIiwiQm9vbGVhbiIsIm1hdGNoIiwidmlzaXRDaGlsZHJlbiIsInR5cGUiLCJncm91cCIsInZpc2l0b3IiLCJnZXRUZXJtaW5hbFBhcnRzIiwicmVnZXhwIiwic291cmNlIiwicGF0dGVybiIsInBhcnRzIiwiYWx0ZXJuYXRpdmUiLCJ2aXNpdCIsInN0YXJ0IiwiX2EiLCJpc011bHRpbGluZUNvbW1lbnQiLCJ0b1N0cmluZyIsIndoaXRlc3BhY2VDaGFyYWN0ZXJzIiwic3BsaXQiLCJpc1doaXRlc3BhY2UiLCJzb21lIiwid3MiLCJ0ZXN0IiwicmVwbGFjZSIsImdldENhc2VJbnNlbnNpdGl2ZVBhdHRlcm4iLCJrZXl3b3JkIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJtYXAiLCJjYWxsIiwibGV0dGVyIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInBhcnRpYWxNYXRjaGVzIiwiaW5wdXQiLCJwYXJ0aWFsIiwicGFydGlhbFJlZ0V4cCIsImxlbmd0aCIsInJlIiwiaSIsInByb2Nlc3MiLCJyZXN1bHQiLCJ0bXAiLCJhcHBlbmRSYXciLCJuYkNoYXJzIiwic3Vic3RyIiwiYXBwZW5kT3B0aW9uYWwiLCJ1bmljb2RlIiwiaW5kZXhPZiIsImxhc3RJbmRleCIsImV4ZWMiLCJmbGFncyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/regexp-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/stream.js":
/*!**************************************************!*\
  !*** ./node_modules/langium/lib/utils/stream.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DONE_RESULT: () => (/* binding */ DONE_RESULT),\n/* harmony export */   EMPTY_STREAM: () => (/* binding */ EMPTY_STREAM),\n/* harmony export */   Reduction: () => (/* binding */ Reduction),\n/* harmony export */   StreamImpl: () => (/* binding */ StreamImpl),\n/* harmony export */   TreeStreamImpl: () => (/* binding */ TreeStreamImpl),\n/* harmony export */   stream: () => (/* binding */ stream)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ /**\n * The default implementation of `Stream` works with two input functions:\n *  - The first function creates the initial state of an iteration.\n *  - The second function gets the current state as argument and returns an `IteratorResult`.\n */ class StreamImpl {\n    constructor(startFn, nextFn){\n        this.startFn = startFn;\n        this.nextFn = nextFn;\n    }\n    iterator() {\n        const iterator = {\n            state: this.startFn(),\n            next: ()=>this.nextFn(iterator.state),\n            [Symbol.iterator]: ()=>iterator\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.iterator();\n    }\n    isEmpty() {\n        const iterator = this.iterator();\n        return Boolean(iterator.next().done);\n    }\n    count() {\n        const iterator = this.iterator();\n        let count = 0;\n        let next = iterator.next();\n        while(!next.done){\n            count++;\n            next = iterator.next();\n        }\n        return count;\n    }\n    toArray() {\n        const result = [];\n        const iterator = this.iterator();\n        let next;\n        do {\n            next = iterator.next();\n            if (next.value !== undefined) {\n                result.push(next.value);\n            }\n        }while (!next.done);\n        return result;\n    }\n    toSet() {\n        return new Set(this);\n    }\n    toMap(keyFn, valueFn) {\n        const entryStream = this.map((element)=>[\n                keyFn ? keyFn(element) : element,\n                valueFn ? valueFn(element) : element\n            ]);\n        return new Map(entryStream);\n    }\n    toString() {\n        return this.join();\n    }\n    concat(other) {\n        return new StreamImpl(()=>({\n                first: this.startFn(),\n                firstDone: false,\n                iterator: other[Symbol.iterator]()\n            }), (state)=>{\n            let result;\n            if (!state.firstDone) {\n                do {\n                    result = this.nextFn(state.first);\n                    if (!result.done) {\n                        return result;\n                    }\n                }while (!result.done);\n                state.firstDone = true;\n            }\n            do {\n                result = state.iterator.next();\n                if (!result.done) {\n                    return result;\n                }\n            }while (!result.done);\n            return DONE_RESULT;\n        });\n    }\n    join(separator = \",\") {\n        const iterator = this.iterator();\n        let value = \"\";\n        let result;\n        let addSeparator = false;\n        do {\n            result = iterator.next();\n            if (!result.done) {\n                if (addSeparator) {\n                    value += separator;\n                }\n                value += toString(result.value);\n            }\n            addSeparator = true;\n        }while (!result.done);\n        return value;\n    }\n    indexOf(searchElement, fromIndex = 0) {\n        const iterator = this.iterator();\n        let index = 0;\n        let next = iterator.next();\n        while(!next.done){\n            if (index >= fromIndex && next.value === searchElement) {\n                return index;\n            }\n            next = iterator.next();\n            index++;\n        }\n        return -1;\n    }\n    every(predicate) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while(!next.done){\n            if (!predicate(next.value)) {\n                return false;\n            }\n            next = iterator.next();\n        }\n        return true;\n    }\n    some(predicate) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while(!next.done){\n            if (predicate(next.value)) {\n                return true;\n            }\n            next = iterator.next();\n        }\n        return false;\n    }\n    forEach(callbackfn) {\n        const iterator = this.iterator();\n        let index = 0;\n        let next = iterator.next();\n        while(!next.done){\n            callbackfn(next.value, index);\n            next = iterator.next();\n            index++;\n        }\n    }\n    map(callbackfn) {\n        return new StreamImpl(this.startFn, (state)=>{\n            const { done, value } = this.nextFn(state);\n            if (done) {\n                return DONE_RESULT;\n            } else {\n                return {\n                    done: false,\n                    value: callbackfn(value)\n                };\n            }\n        });\n    }\n    filter(predicate) {\n        return new StreamImpl(this.startFn, (state)=>{\n            let result;\n            do {\n                result = this.nextFn(state);\n                if (!result.done && predicate(result.value)) {\n                    return result;\n                }\n            }while (!result.done);\n            return DONE_RESULT;\n        });\n    }\n    nonNullable() {\n        return this.filter((e)=>e !== undefined && e !== null);\n    }\n    reduce(callbackfn, initialValue) {\n        const iterator = this.iterator();\n        let previousValue = initialValue;\n        let next = iterator.next();\n        while(!next.done){\n            if (previousValue === undefined) {\n                previousValue = next.value;\n            } else {\n                previousValue = callbackfn(previousValue, next.value);\n            }\n            next = iterator.next();\n        }\n        return previousValue;\n    }\n    reduceRight(callbackfn, initialValue) {\n        return this.recursiveReduce(this.iterator(), callbackfn, initialValue);\n    }\n    recursiveReduce(iterator, callbackfn, initialValue) {\n        const next = iterator.next();\n        if (next.done) {\n            return initialValue;\n        }\n        const previousValue = this.recursiveReduce(iterator, callbackfn, initialValue);\n        if (previousValue === undefined) {\n            return next.value;\n        }\n        return callbackfn(previousValue, next.value);\n    }\n    find(predicate) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while(!next.done){\n            if (predicate(next.value)) {\n                return next.value;\n            }\n            next = iterator.next();\n        }\n        return undefined;\n    }\n    findIndex(predicate) {\n        const iterator = this.iterator();\n        let index = 0;\n        let next = iterator.next();\n        while(!next.done){\n            if (predicate(next.value)) {\n                return index;\n            }\n            next = iterator.next();\n            index++;\n        }\n        return -1;\n    }\n    includes(searchElement) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while(!next.done){\n            if (next.value === searchElement) {\n                return true;\n            }\n            next = iterator.next();\n        }\n        return false;\n    }\n    flatMap(callbackfn) {\n        return new StreamImpl(()=>({\n                this: this.startFn()\n            }), (state)=>{\n            do {\n                if (state.iterator) {\n                    const next = state.iterator.next();\n                    if (next.done) {\n                        state.iterator = undefined;\n                    } else {\n                        return next;\n                    }\n                }\n                const { done, value } = this.nextFn(state.this);\n                if (!done) {\n                    const mapped = callbackfn(value);\n                    if (isIterable(mapped)) {\n                        state.iterator = mapped[Symbol.iterator]();\n                    } else {\n                        return {\n                            done: false,\n                            value: mapped\n                        };\n                    }\n                }\n            }while (state.iterator);\n            return DONE_RESULT;\n        });\n    }\n    flat(depth) {\n        if (depth === undefined) {\n            depth = 1;\n        }\n        if (depth <= 0) {\n            return this;\n        }\n        const stream = depth > 1 ? this.flat(depth - 1) : this;\n        return new StreamImpl(()=>({\n                this: stream.startFn()\n            }), (state)=>{\n            do {\n                if (state.iterator) {\n                    const next = state.iterator.next();\n                    if (next.done) {\n                        state.iterator = undefined;\n                    } else {\n                        return next;\n                    }\n                }\n                const { done, value } = stream.nextFn(state.this);\n                if (!done) {\n                    if (isIterable(value)) {\n                        state.iterator = value[Symbol.iterator]();\n                    } else {\n                        return {\n                            done: false,\n                            value: value\n                        };\n                    }\n                }\n            }while (state.iterator);\n            return DONE_RESULT;\n        });\n    }\n    head() {\n        const iterator = this.iterator();\n        const result = iterator.next();\n        if (result.done) {\n            return undefined;\n        }\n        return result.value;\n    }\n    tail(skipCount = 1) {\n        return new StreamImpl(()=>{\n            const state = this.startFn();\n            for(let i = 0; i < skipCount; i++){\n                const next = this.nextFn(state);\n                if (next.done) {\n                    return state;\n                }\n            }\n            return state;\n        }, this.nextFn);\n    }\n    limit(maxSize) {\n        return new StreamImpl(()=>({\n                size: 0,\n                state: this.startFn()\n            }), (state)=>{\n            state.size++;\n            if (state.size > maxSize) {\n                return DONE_RESULT;\n            }\n            return this.nextFn(state.state);\n        });\n    }\n    distinct(by) {\n        return new StreamImpl(()=>({\n                set: new Set(),\n                internalState: this.startFn()\n            }), (state)=>{\n            let result;\n            do {\n                result = this.nextFn(state.internalState);\n                if (!result.done) {\n                    const value = by ? by(result.value) : result.value;\n                    if (!state.set.has(value)) {\n                        state.set.add(value);\n                        return result;\n                    }\n                }\n            }while (!result.done);\n            return DONE_RESULT;\n        });\n    }\n    exclude(other, key) {\n        const otherKeySet = new Set();\n        for (const item of other){\n            const value = key ? key(item) : item;\n            otherKeySet.add(value);\n        }\n        return this.filter((e)=>{\n            const ownKey = key ? key(e) : e;\n            return !otherKeySet.has(ownKey);\n        });\n    }\n}\nfunction toString(item) {\n    if (typeof item === \"string\") {\n        return item;\n    }\n    if (typeof item === \"undefined\") {\n        return \"undefined\";\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (typeof item.toString === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return item.toString();\n    }\n    return Object.prototype.toString.call(item);\n}\nfunction isIterable(obj) {\n    return !!obj && typeof obj[Symbol.iterator] === \"function\";\n}\n/**\n * An empty stream of any type.\n */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst EMPTY_STREAM = new StreamImpl(()=>undefined, ()=>DONE_RESULT);\n/**\n * Use this `IteratorResult` when implementing a `StreamImpl` to indicate that there are no more elements in the stream.\n */ const DONE_RESULT = Object.freeze({\n    done: true,\n    value: undefined\n});\n/**\n * Create a stream from one or more iterables or array-likes.\n */ function stream(...collections) {\n    if (collections.length === 1) {\n        const collection = collections[0];\n        if (collection instanceof StreamImpl) {\n            return collection;\n        }\n        if (isIterable(collection)) {\n            return new StreamImpl(()=>collection[Symbol.iterator](), (iterator)=>iterator.next());\n        }\n        if (typeof collection.length === \"number\") {\n            return new StreamImpl(()=>({\n                    index: 0\n                }), (state)=>{\n                if (state.index < collection.length) {\n                    return {\n                        done: false,\n                        value: collection[state.index++]\n                    };\n                } else {\n                    return DONE_RESULT;\n                }\n            });\n        }\n    }\n    if (collections.length > 1) {\n        return new StreamImpl(()=>({\n                collIndex: 0,\n                arrIndex: 0\n            }), (state)=>{\n            do {\n                if (state.iterator) {\n                    const next = state.iterator.next();\n                    if (!next.done) {\n                        return next;\n                    }\n                    state.iterator = undefined;\n                }\n                if (state.array) {\n                    if (state.arrIndex < state.array.length) {\n                        return {\n                            done: false,\n                            value: state.array[state.arrIndex++]\n                        };\n                    }\n                    state.array = undefined;\n                    state.arrIndex = 0;\n                }\n                if (state.collIndex < collections.length) {\n                    const collection = collections[state.collIndex++];\n                    if (isIterable(collection)) {\n                        state.iterator = collection[Symbol.iterator]();\n                    } else if (collection && typeof collection.length === \"number\") {\n                        state.array = collection;\n                    }\n                }\n            }while (state.iterator || state.array || state.collIndex < collections.length);\n            return DONE_RESULT;\n        });\n    }\n    return EMPTY_STREAM;\n}\n/**\n * The default implementation of `TreeStream` takes a root element and a function that computes the\n * children of its argument. Whether the root node included in the stream is controlled with the\n * `includeRoot` option, which defaults to `false`.\n */ class TreeStreamImpl extends StreamImpl {\n    constructor(root, children, options){\n        super(()=>({\n                iterators: (options === null || options === void 0 ? void 0 : options.includeRoot) ? [\n                    [\n                        root\n                    ][Symbol.iterator]()\n                ] : [\n                    children(root)[Symbol.iterator]()\n                ],\n                pruned: false\n            }), (state)=>{\n            if (state.pruned) {\n                state.iterators.pop();\n                state.pruned = false;\n            }\n            while(state.iterators.length > 0){\n                const iterator = state.iterators[state.iterators.length - 1];\n                const next = iterator.next();\n                if (next.done) {\n                    state.iterators.pop();\n                } else {\n                    state.iterators.push(children(next.value)[Symbol.iterator]());\n                    return next;\n                }\n            }\n            return DONE_RESULT;\n        });\n    }\n    iterator() {\n        const iterator = {\n            state: this.startFn(),\n            next: ()=>this.nextFn(iterator.state),\n            prune: ()=>{\n                iterator.state.pruned = true;\n            },\n            [Symbol.iterator]: ()=>iterator\n        };\n        return iterator;\n    }\n}\n/**\n * A set of utility functions that reduce a stream to a single value.\n */ var Reduction;\n(function(Reduction) {\n    /**\n     * Compute the sum of a number stream.\n     */ function sum(stream) {\n        return stream.reduce((a, b)=>a + b, 0);\n    }\n    Reduction.sum = sum;\n    /**\n     * Compute the product of a number stream.\n     */ function product(stream) {\n        return stream.reduce((a, b)=>a * b, 0);\n    }\n    Reduction.product = product;\n    /**\n     * Compute the minimum of a number stream. Returns `undefined` if the stream is empty.\n     */ function min(stream) {\n        return stream.reduce((a, b)=>Math.min(a, b));\n    }\n    Reduction.min = min;\n    /**\n     * Compute the maximum of a number stream. Returns `undefined` if the stream is empty.\n     */ function max(stream) {\n        return stream.reduce((a, b)=>Math.max(a, b));\n    }\n    Reduction.max = max;\n})(Reduction || (Reduction = {})); //# sourceMappingURL=stream.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvc3RyZWFtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUM5RTs7OztDQUlDLEdBQ00sTUFBTUE7SUFDVEMsWUFBWUMsT0FBTyxFQUFFQyxNQUFNLENBQUU7UUFDekIsSUFBSSxDQUFDRCxPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO0lBQ2xCO0lBQ0FDLFdBQVc7UUFDUCxNQUFNQSxXQUFXO1lBQ2JDLE9BQU8sSUFBSSxDQUFDSCxPQUFPO1lBQ25CSSxNQUFNLElBQU0sSUFBSSxDQUFDSCxNQUFNLENBQUNDLFNBQVNDLEtBQUs7WUFDdEMsQ0FBQ0UsT0FBT0gsUUFBUSxDQUFDLEVBQUUsSUFBTUE7UUFDN0I7UUFDQSxPQUFPQTtJQUNYO0lBQ0EsQ0FBQ0csT0FBT0gsUUFBUSxDQUFDLEdBQUc7UUFDaEIsT0FBTyxJQUFJLENBQUNBLFFBQVE7SUFDeEI7SUFDQUksVUFBVTtRQUNOLE1BQU1KLFdBQVcsSUFBSSxDQUFDQSxRQUFRO1FBQzlCLE9BQU9LLFFBQVFMLFNBQVNFLElBQUksR0FBR0ksSUFBSTtJQUN2QztJQUNBQyxRQUFRO1FBQ0osTUFBTVAsV0FBVyxJQUFJLENBQUNBLFFBQVE7UUFDOUIsSUFBSU8sUUFBUTtRQUNaLElBQUlMLE9BQU9GLFNBQVNFLElBQUk7UUFDeEIsTUFBTyxDQUFDQSxLQUFLSSxJQUFJLENBQUU7WUFDZkM7WUFDQUwsT0FBT0YsU0FBU0UsSUFBSTtRQUN4QjtRQUNBLE9BQU9LO0lBQ1g7SUFDQUMsVUFBVTtRQUNOLE1BQU1DLFNBQVMsRUFBRTtRQUNqQixNQUFNVCxXQUFXLElBQUksQ0FBQ0EsUUFBUTtRQUM5QixJQUFJRTtRQUNKLEdBQUc7WUFDQ0EsT0FBT0YsU0FBU0UsSUFBSTtZQUNwQixJQUFJQSxLQUFLUSxLQUFLLEtBQUtDLFdBQVc7Z0JBQzFCRixPQUFPRyxJQUFJLENBQUNWLEtBQUtRLEtBQUs7WUFD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QUNwQjs7S0FFQyxHQUNELFNBQVNDLElBQUk3QyxNQUFNO1FBQ2YsT0FBT0EsT0FBT2QsTUFBTSxDQUFDLENBQUN3RCxHQUFHQyxJQUFNRyxLQUFLRCxHQUFHLENBQUNILEdBQUdDO0lBQy9DO0lBQ0FILFVBQVVLLEdBQUcsR0FBR0E7SUFDaEI7O0tBRUMsR0FDRCxTQUFTRSxJQUFJL0MsTUFBTTtRQUNmLE9BQU9BLE9BQU9kLE1BQU0sQ0FBQyxDQUFDd0QsR0FBR0MsSUFBTUcsS0FBS0MsR0FBRyxDQUFDTCxHQUFHQztJQUMvQztJQUNBSCxVQUFVTyxHQUFHLEdBQUdBO0FBQ3BCLEdBQUdQLGFBQWNBLENBQUFBLFlBQVksQ0FBQyxLQUM5QixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi91dGlscy9zdHJlYW0uanM/NGZkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBTdHJlYW1gIHdvcmtzIHdpdGggdHdvIGlucHV0IGZ1bmN0aW9uczpcbiAqICAtIFRoZSBmaXJzdCBmdW5jdGlvbiBjcmVhdGVzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGFuIGl0ZXJhdGlvbi5cbiAqICAtIFRoZSBzZWNvbmQgZnVuY3Rpb24gZ2V0cyB0aGUgY3VycmVudCBzdGF0ZSBhcyBhcmd1bWVudCBhbmQgcmV0dXJucyBhbiBgSXRlcmF0b3JSZXN1bHRgLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtSW1wbCB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnRGbiwgbmV4dEZuKSB7XG4gICAgICAgIHRoaXMuc3RhcnRGbiA9IHN0YXJ0Rm47XG4gICAgICAgIHRoaXMubmV4dEZuID0gbmV4dEZuO1xuICAgIH1cbiAgICBpdGVyYXRvcigpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB7XG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGFydEZuKCksXG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB0aGlzLm5leHRGbihpdGVyYXRvci5zdGF0ZSksXG4gICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gaXRlcmF0b3JcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IoKTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIHJldHVybiBCb29sZWFuKGl0ZXJhdG9yLm5leHQoKS5kb25lKTtcbiAgICB9XG4gICAgY291bnQoKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXh0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoIW5leHQuZG9uZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRvU2V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNldCh0aGlzKTtcbiAgICB9XG4gICAgdG9NYXAoa2V5Rm4sIHZhbHVlRm4pIHtcbiAgICAgICAgY29uc3QgZW50cnlTdHJlYW0gPSB0aGlzLm1hcChlbGVtZW50ID0+IFtcbiAgICAgICAgICAgIGtleUZuID8ga2V5Rm4oZWxlbWVudCkgOiBlbGVtZW50LFxuICAgICAgICAgICAgdmFsdWVGbiA/IHZhbHVlRm4oZWxlbWVudCkgOiBlbGVtZW50XG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gbmV3IE1hcChlbnRyeVN0cmVhbSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5qb2luKCk7XG4gICAgfVxuICAgIGNvbmNhdChvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbUltcGwoKCkgPT4gKHsgZmlyc3Q6IHRoaXMuc3RhcnRGbigpLCBmaXJzdERvbmU6IGZhbHNlLCBpdGVyYXRvcjogb3RoZXJbU3ltYm9sLml0ZXJhdG9yXSgpIH0pLCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5maXJzdERvbmUpIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubmV4dEZuKHN0YXRlLmZpcnN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFyZXN1bHQuZG9uZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuZmlyc3REb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGF0ZS5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKCFyZXN1bHQuZG9uZSk7XG4gICAgICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBqb2luKHNlcGFyYXRvciA9ICcsJykge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGxldCBhZGRTZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgIGlmIChhZGRTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gc2VwYXJhdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSArPSB0b1N0cmluZyhyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkU2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgfSB3aGlsZSAoIXJlc3VsdC5kb25lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpbmRleE9mKHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCA9IDApIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB3aGlsZSAoIW5leHQuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IGZyb21JbmRleCAmJiBuZXh0LnZhbHVlID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBldmVyeShwcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIGxldCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB3aGlsZSAoIW5leHQuZG9uZSkge1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGUobmV4dC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzb21lKHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgICAgbGV0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHdoaWxlICghbmV4dC5kb25lKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5leHQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFja2ZuKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4obmV4dC52YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFwKGNhbGxiYWNrZm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1JbXBsKHRoaXMuc3RhcnRGbiwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSB0aGlzLm5leHRGbihzdGF0ZSk7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBET05FX1JFU1VMVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogY2FsbGJhY2tmbih2YWx1ZSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbHRlcihwcmVkaWNhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1JbXBsKHRoaXMuc3RhcnRGbiwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm5leHRGbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZG9uZSAmJiBwcmVkaWNhdGUocmVzdWx0LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKCFyZXN1bHQuZG9uZSk7XG4gICAgICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25OdWxsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGUgPT4gZSAhPT0gdW5kZWZpbmVkICYmIGUgIT09IG51bGwpO1xuICAgIH1cbiAgICByZWR1Y2UoY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBsZXQgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgbGV0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHdoaWxlICghbmV4dC5kb25lKSB7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IG5leHQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2tmbihwcmV2aW91c1ZhbHVlLCBuZXh0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gICAgfVxuICAgIHJlZHVjZVJpZ2h0KGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWN1cnNpdmVSZWR1Y2UodGhpcy5pdGVyYXRvcigpLCBjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICByZWN1cnNpdmVSZWR1Y2UoaXRlcmF0b3IsIGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjb25zdCBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAobmV4dC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB0aGlzLnJlY3Vyc2l2ZVJlZHVjZShpdGVyYXRvciwgY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrZm4ocHJldmlvdXNWYWx1ZSwgbmV4dC52YWx1ZSk7XG4gICAgfVxuICAgIGZpbmQocHJlZGljYXRlKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBsZXQgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobmV4dC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZmluZEluZGV4KHByZWRpY2F0ZSkge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHdoaWxlICghbmV4dC5kb25lKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5leHQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpbmNsdWRlcyhzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBsZXQgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmxhdE1hcChjYWxsYmFja2ZuKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtSW1wbCgoKSA9PiAoeyB0aGlzOiB0aGlzLnN0YXJ0Rm4oKSB9KSwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLml0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBzdGF0ZS5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLml0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gdGhpcy5uZXh0Rm4oc3RhdGUudGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZCA9IGNhbGxiYWNrZm4odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJdGVyYWJsZShtYXBwZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pdGVyYXRvciA9IG1hcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG1hcHBlZCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoc3RhdGUuaXRlcmF0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIERPTkVfUkVTVUxUO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmxhdChkZXB0aCkge1xuICAgICAgICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVwdGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXB0aCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBkZXB0aCA+IDEgPyB0aGlzLmZsYXQoZGVwdGggLSAxKSA6IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtSW1wbCgoKSA9PiAoeyB0aGlzOiBzdHJlYW0uc3RhcnRGbigpIH0pLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHN0YXRlLml0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXRlcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBzdHJlYW0ubmV4dEZuKHN0YXRlLnRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICghZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLml0ZXJhdG9yID0gdmFsdWVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoc3RhdGUuaXRlcmF0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIERPTkVfUkVTVUxUO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGVhZCgpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gICAgfVxuICAgIHRhaWwoc2tpcENvdW50ID0gMSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbUltcGwoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXJ0Rm4oKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2tpcENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5uZXh0Rm4oc3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSwgdGhpcy5uZXh0Rm4pO1xuICAgIH1cbiAgICBsaW1pdChtYXhTaXplKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtSW1wbCgoKSA9PiAoeyBzaXplOiAwLCBzdGF0ZTogdGhpcy5zdGFydEZuKCkgfSksIHN0YXRlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnNpemUrKztcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zaXplID4gbWF4U2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBET05FX1JFU1VMVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5leHRGbihzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXN0aW5jdChieSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbUltcGwoKCkgPT4gKHsgc2V0OiBuZXcgU2V0KCksIGludGVybmFsU3RhdGU6IHRoaXMuc3RhcnRGbigpIH0pLCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubmV4dEZuKHN0YXRlLmludGVybmFsU3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBieSA/IGJ5KHJlc3VsdC52YWx1ZSkgOiByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGUuc2V0Lmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnNldC5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKCFyZXN1bHQuZG9uZSk7XG4gICAgICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKG90aGVyLCBrZXkpIHtcbiAgICAgICAgY29uc3Qgb3RoZXJLZXlTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvdGhlcikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBrZXkgPyBrZXkoaXRlbSkgOiBpdGVtO1xuICAgICAgICAgICAgb3RoZXJLZXlTZXQuYWRkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvd25LZXkgPSBrZXkgPyBrZXkoZSkgOiBlO1xuICAgICAgICAgICAgcmV0dXJuICFvdGhlcktleVNldC5oYXMob3duS2V5KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9TdHJpbmcoaXRlbSkge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmICh0eXBlb2YgaXRlbS50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gaXRlbS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZW0pO1xufVxuZnVuY3Rpb24gaXNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9ialtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBBbiBlbXB0eSBzdHJlYW0gb2YgYW55IHR5cGUuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgY29uc3QgRU1QVFlfU1RSRUFNID0gbmV3IFN0cmVhbUltcGwoKCkgPT4gdW5kZWZpbmVkLCAoKSA9PiBET05FX1JFU1VMVCk7XG4vKipcbiAqIFVzZSB0aGlzIGBJdGVyYXRvclJlc3VsdGAgd2hlbiBpbXBsZW1lbnRpbmcgYSBgU3RyZWFtSW1wbGAgdG8gaW5kaWNhdGUgdGhhdCB0aGVyZSBhcmUgbm8gbW9yZSBlbGVtZW50cyBpbiB0aGUgc3RyZWFtLlxuICovXG5leHBvcnQgY29uc3QgRE9ORV9SRVNVTFQgPSBPYmplY3QuZnJlZXplKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbi8qKlxuICogQ3JlYXRlIGEgc3RyZWFtIGZyb20gb25lIG9yIG1vcmUgaXRlcmFibGVzIG9yIGFycmF5LWxpa2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtKC4uLmNvbGxlY3Rpb25zKSB7XG4gICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnNbMF07XG4gICAgICAgIGlmIChjb2xsZWN0aW9uIGluc3RhbmNlb2YgU3RyZWFtSW1wbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtSW1wbCgoKSA9PiBjb2xsZWN0aW9uW1N5bWJvbC5pdGVyYXRvcl0oKSwgKGl0ZXJhdG9yKSA9PiBpdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29sbGVjdGlvbi5sZW5ndGggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0cmVhbUltcGwoKCkgPT4gKHsgaW5kZXg6IDAgfSksIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pbmRleCA8IGNvbGxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogY29sbGVjdGlvbltzdGF0ZS5pbmRleCsrXSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERPTkVfUkVTVUxUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtSW1wbCgoKSA9PiAoeyBjb2xsSW5kZXg6IDAsIGFyckluZGV4OiAwIH0pLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHN0YXRlLml0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLml0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmFyckluZGV4IDwgc3RhdGUuYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IHN0YXRlLmFycmF5W3N0YXRlLmFyckluZGV4KytdIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYXJyYXkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmFyckluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvbGxJbmRleCA8IGNvbGxlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnNbc3RhdGUuY29sbEluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJdGVyYWJsZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXRlcmF0b3IgPSBjb2xsZWN0aW9uW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmFycmF5ID0gY29sbGVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHN0YXRlLml0ZXJhdG9yIHx8IHN0YXRlLmFycmF5IHx8IHN0YXRlLmNvbGxJbmRleCA8IGNvbGxlY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gRU1QVFlfU1RSRUFNO1xufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgVHJlZVN0cmVhbWAgdGFrZXMgYSByb290IGVsZW1lbnQgYW5kIGEgZnVuY3Rpb24gdGhhdCBjb21wdXRlcyB0aGVcbiAqIGNoaWxkcmVuIG9mIGl0cyBhcmd1bWVudC4gV2hldGhlciB0aGUgcm9vdCBub2RlIGluY2x1ZGVkIGluIHRoZSBzdHJlYW0gaXMgY29udHJvbGxlZCB3aXRoIHRoZVxuICogYGluY2x1ZGVSb290YCBvcHRpb24sIHdoaWNoIGRlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmVlU3RyZWFtSW1wbCBleHRlbmRzIFN0cmVhbUltcGwge1xuICAgIGNvbnN0cnVjdG9yKHJvb3QsIGNoaWxkcmVuLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCgpID0+ICh7XG4gICAgICAgICAgICBpdGVyYXRvcnM6IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5jbHVkZVJvb3QpID8gW1tyb290XVtTeW1ib2wuaXRlcmF0b3JdKCldIDogW2NoaWxkcmVuKHJvb3QpW1N5bWJvbC5pdGVyYXRvcl0oKV0sXG4gICAgICAgICAgICBwcnVuZWQ6IGZhbHNlXG4gICAgICAgIH0pLCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucHJ1bmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaXRlcmF0b3JzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHN0YXRlLnBydW5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHN0YXRlLml0ZXJhdG9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBzdGF0ZS5pdGVyYXRvcnNbc3RhdGUuaXRlcmF0b3JzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pdGVyYXRvcnMucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pdGVyYXRvcnMucHVzaChjaGlsZHJlbihuZXh0LnZhbHVlKVtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRE9ORV9SRVNVTFQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpdGVyYXRvcigpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB7XG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGFydEZuKCksXG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB0aGlzLm5leHRGbihpdGVyYXRvci5zdGF0ZSksXG4gICAgICAgICAgICBwcnVuZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnN0YXRlLnBydW5lZCA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IGl0ZXJhdG9yXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICB9XG59XG4vKipcbiAqIEEgc2V0IG9mIHV0aWxpdHkgZnVuY3Rpb25zIHRoYXQgcmVkdWNlIGEgc3RyZWFtIHRvIGEgc2luZ2xlIHZhbHVlLlxuICovXG5leHBvcnQgdmFyIFJlZHVjdGlvbjtcbihmdW5jdGlvbiAoUmVkdWN0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgc3VtIG9mIGEgbnVtYmVyIHN0cmVhbS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW0oc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW0ucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgfVxuICAgIFJlZHVjdGlvbi5zdW0gPSBzdW07XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgcHJvZHVjdCBvZiBhIG51bWJlciBzdHJlYW0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvZHVjdChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS5yZWR1Y2UoKGEsIGIpID0+IGEgKiBiLCAwKTtcbiAgICB9XG4gICAgUmVkdWN0aW9uLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG1pbmltdW0gb2YgYSBudW1iZXIgc3RyZWFtLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmIHRoZSBzdHJlYW0gaXMgZW1wdHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKHN0cmVhbSkge1xuICAgICAgICByZXR1cm4gc3RyZWFtLnJlZHVjZSgoYSwgYikgPT4gTWF0aC5taW4oYSwgYikpO1xuICAgIH1cbiAgICBSZWR1Y3Rpb24ubWluID0gbWluO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG1heGltdW0gb2YgYSBudW1iZXIgc3RyZWFtLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmIHRoZSBzdHJlYW0gaXMgZW1wdHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KHN0cmVhbSkge1xuICAgICAgICByZXR1cm4gc3RyZWFtLnJlZHVjZSgoYSwgYikgPT4gTWF0aC5tYXgoYSwgYikpO1xuICAgIH1cbiAgICBSZWR1Y3Rpb24ubWF4ID0gbWF4O1xufSkoUmVkdWN0aW9uIHx8IChSZWR1Y3Rpb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLmpzLm1hcCJdLCJuYW1lcyI6WyJTdHJlYW1JbXBsIiwiY29uc3RydWN0b3IiLCJzdGFydEZuIiwibmV4dEZuIiwiaXRlcmF0b3IiLCJzdGF0ZSIsIm5leHQiLCJTeW1ib2wiLCJpc0VtcHR5IiwiQm9vbGVhbiIsImRvbmUiLCJjb3VudCIsInRvQXJyYXkiLCJyZXN1bHQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInB1c2giLCJ0b1NldCIsIlNldCIsInRvTWFwIiwia2V5Rm4iLCJ2YWx1ZUZuIiwiZW50cnlTdHJlYW0iLCJtYXAiLCJlbGVtZW50IiwiTWFwIiwidG9TdHJpbmciLCJqb2luIiwiY29uY2F0Iiwib3RoZXIiLCJmaXJzdCIsImZpcnN0RG9uZSIsIkRPTkVfUkVTVUxUIiwic2VwYXJhdG9yIiwiYWRkU2VwYXJhdG9yIiwiaW5kZXhPZiIsInNlYXJjaEVsZW1lbnQiLCJmcm9tSW5kZXgiLCJpbmRleCIsImV2ZXJ5IiwicHJlZGljYXRlIiwic29tZSIsImZvckVhY2giLCJjYWxsYmFja2ZuIiwiZmlsdGVyIiwibm9uTnVsbGFibGUiLCJlIiwicmVkdWNlIiwiaW5pdGlhbFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsInJlZHVjZVJpZ2h0IiwicmVjdXJzaXZlUmVkdWNlIiwiZmluZCIsImZpbmRJbmRleCIsImluY2x1ZGVzIiwiZmxhdE1hcCIsInRoaXMiLCJtYXBwZWQiLCJpc0l0ZXJhYmxlIiwiZmxhdCIsImRlcHRoIiwic3RyZWFtIiwiaGVhZCIsInRhaWwiLCJza2lwQ291bnQiLCJpIiwibGltaXQiLCJtYXhTaXplIiwic2l6ZSIsImRpc3RpbmN0IiwiYnkiLCJzZXQiLCJpbnRlcm5hbFN0YXRlIiwiaGFzIiwiYWRkIiwiZXhjbHVkZSIsImtleSIsIm90aGVyS2V5U2V0IiwiaXRlbSIsIm93bktleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImNhbGwiLCJvYmoiLCJFTVBUWV9TVFJFQU0iLCJmcmVlemUiLCJjb2xsZWN0aW9ucyIsImxlbmd0aCIsImNvbGxlY3Rpb24iLCJjb2xsSW5kZXgiLCJhcnJJbmRleCIsImFycmF5IiwiVHJlZVN0cmVhbUltcGwiLCJyb290IiwiY2hpbGRyZW4iLCJvcHRpb25zIiwiaXRlcmF0b3JzIiwiaW5jbHVkZVJvb3QiLCJwcnVuZWQiLCJwb3AiLCJwcnVuZSIsIlJlZHVjdGlvbiIsInN1bSIsImEiLCJiIiwicHJvZHVjdCIsIm1pbiIsIk1hdGgiLCJtYXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/utils/uri-utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/langium/lib/utils/uri-utils.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   URI: () => (/* reexport safe */ vscode_uri__WEBPACK_IMPORTED_MODULE_0__.URI),\n/* harmony export */   UriUtils: () => (/* binding */ UriUtils)\n/* harmony export */ });\n/* harmony import */ var vscode_uri__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode-uri */ \"(ssr)/./node_modules/vscode-uri/lib/esm/index.mjs\");\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nvar UriUtils;\n(function(UriUtils) {\n    UriUtils.basename = vscode_uri__WEBPACK_IMPORTED_MODULE_0__.Utils.basename;\n    UriUtils.dirname = vscode_uri__WEBPACK_IMPORTED_MODULE_0__.Utils.dirname;\n    UriUtils.extname = vscode_uri__WEBPACK_IMPORTED_MODULE_0__.Utils.extname;\n    UriUtils.joinPath = vscode_uri__WEBPACK_IMPORTED_MODULE_0__.Utils.joinPath;\n    UriUtils.resolvePath = vscode_uri__WEBPACK_IMPORTED_MODULE_0__.Utils.resolvePath;\n    function equals(a, b) {\n        return (a === null || a === void 0 ? void 0 : a.toString()) === (b === null || b === void 0 ? void 0 : b.toString());\n    }\n    UriUtils.equals = equals;\n    function relative(from, to) {\n        const fromPath = typeof from === \"string\" ? from : from.path;\n        const toPath = typeof to === \"string\" ? to : to.path;\n        const fromParts = fromPath.split(\"/\").filter((e)=>e.length > 0);\n        const toParts = toPath.split(\"/\").filter((e)=>e.length > 0);\n        let i = 0;\n        for(; i < fromParts.length; i++){\n            if (fromParts[i] !== toParts[i]) {\n                break;\n            }\n        }\n        const backPart = \"../\".repeat(fromParts.length - i);\n        const toPart = toParts.slice(i).join(\"/\");\n        return backPart + toPart;\n    }\n    UriUtils.relative = relative;\n    function normalize(uri) {\n        return vscode_uri__WEBPACK_IMPORTED_MODULE_0__.URI.parse(uri.toString()).toString();\n    }\n    UriUtils.normalize = normalize;\n})(UriUtils || (UriUtils = {})); //# sourceMappingURL=uri-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdXRpbHMvdXJpLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUN0QztBQUN6QjtBQUNSLElBQUlFLFNBQVM7QUFDbkIsVUFBVUEsUUFBUTtJQUNmQSxTQUFTQyxRQUFRLEdBQUdGLDZDQUFLQSxDQUFDRSxRQUFRO0lBQ2xDRCxTQUFTRSxPQUFPLEdBQUdILDZDQUFLQSxDQUFDRyxPQUFPO0lBQ2hDRixTQUFTRyxPQUFPLEdBQUdKLDZDQUFLQSxDQUFDSSxPQUFPO0lBQ2hDSCxTQUFTSSxRQUFRLEdBQUdMLDZDQUFLQSxDQUFDSyxRQUFRO0lBQ2xDSixTQUFTSyxXQUFXLEdBQUdOLDZDQUFLQSxDQUFDTSxXQUFXO0lBQ3hDLFNBQVNDLE9BQU9DLENBQUMsRUFBRUMsQ0FBQztRQUNoQixPQUFPLENBQUNELE1BQU0sUUFBUUEsTUFBTSxLQUFLLElBQUksS0FBSyxJQUFJQSxFQUFFRSxRQUFRLEVBQUMsTUFBUUQsQ0FBQUEsTUFBTSxRQUFRQSxNQUFNLEtBQUssSUFBSSxLQUFLLElBQUlBLEVBQUVDLFFBQVEsRUFBQztJQUN0SDtJQUNBVCxTQUFTTSxNQUFNLEdBQUdBO0lBQ2xCLFNBQVNJLFNBQVNDLElBQUksRUFBRUMsRUFBRTtRQUN0QixNQUFNQyxXQUFXLE9BQU9GLFNBQVMsV0FBV0EsT0FBT0EsS0FBS0csSUFBSTtRQUM1RCxNQUFNQyxTQUFTLE9BQU9ILE9BQU8sV0FBV0EsS0FBS0EsR0FBR0UsSUFBSTtRQUNwRCxNQUFNRSxZQUFZSCxTQUFTSSxLQUFLLENBQUMsS0FBS0MsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxNQUFNLEdBQUc7UUFDN0QsTUFBTUMsVUFBVU4sT0FBT0UsS0FBSyxDQUFDLEtBQUtDLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsTUFBTSxHQUFHO1FBQ3pELElBQUlFLElBQUk7UUFDUixNQUFPQSxJQUFJTixVQUFVSSxNQUFNLEVBQUVFLElBQUs7WUFDOUIsSUFBSU4sU0FBUyxDQUFDTSxFQUFFLEtBQUtELE9BQU8sQ0FBQ0MsRUFBRSxFQUFFO2dCQUM3QjtZQUNKO1FBQ0o7UUFDQSxNQUFNQyxXQUFXLE1BQU1DLE1BQU0sQ0FBQ1IsVUFBVUksTUFBTSxHQUFHRTtRQUNqRCxNQUFNRyxTQUFTSixRQUFRSyxLQUFLLENBQUNKLEdBQUdLLElBQUksQ0FBQztRQUNyQyxPQUFPSixXQUFXRTtJQUN0QjtJQUNBekIsU0FBU1UsUUFBUSxHQUFHQTtJQUNwQixTQUFTa0IsVUFBVUMsR0FBRztRQUNsQixPQUFPL0IsMkNBQUdBLENBQUNnQyxLQUFLLENBQUNELElBQUlwQixRQUFRLElBQUlBLFFBQVE7SUFDN0M7SUFDQVQsU0FBUzRCLFNBQVMsR0FBR0E7QUFDekIsR0FBRzVCLFlBQWFBLENBQUFBLFdBQVcsQ0FBQyxLQUM1QixxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi91dGlscy91cmktdXRpbHMuanM/YTY0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMiBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBVUkksIFV0aWxzIH0gZnJvbSAndnNjb2RlLXVyaSc7XG5leHBvcnQgeyBVUkkgfTtcbmV4cG9ydCB2YXIgVXJpVXRpbHM7XG4oZnVuY3Rpb24gKFVyaVV0aWxzKSB7XG4gICAgVXJpVXRpbHMuYmFzZW5hbWUgPSBVdGlscy5iYXNlbmFtZTtcbiAgICBVcmlVdGlscy5kaXJuYW1lID0gVXRpbHMuZGlybmFtZTtcbiAgICBVcmlVdGlscy5leHRuYW1lID0gVXRpbHMuZXh0bmFtZTtcbiAgICBVcmlVdGlscy5qb2luUGF0aCA9IFV0aWxzLmpvaW5QYXRoO1xuICAgIFVyaVV0aWxzLnJlc29sdmVQYXRoID0gVXRpbHMucmVzb2x2ZVBhdGg7XG4gICAgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChhID09PSBudWxsIHx8IGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGEudG9TdHJpbmcoKSkgPT09IChiID09PSBudWxsIHx8IGIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGIudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIFVyaVV0aWxzLmVxdWFscyA9IGVxdWFscztcbiAgICBmdW5jdGlvbiByZWxhdGl2ZShmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBmcm9tUGF0aCA9IHR5cGVvZiBmcm9tID09PSAnc3RyaW5nJyA/IGZyb20gOiBmcm9tLnBhdGg7XG4gICAgICAgIGNvbnN0IHRvUGF0aCA9IHR5cGVvZiB0byA9PT0gJ3N0cmluZycgPyB0byA6IHRvLnBhdGg7XG4gICAgICAgIGNvbnN0IGZyb21QYXJ0cyA9IGZyb21QYXRoLnNwbGl0KCcvJykuZmlsdGVyKGUgPT4gZS5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3QgdG9QYXJ0cyA9IHRvUGF0aC5zcGxpdCgnLycpLmZpbHRlcihlID0+IGUubGVuZ3RoID4gMCk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYWNrUGFydCA9ICcuLi8nLnJlcGVhdChmcm9tUGFydHMubGVuZ3RoIC0gaSk7XG4gICAgICAgIGNvbnN0IHRvUGFydCA9IHRvUGFydHMuc2xpY2UoaSkuam9pbignLycpO1xuICAgICAgICByZXR1cm4gYmFja1BhcnQgKyB0b1BhcnQ7XG4gICAgfVxuICAgIFVyaVV0aWxzLnJlbGF0aXZlID0gcmVsYXRpdmU7XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHVyaSkge1xuICAgICAgICByZXR1cm4gVVJJLnBhcnNlKHVyaS50b1N0cmluZygpKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBVcmlVdGlscy5ub3JtYWxpemUgPSBub3JtYWxpemU7XG59KShVcmlVdGlscyB8fCAoVXJpVXRpbHMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJpLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6WyJVUkkiLCJVdGlscyIsIlVyaVV0aWxzIiwiYmFzZW5hbWUiLCJkaXJuYW1lIiwiZXh0bmFtZSIsImpvaW5QYXRoIiwicmVzb2x2ZVBhdGgiLCJlcXVhbHMiLCJhIiwiYiIsInRvU3RyaW5nIiwicmVsYXRpdmUiLCJmcm9tIiwidG8iLCJmcm9tUGF0aCIsInBhdGgiLCJ0b1BhdGgiLCJmcm9tUGFydHMiLCJzcGxpdCIsImZpbHRlciIsImUiLCJsZW5ndGgiLCJ0b1BhcnRzIiwiaSIsImJhY2tQYXJ0IiwicmVwZWF0IiwidG9QYXJ0Iiwic2xpY2UiLCJqb2luIiwibm9ybWFsaXplIiwidXJpIiwicGFyc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/utils/uri-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/validation/document-validator.js":
/*!*******************************************************************!*\
  !*** ./node_modules/langium/lib/validation/document-validator.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultDocumentValidator: () => (/* binding */ DefaultDocumentValidator),\n/* harmony export */   DocumentValidator: () => (/* binding */ DocumentValidator),\n/* harmony export */   getDiagnosticRange: () => (/* binding */ getDiagnosticRange),\n/* harmony export */   toDiagnosticData: () => (/* binding */ toDiagnosticData),\n/* harmony export */   toDiagnosticSeverity: () => (/* binding */ toDiagnosticSeverity)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/grammar-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/grammar-utils.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _validation_registry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validation-registry.js */ \"(ssr)/./node_modules/langium/lib/validation/validation-registry.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\nclass DefaultDocumentValidator {\n    constructor(services){\n        this.validationRegistry = services.validation.ValidationRegistry;\n        this.metadata = services.LanguageMetaData;\n    }\n    async validateDocument(document, options = {}, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        const parseResult = document.parseResult;\n        const diagnostics = [];\n        await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.interruptAndCheck)(cancelToken);\n        if (!options.categories || options.categories.includes(\"built-in\")) {\n            this.processLexingErrors(parseResult, diagnostics, options);\n            if (options.stopAfterLexingErrors && diagnostics.some((d)=>{\n                var _a;\n                return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.code) === DocumentValidator.LexingError;\n            })) {\n                return diagnostics;\n            }\n            this.processParsingErrors(parseResult, diagnostics, options);\n            if (options.stopAfterParsingErrors && diagnostics.some((d)=>{\n                var _a;\n                return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.code) === DocumentValidator.ParsingError;\n            })) {\n                return diagnostics;\n            }\n            this.processLinkingErrors(document, diagnostics, options);\n            if (options.stopAfterLinkingErrors && diagnostics.some((d)=>{\n                var _a;\n                return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.code) === DocumentValidator.LinkingError;\n            })) {\n                return diagnostics;\n            }\n        }\n        // Process custom validations\n        try {\n            diagnostics.push(...await this.validateAst(parseResult.value, options, cancelToken));\n        } catch (err) {\n            if ((0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.isOperationCancelled)(err)) {\n                throw err;\n            }\n            console.error(\"An error occurred during validation:\", err);\n        }\n        await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.interruptAndCheck)(cancelToken);\n        return diagnostics;\n    }\n    processLexingErrors(parseResult, diagnostics, _options) {\n        var _a, _b, _c;\n        const lexerDiagnostics = [\n            ...parseResult.lexerErrors,\n            ...(_b = (_a = parseResult.lexerReport) === null || _a === void 0 ? void 0 : _a.diagnostics) !== null && _b !== void 0 ? _b : []\n        ];\n        for (const lexerDiagnostic of lexerDiagnostics){\n            const severity = (_c = lexerDiagnostic.severity) !== null && _c !== void 0 ? _c : \"error\";\n            const diagnostic = {\n                severity: toDiagnosticSeverity(severity),\n                range: {\n                    start: {\n                        line: lexerDiagnostic.line - 1,\n                        character: lexerDiagnostic.column - 1\n                    },\n                    end: {\n                        line: lexerDiagnostic.line - 1,\n                        character: lexerDiagnostic.column + lexerDiagnostic.length - 1\n                    }\n                },\n                message: lexerDiagnostic.message,\n                data: toDiagnosticData(severity),\n                source: this.getSource()\n            };\n            diagnostics.push(diagnostic);\n        }\n    }\n    processParsingErrors(parseResult, diagnostics, _options) {\n        for (const parserError of parseResult.parserErrors){\n            let range = undefined;\n            // We can run into the chevrotain error recovery here\n            // The token contained in the parser error might be automatically inserted\n            // In this case every position value will be `NaN`\n            if (isNaN(parserError.token.startOffset)) {\n                // Some special parser error types contain a `previousToken`\n                // We can simply append our diagnostic to that token\n                if (\"previousToken\" in parserError) {\n                    const token = parserError.previousToken;\n                    if (!isNaN(token.startOffset)) {\n                        const position = {\n                            line: token.endLine - 1,\n                            character: token.endColumn\n                        };\n                        range = {\n                            start: position,\n                            end: position\n                        };\n                    } else {\n                        // No valid prev token. Might be empty document or containing only hidden tokens.\n                        // Point to document start\n                        const position = {\n                            line: 0,\n                            character: 0\n                        };\n                        range = {\n                            start: position,\n                            end: position\n                        };\n                    }\n                }\n            } else {\n                range = (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_2__.tokenToRange)(parserError.token);\n            }\n            if (range) {\n                const diagnostic = {\n                    severity: toDiagnosticSeverity(\"error\"),\n                    range,\n                    message: parserError.message,\n                    data: (0,_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.diagnosticData)(DocumentValidator.ParsingError),\n                    source: this.getSource()\n                };\n                diagnostics.push(diagnostic);\n            }\n        }\n    }\n    processLinkingErrors(document, diagnostics, _options) {\n        for (const reference of document.references){\n            const linkingError = reference.error;\n            if (linkingError) {\n                const info = {\n                    node: linkingError.container,\n                    property: linkingError.property,\n                    index: linkingError.index,\n                    data: {\n                        code: DocumentValidator.LinkingError,\n                        containerType: linkingError.container.$type,\n                        property: linkingError.property,\n                        refText: linkingError.reference.$refText\n                    }\n                };\n                diagnostics.push(this.toDiagnostic(\"error\", linkingError.message, info));\n            }\n        }\n    }\n    async validateAst(rootNode, options, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        const validationItems = [];\n        const acceptor = (severity, message, info)=>{\n            validationItems.push(this.toDiagnostic(severity, message, info));\n        };\n        await this.validateAstBefore(rootNode, options, acceptor, cancelToken);\n        await this.validateAstNodes(rootNode, options, acceptor, cancelToken);\n        await this.validateAstAfter(rootNode, options, acceptor, cancelToken);\n        return validationItems;\n    }\n    async validateAstBefore(rootNode, options, acceptor, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        var _a;\n        const checksBefore = this.validationRegistry.checksBefore;\n        for (const checkBefore of checksBefore){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.interruptAndCheck)(cancelToken);\n            await checkBefore(rootNode, acceptor, (_a = options.categories) !== null && _a !== void 0 ? _a : [], cancelToken);\n        }\n    }\n    async validateAstNodes(rootNode, options, acceptor, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        await Promise.all((0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_4__.streamAst)(rootNode).map(async (node)=>{\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.interruptAndCheck)(cancelToken);\n            const checks = this.validationRegistry.getChecks(node.$type, options.categories);\n            for (const check of checks){\n                await check(node, acceptor, cancelToken);\n            }\n        }));\n    }\n    async validateAstAfter(rootNode, options, acceptor, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        var _a;\n        const checksAfter = this.validationRegistry.checksAfter;\n        for (const checkAfter of checksAfter){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.interruptAndCheck)(cancelToken);\n            await checkAfter(rootNode, acceptor, (_a = options.categories) !== null && _a !== void 0 ? _a : [], cancelToken);\n        }\n    }\n    toDiagnostic(severity, message, info) {\n        return {\n            message,\n            range: getDiagnosticRange(info),\n            severity: toDiagnosticSeverity(severity),\n            code: info.code,\n            codeDescription: info.codeDescription,\n            tags: info.tags,\n            relatedInformation: info.relatedInformation,\n            data: info.data,\n            source: this.getSource()\n        };\n    }\n    getSource() {\n        return this.metadata.languageId;\n    }\n}\nfunction getDiagnosticRange(info) {\n    if (info.range) {\n        return info.range;\n    }\n    let cstNode;\n    if (typeof info.property === \"string\") {\n        cstNode = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_5__.findNodeForProperty)(info.node.$cstNode, info.property, info.index);\n    } else if (typeof info.keyword === \"string\") {\n        cstNode = (0,_utils_grammar_utils_js__WEBPACK_IMPORTED_MODULE_5__.findNodeForKeyword)(info.node.$cstNode, info.keyword, info.index);\n    }\n    cstNode !== null && cstNode !== void 0 ? cstNode : cstNode = info.node.$cstNode;\n    if (!cstNode) {\n        return {\n            start: {\n                line: 0,\n                character: 0\n            },\n            end: {\n                line: 0,\n                character: 0\n            }\n        };\n    }\n    return cstNode.range;\n}\n/**\n * Transforms the diagnostic severity from the {@link LexingDiagnosticSeverity} format to LSP's `DiagnosticSeverity` format.\n *\n * @param severity The lexing diagnostic severity\n * @returns Diagnostic severity according to `vscode-languageserver-types/lib/esm/main.js#DiagnosticSeverity`\n */ function toDiagnosticSeverity(severity) {\n    switch(severity){\n        case \"error\":\n            return 1;\n        case \"warning\":\n            return 2;\n        case \"info\":\n            return 3;\n        case \"hint\":\n            return 4;\n        default:\n            throw new Error(\"Invalid diagnostic severity: \" + severity);\n    }\n}\nfunction toDiagnosticData(severity) {\n    switch(severity){\n        case \"error\":\n            return (0,_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.diagnosticData)(DocumentValidator.LexingError);\n        case \"warning\":\n            return (0,_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.diagnosticData)(DocumentValidator.LexingWarning);\n        case \"info\":\n            return (0,_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.diagnosticData)(DocumentValidator.LexingInfo);\n        case \"hint\":\n            return (0,_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.diagnosticData)(DocumentValidator.LexingHint);\n        default:\n            throw new Error(\"Invalid diagnostic severity: \" + severity);\n    }\n}\nvar DocumentValidator;\n(function(DocumentValidator) {\n    DocumentValidator.LexingError = \"lexing-error\";\n    DocumentValidator.LexingWarning = \"lexing-warning\";\n    DocumentValidator.LexingInfo = \"lexing-info\";\n    DocumentValidator.LexingHint = \"lexing-hint\";\n    DocumentValidator.ParsingError = \"parsing-error\";\n    DocumentValidator.LinkingError = \"linking-error\";\n})(DocumentValidator || (DocumentValidator = {})); //# sourceMappingURL=document-validator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdmFsaWRhdGlvbi9kb2N1bWVudC12YWxpZGF0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDakI7QUFDdUI7QUFDbEM7QUFDRztBQUMrQjtBQUMxQjtBQUNuRCxNQUFNUTtJQUNUQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0QsU0FBU0UsVUFBVSxDQUFDQyxrQkFBa0I7UUFDaEUsSUFBSSxDQUFDQyxRQUFRLEdBQUdKLFNBQVNLLGdCQUFnQjtJQUM3QztJQUNBLE1BQU1DLGlCQUFpQkMsUUFBUSxFQUFFQyxVQUFVLENBQUMsQ0FBQyxFQUFFQyxjQUFjbkIscUVBQWlCQSxDQUFDb0IsSUFBSSxFQUFFO1FBQ2pGLE1BQU1DLGNBQWNKLFNBQVNJLFdBQVc7UUFDeEMsTUFBTUMsY0FBYyxFQUFFO1FBQ3RCLE1BQU1qQiwwRUFBaUJBLENBQUNjO1FBQ3hCLElBQUksQ0FBQ0QsUUFBUUssVUFBVSxJQUFJTCxRQUFRSyxVQUFVLENBQUNDLFFBQVEsQ0FBQyxhQUFhO1lBQ2hFLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNKLGFBQWFDLGFBQWFKO1lBQ25ELElBQUlBLFFBQVFRLHFCQUFxQixJQUFJSixZQUFZSyxJQUFJLENBQUNDLENBQUFBO2dCQUFPLElBQUlDO2dCQUFJLE9BQU8sQ0FBQyxDQUFDQSxLQUFLRCxFQUFFRSxJQUFJLE1BQU0sUUFBUUQsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHRSxJQUFJLE1BQU1DLGtCQUFrQkMsV0FBVztZQUFFLElBQUk7Z0JBQzVLLE9BQU9YO1lBQ1g7WUFDQSxJQUFJLENBQUNZLG9CQUFvQixDQUFDYixhQUFhQyxhQUFhSjtZQUNwRCxJQUFJQSxRQUFRaUIsc0JBQXNCLElBQUliLFlBQVlLLElBQUksQ0FBQ0MsQ0FBQUE7Z0JBQU8sSUFBSUM7Z0JBQUksT0FBTyxDQUFDLENBQUNBLEtB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QUlyQixrQkFBa0I7QUFDNUIsVUFBVUEsaUJBQWlCO0lBQ3hCQSxrQkFBa0JDLFdBQVcsR0FBRztJQUNoQ0Qsa0JBQWtCbUYsYUFBYSxHQUFHO0lBQ2xDbkYsa0JBQWtCb0YsVUFBVSxHQUFHO0lBQy9CcEYsa0JBQWtCcUYsVUFBVSxHQUFHO0lBQy9CckYsa0JBQWtCSSxZQUFZLEdBQUc7SUFDakNKLGtCQUFrQk8sWUFBWSxHQUFHO0FBQ3JDLEdBQUdQLHFCQUFzQkEsQ0FBQUEsb0JBQW9CLENBQUMsS0FDOUMsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdmFsaWRhdGlvbi9kb2N1bWVudC12YWxpZGF0b3IuanM/ZTM3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlbiB9IGZyb20gJy4uL3V0aWxzL2NhbmNlbGxhdGlvbi5qcyc7XG5pbXBvcnQgeyBmaW5kTm9kZUZvcktleXdvcmQsIGZpbmROb2RlRm9yUHJvcGVydHkgfSBmcm9tICcuLi91dGlscy9ncmFtbWFyLXV0aWxzLmpzJztcbmltcG9ydCB7IHN0cmVhbUFzdCB9IGZyb20gJy4uL3V0aWxzL2FzdC11dGlscy5qcyc7XG5pbXBvcnQgeyB0b2tlblRvUmFuZ2UgfSBmcm9tICcuLi91dGlscy9jc3QtdXRpbHMuanMnO1xuaW1wb3J0IHsgaW50ZXJydXB0QW5kQ2hlY2ssIGlzT3BlcmF0aW9uQ2FuY2VsbGVkIH0gZnJvbSAnLi4vdXRpbHMvcHJvbWlzZS11dGlscy5qcyc7XG5pbXBvcnQgeyBkaWFnbm9zdGljRGF0YSB9IGZyb20gJy4vdmFsaWRhdGlvbi1yZWdpc3RyeS5qcyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdERvY3VtZW50VmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25SZWdpc3RyeSA9IHNlcnZpY2VzLnZhbGlkYXRpb24uVmFsaWRhdGlvblJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gc2VydmljZXMuTGFuZ3VhZ2VNZXRhRGF0YTtcbiAgICB9XG4gICAgYXN5bmMgdmFsaWRhdGVEb2N1bWVudChkb2N1bWVudCwgb3B0aW9ucyA9IHt9LCBjYW5jZWxUb2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmUpIHtcbiAgICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSBkb2N1bWVudC5wYXJzZVJlc3VsdDtcbiAgICAgICAgY29uc3QgZGlhZ25vc3RpY3MgPSBbXTtcbiAgICAgICAgYXdhaXQgaW50ZXJydXB0QW5kQ2hlY2soY2FuY2VsVG9rZW4pO1xuICAgICAgICBpZiAoIW9wdGlvbnMuY2F0ZWdvcmllcyB8fCBvcHRpb25zLmNhdGVnb3JpZXMuaW5jbHVkZXMoJ2J1aWx0LWluJykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xleGluZ0Vycm9ycyhwYXJzZVJlc3VsdCwgZGlhZ25vc3RpY3MsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RvcEFmdGVyTGV4aW5nRXJyb3JzICYmIGRpYWdub3N0aWNzLnNvbWUoZCA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSBkLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2RlKSA9PT0gRG9jdW1lbnRWYWxpZGF0b3IuTGV4aW5nRXJyb3I7IH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpYWdub3N0aWNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGFyc2luZ0Vycm9ycyhwYXJzZVJlc3VsdCwgZGlhZ25vc3RpY3MsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RvcEFmdGVyUGFyc2luZ0Vycm9ycyAmJiBkaWFnbm9zdGljcy5zb21lKGQgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gZC5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZSkgPT09IERvY3VtZW50VmFsaWRhdG9yLlBhcnNpbmdFcnJvcjsgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlhZ25vc3RpY3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NMaW5raW5nRXJyb3JzKGRvY3VtZW50LCBkaWFnbm9zdGljcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdG9wQWZ0ZXJMaW5raW5nRXJyb3JzICYmIGRpYWdub3N0aWNzLnNvbWUoZCA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSBkLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2RlKSA9PT0gRG9jdW1lbnRWYWxpZGF0b3IuTGlua2luZ0Vycm9yOyB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaWFnbm9zdGljcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQcm9jZXNzIGN1c3RvbSB2YWxpZGF0aW9uc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGlhZ25vc3RpY3MucHVzaCguLi5hd2FpdCB0aGlzLnZhbGlkYXRlQXN0KHBhcnNlUmVzdWx0LnZhbHVlLCBvcHRpb25zLCBjYW5jZWxUb2tlbikpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChpc09wZXJhdGlvbkNhbmNlbGxlZChlcnIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHZhbGlkYXRpb246JywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBpbnRlcnJ1cHRBbmRDaGVjayhjYW5jZWxUb2tlbik7XG4gICAgICAgIHJldHVybiBkaWFnbm9zdGljcztcbiAgICB9XG4gICAgcHJvY2Vzc0xleGluZ0Vycm9ycyhwYXJzZVJlc3VsdCwgZGlhZ25vc3RpY3MsIF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBsZXhlckRpYWdub3N0aWNzID0gWy4uLnBhcnNlUmVzdWx0LmxleGVyRXJyb3JzLCAuLi4oX2IgPSAoX2EgPSBwYXJzZVJlc3VsdC5sZXhlclJlcG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpYWdub3N0aWNzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXV07XG4gICAgICAgIGZvciAoY29uc3QgbGV4ZXJEaWFnbm9zdGljIG9mIGxleGVyRGlhZ25vc3RpY3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldmVyaXR5ID0gKF9jID0gbGV4ZXJEaWFnbm9zdGljLnNldmVyaXR5KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnZXJyb3InO1xuICAgICAgICAgICAgY29uc3QgZGlhZ25vc3RpYyA9IHtcbiAgICAgICAgICAgICAgICBzZXZlcml0eTogdG9EaWFnbm9zdGljU2V2ZXJpdHkoc2V2ZXJpdHkpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBsZXhlckRpYWdub3N0aWMubGluZSAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6IGxleGVyRGlhZ25vc3RpYy5jb2x1bW4gLSAxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVuZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbGV4ZXJEaWFnbm9zdGljLmxpbmUgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOiBsZXhlckRpYWdub3N0aWMuY29sdW1uICsgbGV4ZXJEaWFnbm9zdGljLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbGV4ZXJEaWFnbm9zdGljLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZGF0YTogdG9EaWFnbm9zdGljRGF0YShzZXZlcml0eSksXG4gICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmdldFNvdXJjZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGlhZ25vc3RpY3MucHVzaChkaWFnbm9zdGljKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGFyc2luZ0Vycm9ycyhwYXJzZVJlc3VsdCwgZGlhZ25vc3RpY3MsIF9vcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGFyc2VyRXJyb3Igb2YgcGFyc2VSZXN1bHQucGFyc2VyRXJyb3JzKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBXZSBjYW4gcnVuIGludG8gdGhlIGNoZXZyb3RhaW4gZXJyb3IgcmVjb3ZlcnkgaGVyZVxuICAgICAgICAgICAgLy8gVGhlIHRva2VuIGNvbnRhaW5lZCBpbiB0aGUgcGFyc2VyIGVycm9yIG1pZ2h0IGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSBldmVyeSBwb3NpdGlvbiB2YWx1ZSB3aWxsIGJlIGBOYU5gXG4gICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VyRXJyb3IudG9rZW4uc3RhcnRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgLy8gU29tZSBzcGVjaWFsIHBhcnNlciBlcnJvciB0eXBlcyBjb250YWluIGEgYHByZXZpb3VzVG9rZW5gXG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIHNpbXBseSBhcHBlbmQgb3VyIGRpYWdub3N0aWMgdG8gdGhhdCB0b2tlblxuICAgICAgICAgICAgICAgIGlmICgncHJldmlvdXNUb2tlbicgaW4gcGFyc2VyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBwYXJzZXJFcnJvci5wcmV2aW91c1Rva2VuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHRva2VuLnN0YXJ0T2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IGxpbmU6IHRva2VuLmVuZExpbmUgLSAxLCBjaGFyYWN0ZXI6IHRva2VuLmVuZENvbHVtbiB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7IHN0YXJ0OiBwb3NpdGlvbiwgZW5kOiBwb3NpdGlvbiB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gdmFsaWQgcHJldiB0b2tlbi4gTWlnaHQgYmUgZW1wdHkgZG9jdW1lbnQgb3IgY29udGFpbmluZyBvbmx5IGhpZGRlbiB0b2tlbnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQb2ludCB0byBkb2N1bWVudCBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IGxpbmU6IDAsIGNoYXJhY3RlcjogMCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7IHN0YXJ0OiBwb3NpdGlvbiwgZW5kOiBwb3NpdGlvbiB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0b2tlblRvUmFuZ2UocGFyc2VyRXJyb3IudG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlhZ25vc3RpYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IHRvRGlhZ25vc3RpY1NldmVyaXR5KCdlcnJvcicpLFxuICAgICAgICAgICAgICAgICAgICByYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGFyc2VyRXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGlhZ25vc3RpY0RhdGEoRG9jdW1lbnRWYWxpZGF0b3IuUGFyc2luZ0Vycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmdldFNvdXJjZSgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaWFnbm9zdGljcy5wdXNoKGRpYWdub3N0aWMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NMaW5raW5nRXJyb3JzKGRvY3VtZW50LCBkaWFnbm9zdGljcywgX29wdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCByZWZlcmVuY2Ugb2YgZG9jdW1lbnQucmVmZXJlbmNlcykge1xuICAgICAgICAgICAgY29uc3QgbGlua2luZ0Vycm9yID0gcmVmZXJlbmNlLmVycm9yO1xuICAgICAgICAgICAgaWYgKGxpbmtpbmdFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGxpbmtpbmdFcnJvci5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBsaW5raW5nRXJyb3IucHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBsaW5raW5nRXJyb3IuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IERvY3VtZW50VmFsaWRhdG9yLkxpbmtpbmdFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclR5cGU6IGxpbmtpbmdFcnJvci5jb250YWluZXIuJHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogbGlua2luZ0Vycm9yLnByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmVGV4dDogbGlua2luZ0Vycm9yLnJlZmVyZW5jZS4kcmVmVGV4dFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaWFnbm9zdGljcy5wdXNoKHRoaXMudG9EaWFnbm9zdGljKCdlcnJvcicsIGxpbmtpbmdFcnJvci5tZXNzYWdlLCBpbmZvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdmFsaWRhdGVBc3Qocm9vdE5vZGUsIG9wdGlvbnMsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgY29uc3QgYWNjZXB0b3IgPSAoc2V2ZXJpdHksIG1lc3NhZ2UsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25JdGVtcy5wdXNoKHRoaXMudG9EaWFnbm9zdGljKHNldmVyaXR5LCBtZXNzYWdlLCBpbmZvKSk7XG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHRoaXMudmFsaWRhdGVBc3RCZWZvcmUocm9vdE5vZGUsIG9wdGlvbnMsIGFjY2VwdG9yLCBjYW5jZWxUb2tlbik7XG4gICAgICAgIGF3YWl0IHRoaXMudmFsaWRhdGVBc3ROb2Rlcyhyb290Tm9kZSwgb3B0aW9ucywgYWNjZXB0b3IsIGNhbmNlbFRva2VuKTtcbiAgICAgICAgYXdhaXQgdGhpcy52YWxpZGF0ZUFzdEFmdGVyKHJvb3ROb2RlLCBvcHRpb25zLCBhY2NlcHRvciwgY2FuY2VsVG9rZW4pO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGlvbkl0ZW1zO1xuICAgIH1cbiAgICBhc3luYyB2YWxpZGF0ZUFzdEJlZm9yZShyb290Tm9kZSwgb3B0aW9ucywgYWNjZXB0b3IsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNoZWNrc0JlZm9yZSA9IHRoaXMudmFsaWRhdGlvblJlZ2lzdHJ5LmNoZWNrc0JlZm9yZTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja0JlZm9yZSBvZiBjaGVja3NCZWZvcmUpIHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIGF3YWl0IGNoZWNrQmVmb3JlKHJvb3ROb2RlLCBhY2NlcHRvciwgKF9hID0gb3B0aW9ucy5jYXRlZ29yaWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSwgY2FuY2VsVG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHZhbGlkYXRlQXN0Tm9kZXMocm9vdE5vZGUsIG9wdGlvbnMsIGFjY2VwdG9yLCBjYW5jZWxUb2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmUpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoc3RyZWFtQXN0KHJvb3ROb2RlKS5tYXAoYXN5bmMgKG5vZGUpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrcyA9IHRoaXMudmFsaWRhdGlvblJlZ2lzdHJ5LmdldENoZWNrcyhub2RlLiR0eXBlLCBvcHRpb25zLmNhdGVnb3JpZXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiBjaGVja3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjaGVjayhub2RlLCBhY2NlcHRvciwgY2FuY2VsVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIHZhbGlkYXRlQXN0QWZ0ZXIocm9vdE5vZGUsIG9wdGlvbnMsIGFjY2VwdG9yLCBjYW5jZWxUb2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjaGVja3NBZnRlciA9IHRoaXMudmFsaWRhdGlvblJlZ2lzdHJ5LmNoZWNrc0FmdGVyO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrQWZ0ZXIgb2YgY2hlY2tzQWZ0ZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIGF3YWl0IGNoZWNrQWZ0ZXIocm9vdE5vZGUsIGFjY2VwdG9yLCAoX2EgPSBvcHRpb25zLmNhdGVnb3JpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLCBjYW5jZWxUb2tlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9EaWFnbm9zdGljKHNldmVyaXR5LCBtZXNzYWdlLCBpbmZvKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgcmFuZ2U6IGdldERpYWdub3N0aWNSYW5nZShpbmZvKSxcbiAgICAgICAgICAgIHNldmVyaXR5OiB0b0RpYWdub3N0aWNTZXZlcml0eShzZXZlcml0eSksXG4gICAgICAgICAgICBjb2RlOiBpbmZvLmNvZGUsXG4gICAgICAgICAgICBjb2RlRGVzY3JpcHRpb246IGluZm8uY29kZURlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdGFnczogaW5mby50YWdzLFxuICAgICAgICAgICAgcmVsYXRlZEluZm9ybWF0aW9uOiBpbmZvLnJlbGF0ZWRJbmZvcm1hdGlvbixcbiAgICAgICAgICAgIGRhdGE6IGluZm8uZGF0YSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5nZXRTb3VyY2UoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRTb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhLmxhbmd1YWdlSWQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERpYWdub3N0aWNSYW5nZShpbmZvKSB7XG4gICAgaWYgKGluZm8ucmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGluZm8ucmFuZ2U7XG4gICAgfVxuICAgIGxldCBjc3ROb2RlO1xuICAgIGlmICh0eXBlb2YgaW5mby5wcm9wZXJ0eSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY3N0Tm9kZSA9IGZpbmROb2RlRm9yUHJvcGVydHkoaW5mby5ub2RlLiRjc3ROb2RlLCBpbmZvLnByb3BlcnR5LCBpbmZvLmluZGV4KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGluZm8ua2V5d29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY3N0Tm9kZSA9IGZpbmROb2RlRm9yS2V5d29yZChpbmZvLm5vZGUuJGNzdE5vZGUsIGluZm8ua2V5d29yZCwgaW5mby5pbmRleCk7XG4gICAgfVxuICAgIGNzdE5vZGUgIT09IG51bGwgJiYgY3N0Tm9kZSAhPT0gdm9pZCAwID8gY3N0Tm9kZSA6IChjc3ROb2RlID0gaW5mby5ub2RlLiRjc3ROb2RlKTtcbiAgICBpZiAoIWNzdE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB7IGxpbmU6IDAsIGNoYXJhY3RlcjogMCB9LFxuICAgICAgICAgICAgZW5kOiB7IGxpbmU6IDAsIGNoYXJhY3RlcjogMCB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjc3ROb2RlLnJhbmdlO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBkaWFnbm9zdGljIHNldmVyaXR5IGZyb20gdGhlIHtAbGluayBMZXhpbmdEaWFnbm9zdGljU2V2ZXJpdHl9IGZvcm1hdCB0byBMU1AncyBgRGlhZ25vc3RpY1NldmVyaXR5YCBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHNldmVyaXR5IFRoZSBsZXhpbmcgZGlhZ25vc3RpYyBzZXZlcml0eVxuICogQHJldHVybnMgRGlhZ25vc3RpYyBzZXZlcml0eSBhY2NvcmRpbmcgdG8gYHZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlcy9saWIvZXNtL21haW4uanMjRGlhZ25vc3RpY1NldmVyaXR5YFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9EaWFnbm9zdGljU2V2ZXJpdHkoc2V2ZXJpdHkpIHtcbiAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICBjYXNlICdoaW50JzpcbiAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRpYWdub3N0aWMgc2V2ZXJpdHk6ICcgKyBzZXZlcml0eSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRvRGlhZ25vc3RpY0RhdGEoc2V2ZXJpdHkpIHtcbiAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIHJldHVybiBkaWFnbm9zdGljRGF0YShEb2N1bWVudFZhbGlkYXRvci5MZXhpbmdFcnJvcik7XG4gICAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICAgICAgcmV0dXJuIGRpYWdub3N0aWNEYXRhKERvY3VtZW50VmFsaWRhdG9yLkxleGluZ1dhcm5pbmcpO1xuICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgIHJldHVybiBkaWFnbm9zdGljRGF0YShEb2N1bWVudFZhbGlkYXRvci5MZXhpbmdJbmZvKTtcbiAgICAgICAgY2FzZSAnaGludCc6XG4gICAgICAgICAgICByZXR1cm4gZGlhZ25vc3RpY0RhdGEoRG9jdW1lbnRWYWxpZGF0b3IuTGV4aW5nSGludCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGlhZ25vc3RpYyBzZXZlcml0eTogJyArIHNldmVyaXR5KTtcbiAgICB9XG59XG5leHBvcnQgdmFyIERvY3VtZW50VmFsaWRhdG9yO1xuKGZ1bmN0aW9uIChEb2N1bWVudFZhbGlkYXRvcikge1xuICAgIERvY3VtZW50VmFsaWRhdG9yLkxleGluZ0Vycm9yID0gJ2xleGluZy1lcnJvcic7XG4gICAgRG9jdW1lbnRWYWxpZGF0b3IuTGV4aW5nV2FybmluZyA9ICdsZXhpbmctd2FybmluZyc7XG4gICAgRG9jdW1lbnRWYWxpZGF0b3IuTGV4aW5nSW5mbyA9ICdsZXhpbmctaW5mbyc7XG4gICAgRG9jdW1lbnRWYWxpZGF0b3IuTGV4aW5nSGludCA9ICdsZXhpbmctaGludCc7XG4gICAgRG9jdW1lbnRWYWxpZGF0b3IuUGFyc2luZ0Vycm9yID0gJ3BhcnNpbmctZXJyb3InO1xuICAgIERvY3VtZW50VmFsaWRhdG9yLkxpbmtpbmdFcnJvciA9ICdsaW5raW5nLWVycm9yJztcbn0pKERvY3VtZW50VmFsaWRhdG9yIHx8IChEb2N1bWVudFZhbGlkYXRvciA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb2N1bWVudC12YWxpZGF0b3IuanMubWFwIl0sIm5hbWVzIjpbIkNhbmNlbGxhdGlvblRva2VuIiwiZmluZE5vZGVGb3JLZXl3b3JkIiwiZmluZE5vZGVGb3JQcm9wZXJ0eSIsInN0cmVhbUFzdCIsInRva2VuVG9SYW5nZSIsImludGVycnVwdEFuZENoZWNrIiwiaXNPcGVyYXRpb25DYW5jZWxsZWQiLCJkaWFnbm9zdGljRGF0YSIsIkRlZmF1bHREb2N1bWVudFZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwic2VydmljZXMiLCJ2YWxpZGF0aW9uUmVnaXN0cnkiLCJ2YWxpZGF0aW9uIiwiVmFsaWRhdGlvblJlZ2lzdHJ5IiwibWV0YWRhdGEiLCJMYW5ndWFnZU1ldGFEYXRhIiwidmFsaWRhdGVEb2N1bWVudCIsImRvY3VtZW50Iiwib3B0aW9ucyIsImNhbmNlbFRva2VuIiwiTm9uZSIsInBhcnNlUmVzdWx0IiwiZGlhZ25vc3RpY3MiLCJjYXRlZ29yaWVzIiwiaW5jbHVkZXMiLCJwcm9jZXNzTGV4aW5nRXJyb3JzIiwic3RvcEFmdGVyTGV4aW5nRXJyb3JzIiwic29tZSIsImQiLCJfYSIsImRhdGEiLCJjb2RlIiwiRG9jdW1lbnRWYWxpZGF0b3IiLCJMZXhpbmdFcnJvciIsInByb2Nlc3NQYXJzaW5nRXJyb3JzIiwic3RvcEFmdGVyUGFyc2luZ0Vycm9ycyIsIlBhcnNpbmdFcnJvciIsInByb2Nlc3NMaW5raW5nRXJyb3JzIiwic3RvcEFmdGVyTGlua2luZ0Vycm9ycyIsIkxpbmtpbmdFcnJvciIsInB1c2giLCJ2YWxpZGF0ZUFzdCIsInZhbHVlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiX29wdGlvbnMiLCJfYiIsIl9jIiwibGV4ZXJEaWFnbm9zdGljcyIsImxleGVyRXJyb3JzIiwibGV4ZXJSZXBvcnQiLCJsZXhlckRpYWdub3N0aWMiLCJzZXZlcml0eSIsImRpYWdub3N0aWMiLCJ0b0RpYWdub3N0aWNTZXZlcml0eSIsInJhbmdlIiwic3RhcnQiLCJsaW5lIiwiY2hhcmFjdGVyIiwiY29sdW1uIiwiZW5kIiwibGVuZ3RoIiwibWVzc2FnZSIsInRvRGlhZ25vc3RpY0RhdGEiLCJzb3VyY2UiLCJnZXRTb3VyY2UiLCJwYXJzZXJFcnJvciIsInBhcnNlckVycm9ycyIsInVuZGVmaW5lZCIsImlzTmFOIiwidG9rZW4iLCJzdGFydE9mZnNldCIsInByZXZpb3VzVG9rZW4iLCJwb3NpdGlvbiIsImVuZExpbmUiLCJlbmRDb2x1bW4iLCJyZWZlcmVuY2UiLCJyZWZlcmVuY2VzIiwibGlua2luZ0Vycm9yIiwiaW5mbyIsIm5vZGUiLCJjb250YWluZXIiLCJwcm9wZXJ0eSIsImluZGV4IiwiY29udGFpbmVyVHlwZSIsIiR0eXBlIiwicmVmVGV4dCIsIiRyZWZUZXh0IiwidG9EaWFnbm9zdGljIiwicm9vdE5vZGUiLCJ2YWxpZGF0aW9uSXRlbXMiLCJhY2NlcHRvciIsInZhbGlkYXRlQXN0QmVmb3JlIiwidmFsaWRhdGVBc3ROb2RlcyIsInZhbGlkYXRlQXN0QWZ0ZXIiLCJjaGVja3NCZWZvcmUiLCJjaGVja0JlZm9yZSIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJjaGVja3MiLCJnZXRDaGVja3MiLCJjaGVjayIsImNoZWNrc0FmdGVyIiwiY2hlY2tBZnRlciIsImdldERpYWdub3N0aWNSYW5nZSIsImNvZGVEZXNjcmlwdGlvbiIsInRhZ3MiLCJyZWxhdGVkSW5mb3JtYXRpb24iLCJsYW5ndWFnZUlkIiwiY3N0Tm9kZSIsIiRjc3ROb2RlIiwia2V5d29yZCIsIkVycm9yIiwiTGV4aW5nV2FybmluZyIsIkxleGluZ0luZm8iLCJMZXhpbmdIaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/validation/document-validator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/validation/validation-registry.js":
/*!********************************************************************!*\
  !*** ./node_modules/langium/lib/validation/validation-registry.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ValidationCategory: () => (/* binding */ ValidationCategory),\n/* harmony export */   ValidationRegistry: () => (/* binding */ ValidationRegistry),\n/* harmony export */   diagnosticData: () => (/* binding */ diagnosticData)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index.js */ \"(ssr)/./node_modules/langium/lib/utils/errors.js\");\n/* harmony import */ var _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/collections.js */ \"(ssr)/./node_modules/langium/lib/utils/collections.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n/**\n * Create DiagnosticData for a given diagnostic code. The result can be put into the `data` field of a DiagnosticInfo.\n */ function diagnosticData(code) {\n    return {\n        code\n    };\n}\nvar ValidationCategory;\n(function(ValidationCategory) {\n    ValidationCategory.all = [\n        \"fast\",\n        \"slow\",\n        \"built-in\"\n    ];\n})(ValidationCategory || (ValidationCategory = {}));\n/**\n * Manages a set of `ValidationCheck`s to be applied when documents are validated.\n */ class ValidationRegistry {\n    constructor(services){\n        this.entries = new _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__.MultiMap();\n        this.entriesBefore = [];\n        this.entriesAfter = [];\n        this.reflection = services.shared.AstReflection;\n    }\n    /**\n     * Register a set of validation checks. Each value in the record can be either a single validation check (i.e. a function)\n     * or an array of validation checks.\n     *\n     * @param checksRecord Set of validation checks to register.\n     * @param category Optional category for the validation checks (defaults to `'fast'`).\n     * @param thisObj Optional object to be used as `this` when calling the validation check functions.\n     */ register(checksRecord, thisObj = this, category = \"fast\") {\n        if (category === \"built-in\") {\n            throw new Error(\"The 'built-in' category is reserved for lexer, parser, and linker errors.\");\n        }\n        for (const [type, ch] of Object.entries(checksRecord)){\n            const callbacks = ch;\n            if (Array.isArray(callbacks)) {\n                for (const check of callbacks){\n                    const entry = {\n                        check: this.wrapValidationException(check, thisObj),\n                        category\n                    };\n                    this.addEntry(type, entry);\n                }\n            } else if (typeof callbacks === \"function\") {\n                const entry = {\n                    check: this.wrapValidationException(callbacks, thisObj),\n                    category\n                };\n                this.addEntry(type, entry);\n            } else {\n                (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.assertUnreachable)(callbacks);\n            }\n        }\n    }\n    wrapValidationException(check, thisObj) {\n        return async (node, accept, cancelToken)=>{\n            await this.handleException(()=>check.call(thisObj, node, accept, cancelToken), \"An error occurred during validation\", accept, node);\n        };\n    }\n    async handleException(functionality, messageContext, accept, node) {\n        try {\n            await functionality();\n        } catch (err) {\n            if ((0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_2__.isOperationCancelled)(err)) {\n                throw err;\n            }\n            console.error(`${messageContext}:`, err);\n            if (err instanceof Error && err.stack) {\n                console.error(err.stack);\n            }\n            const messageDetails = err instanceof Error ? err.message : String(err);\n            accept(\"error\", `${messageContext}: ${messageDetails}`, {\n                node\n            });\n        }\n    }\n    addEntry(type, entry) {\n        if (type === \"AstNode\") {\n            this.entries.add(\"AstNode\", entry);\n            return;\n        }\n        for (const subtype of this.reflection.getAllSubTypes(type)){\n            this.entries.add(subtype, entry);\n        }\n    }\n    getChecks(type, categories) {\n        let checks = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_3__.stream)(this.entries.get(type)).concat(this.entries.get(\"AstNode\"));\n        if (categories) {\n            checks = checks.filter((entry)=>categories.includes(entry.category));\n        }\n        return checks.map((entry)=>entry.check);\n    }\n    /**\n     * Register logic which will be executed once before validating all the nodes of an AST/Langium document.\n     * This helps to prepare or initialize some information which are required or reusable for the following checks on the AstNodes.\n     *\n     * As an example, for validating unique fully-qualified names of nodes in the AST,\n     * here the map for mapping names to nodes could be established.\n     * During the usual checks on the nodes, they are put into this map with their name.\n     *\n     * Note that this approach makes validations stateful, which is relevant e.g. when cancelling the validation.\n     * Therefore it is recommended to clear stored information\n     * _before_ validating an AST to validate each AST unaffected from other ASTs\n     * AND _after_ validating the AST to free memory by information which are no longer used.\n     *\n     * @param checkBefore a set-up function which will be called once before actually validating an AST\n     * @param thisObj Optional object to be used as `this` when calling the validation check functions.\n     */ registerBeforeDocument(checkBefore, thisObj = this) {\n        this.entriesBefore.push(this.wrapPreparationException(checkBefore, \"An error occurred during set-up of the validation\", thisObj));\n    }\n    /**\n     * Register logic which will be executed once after validating all the nodes of an AST/Langium document.\n     * This helps to finally evaluate information which are collected during the checks on the AstNodes.\n     *\n     * As an example, for validating unique fully-qualified names of nodes in the AST,\n     * here the map with all the collected nodes and their names is checked\n     * and validation hints are created for all nodes with the same name.\n     *\n     * Note that this approach makes validations stateful, which is relevant e.g. when cancelling the validation.\n     * Therefore it is recommended to clear stored information\n     * _before_ validating an AST to validate each AST unaffected from other ASTs\n     * AND _after_ validating the AST to free memory by information which are no longer used.\n     *\n     * @param checkBefore a set-up function which will be called once before actually validating an AST\n     * @param thisObj Optional object to be used as `this` when calling the validation check functions.\n     */ registerAfterDocument(checkAfter, thisObj = this) {\n        this.entriesAfter.push(this.wrapPreparationException(checkAfter, \"An error occurred during tear-down of the validation\", thisObj));\n    }\n    wrapPreparationException(check, messageContext, thisObj) {\n        return async (rootNode, accept, categories, cancelToken)=>{\n            await this.handleException(()=>check.call(thisObj, rootNode, accept, categories, cancelToken), messageContext, accept, rootNode);\n        };\n    }\n    get checksBefore() {\n        return this.entriesBefore;\n    }\n    get checksAfter() {\n        return this.entriesAfter;\n    }\n} //# sourceMappingURL=validation-registry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvdmFsaWRhdGlvbi92YWxpZGF0aW9uLXJlZ2lzdHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDOUI7QUFDRztBQUNjO0FBQ3JCO0FBQzVDOztDQUVDLEdBQ00sU0FBU0ksZUFBZUMsSUFBSTtJQUMvQixPQUFPO1FBQUVBO0lBQUs7QUFDbEI7QUFDTyxJQUFJQyxtQkFBbUI7QUFDN0IsVUFBVUEsa0JBQWtCO0lBQ3pCQSxtQkFBbUJDLEdBQUcsR0FBRztRQUFDO1FBQVE7UUFBUTtLQUFXO0FBQ3pELEdBQUdELHNCQUF1QkEsQ0FBQUEscUJBQXFCLENBQUM7QUFDaEQ7O0NBRUMsR0FDTSxNQUFNRTtJQUNUQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDQyxPQUFPLEdBQUcsSUFBSVYsMkRBQVFBO1FBQzNCLElBQUksQ0FBQ1csYUFBYSxHQUFHLEVBQUU7UUFDdkIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsRUFBRTtRQUN0QixJQUFJLENBQUNDLFVBQVUsR0FBR0osU0FBU0ssTUFBTSxDQUFDQyxhQUFhO0lBQ25EO0lBQ0E7Ozs7Ozs7S0FPQyxHQUNEQyxTQUFTQyxZQUFZLEVBQUVDLFVBQVUsSUFBSSxFQUFFQyxXQUFXLE1BQU0sRUFBRTtRQUN0RCxJQUFJQSxhQUFhLFlBQVk7WUFDekIsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO1FBQ0EsS0FBSyxNQUFNLENBQUNDLE1BQU1DLEdBQUcsSUFBSUMsT0FBT2IsT0FBTyxDQUFDTyxjQUFlO1lBQ25ELE1BQU1PLFlBQVlGO1lBQ2xCLElBQUlHLE1BQU1DLE9BQU8sQ0FBQ0YsWUFBWTtnQkFDMUIsS0FBSyxNQUFNRyxTQUFTSCxVQUFXO29CQUMzQixNQUFNSSxRQUFRO3dCQUNWRCxPQUFPLElBQUksQ0FBQ0UsdUJBQXVCLENBQUNGLE9BQU9UO3dCQUMzQ0M7b0JBQ0o7b0JBQ0EsSUFBSSxDQUFDVyxRQUFRLENBQUNULE1B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aUIsWUFBWWhCLGNBQWNJLGdCQUFnQkwsUUFBUThCO1FBQzdIO0lBQ0o7SUFDQSxJQUFJQyxlQUFlO1FBQ2YsT0FBTyxJQUFJLENBQUNwRCxhQUFhO0lBQzdCO0lBQ0EsSUFBSXFELGNBQWM7UUFDZCxPQUFPLElBQUksQ0FBQ3BELFlBQVk7SUFDNUI7QUFDSixFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi1yZWdpc3RyeS5qcz9hYWU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IGFzc2VydFVucmVhY2hhYmxlIH0gZnJvbSAnLi4vaW5kZXguanMnO1xuaW1wb3J0IHsgTXVsdGlNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBpc09wZXJhdGlvbkNhbmNlbGxlZCB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2UtdXRpbHMuanMnO1xuaW1wb3J0IHsgc3RyZWFtIH0gZnJvbSAnLi4vdXRpbHMvc3RyZWFtLmpzJztcbi8qKlxuICogQ3JlYXRlIERpYWdub3N0aWNEYXRhIGZvciBhIGdpdmVuIGRpYWdub3N0aWMgY29kZS4gVGhlIHJlc3VsdCBjYW4gYmUgcHV0IGludG8gdGhlIGBkYXRhYCBmaWVsZCBvZiBhIERpYWdub3N0aWNJbmZvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlhZ25vc3RpY0RhdGEoY29kZSkge1xuICAgIHJldHVybiB7IGNvZGUgfTtcbn1cbmV4cG9ydCB2YXIgVmFsaWRhdGlvbkNhdGVnb3J5O1xuKGZ1bmN0aW9uIChWYWxpZGF0aW9uQ2F0ZWdvcnkpIHtcbiAgICBWYWxpZGF0aW9uQ2F0ZWdvcnkuYWxsID0gWydmYXN0JywgJ3Nsb3cnLCAnYnVpbHQtaW4nXTtcbn0pKFZhbGlkYXRpb25DYXRlZ29yeSB8fCAoVmFsaWRhdGlvbkNhdGVnb3J5ID0ge30pKTtcbi8qKlxuICogTWFuYWdlcyBhIHNldCBvZiBgVmFsaWRhdGlvbkNoZWNrYHMgdG8gYmUgYXBwbGllZCB3aGVuIGRvY3VtZW50cyBhcmUgdmFsaWRhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvblJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXcgTXVsdGlNYXAoKTtcbiAgICAgICAgdGhpcy5lbnRyaWVzQmVmb3JlID0gW107XG4gICAgICAgIHRoaXMuZW50cmllc0FmdGVyID0gW107XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbiA9IHNlcnZpY2VzLnNoYXJlZC5Bc3RSZWZsZWN0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIHNldCBvZiB2YWxpZGF0aW9uIGNoZWNrcy4gRWFjaCB2YWx1ZSBpbiB0aGUgcmVjb3JkIGNhbiBiZSBlaXRoZXIgYSBzaW5nbGUgdmFsaWRhdGlvbiBjaGVjayAoaS5lLiBhIGZ1bmN0aW9uKVxuICAgICAqIG9yIGFuIGFycmF5IG9mIHZhbGlkYXRpb24gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNoZWNrc1JlY29yZCBTZXQgb2YgdmFsaWRhdGlvbiBjaGVja3MgdG8gcmVnaXN0ZXIuXG4gICAgICogQHBhcmFtIGNhdGVnb3J5IE9wdGlvbmFsIGNhdGVnb3J5IGZvciB0aGUgdmFsaWRhdGlvbiBjaGVja3MgKGRlZmF1bHRzIHRvIGAnZmFzdCdgKS5cbiAgICAgKiBAcGFyYW0gdGhpc09iaiBPcHRpb25hbCBvYmplY3QgdG8gYmUgdXNlZCBhcyBgdGhpc2Agd2hlbiBjYWxsaW5nIHRoZSB2YWxpZGF0aW9uIGNoZWNrIGZ1bmN0aW9ucy5cbiAgICAgKi9cbiAgICByZWdpc3RlcihjaGVja3NSZWNvcmQsIHRoaXNPYmogPSB0aGlzLCBjYXRlZ29yeSA9ICdmYXN0Jykge1xuICAgICAgICBpZiAoY2F0ZWdvcnkgPT09ICdidWlsdC1pbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSAnYnVpbHQtaW4nIGNhdGVnb3J5IGlzIHJlc2VydmVkIGZvciBsZXhlciwgcGFyc2VyLCBhbmQgbGlua2VyIGVycm9ycy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbdHlwZSwgY2hdIG9mIE9iamVjdC5lbnRyaWVzKGNoZWNrc1JlY29yZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNoO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2tzKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2s6IHRoaXMud3JhcFZhbGlkYXRpb25FeGNlcHRpb24oY2hlY2ssIHRoaXNPYmopLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFbnRyeSh0eXBlLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGVjazogdGhpcy53cmFwVmFsaWRhdGlvbkV4Y2VwdGlvbihjYWxsYmFja3MsIHRoaXNPYmopLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFbnRyeSh0eXBlLCBlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRVbnJlYWNoYWJsZShjYWxsYmFja3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHdyYXBWYWxpZGF0aW9uRXhjZXB0aW9uKGNoZWNrLCB0aGlzT2JqKSB7XG4gICAgICAgIHJldHVybiBhc3luYyAobm9kZSwgYWNjZXB0LCBjYW5jZWxUb2tlbikgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVFeGNlcHRpb24oKCkgPT4gY2hlY2suY2FsbCh0aGlzT2JqLCBub2RlLCBhY2NlcHQsIGNhbmNlbFRva2VuKSwgJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyB2YWxpZGF0aW9uJywgYWNjZXB0LCBub2RlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlRXhjZXB0aW9uKGZ1bmN0aW9uYWxpdHksIG1lc3NhZ2VDb250ZXh0LCBhY2NlcHQsIG5vZGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGZ1bmN0aW9uYWxpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoaXNPcGVyYXRpb25DYW5jZWxsZWQoZXJyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7bWVzc2FnZUNvbnRleHR9OmAsIGVycik7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZURldGFpbHMgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogU3RyaW5nKGVycik7XG4gICAgICAgICAgICBhY2NlcHQoJ2Vycm9yJywgYCR7bWVzc2FnZUNvbnRleHR9OiAke21lc3NhZ2VEZXRhaWxzfWAsIHsgbm9kZSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRFbnRyeSh0eXBlLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ0FzdE5vZGUnKSB7XG4gICAgICAgICAgICB0aGlzLmVudHJpZXMuYWRkKCdBc3ROb2RlJywgZW50cnkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgc3VidHlwZSBvZiB0aGlzLnJlZmxlY3Rpb24uZ2V0QWxsU3ViVHlwZXModHlwZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50cmllcy5hZGQoc3VidHlwZSwgZW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoZWNrcyh0eXBlLCBjYXRlZ29yaWVzKSB7XG4gICAgICAgIGxldCBjaGVja3MgPSBzdHJlYW0odGhpcy5lbnRyaWVzLmdldCh0eXBlKSlcbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5lbnRyaWVzLmdldCgnQXN0Tm9kZScpKTtcbiAgICAgICAgaWYgKGNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgIGNoZWNrcyA9IGNoZWNrcy5maWx0ZXIoZW50cnkgPT4gY2F0ZWdvcmllcy5pbmNsdWRlcyhlbnRyeS5jYXRlZ29yeSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja3MubWFwKGVudHJ5ID0+IGVudHJ5LmNoZWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgbG9naWMgd2hpY2ggd2lsbCBiZSBleGVjdXRlZCBvbmNlIGJlZm9yZSB2YWxpZGF0aW5nIGFsbCB0aGUgbm9kZXMgb2YgYW4gQVNUL0xhbmdpdW0gZG9jdW1lbnQuXG4gICAgICogVGhpcyBoZWxwcyB0byBwcmVwYXJlIG9yIGluaXRpYWxpemUgc29tZSBpbmZvcm1hdGlvbiB3aGljaCBhcmUgcmVxdWlyZWQgb3IgcmV1c2FibGUgZm9yIHRoZSBmb2xsb3dpbmcgY2hlY2tzIG9uIHRoZSBBc3ROb2Rlcy5cbiAgICAgKlxuICAgICAqIEFzIGFuIGV4YW1wbGUsIGZvciB2YWxpZGF0aW5nIHVuaXF1ZSBmdWxseS1xdWFsaWZpZWQgbmFtZXMgb2Ygbm9kZXMgaW4gdGhlIEFTVCxcbiAgICAgKiBoZXJlIHRoZSBtYXAgZm9yIG1hcHBpbmcgbmFtZXMgdG8gbm9kZXMgY291bGQgYmUgZXN0YWJsaXNoZWQuXG4gICAgICogRHVyaW5nIHRoZSB1c3VhbCBjaGVja3Mgb24gdGhlIG5vZGVzLCB0aGV5IGFyZSBwdXQgaW50byB0aGlzIG1hcCB3aXRoIHRoZWlyIG5hbWUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBhcHByb2FjaCBtYWtlcyB2YWxpZGF0aW9ucyBzdGF0ZWZ1bCwgd2hpY2ggaXMgcmVsZXZhbnQgZS5nLiB3aGVuIGNhbmNlbGxpbmcgdGhlIHZhbGlkYXRpb24uXG4gICAgICogVGhlcmVmb3JlIGl0IGlzIHJlY29tbWVuZGVkIHRvIGNsZWFyIHN0b3JlZCBpbmZvcm1hdGlvblxuICAgICAqIF9iZWZvcmVfIHZhbGlkYXRpbmcgYW4gQVNUIHRvIHZhbGlkYXRlIGVhY2ggQVNUIHVuYWZmZWN0ZWQgZnJvbSBvdGhlciBBU1RzXG4gICAgICogQU5EIF9hZnRlcl8gdmFsaWRhdGluZyB0aGUgQVNUIHRvIGZyZWUgbWVtb3J5IGJ5IGluZm9ybWF0aW9uIHdoaWNoIGFyZSBubyBsb25nZXIgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGVja0JlZm9yZSBhIHNldC11cCBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBvbmNlIGJlZm9yZSBhY3R1YWxseSB2YWxpZGF0aW5nIGFuIEFTVFxuICAgICAqIEBwYXJhbSB0aGlzT2JqIE9wdGlvbmFsIG9iamVjdCB0byBiZSB1c2VkIGFzIGB0aGlzYCB3aGVuIGNhbGxpbmcgdGhlIHZhbGlkYXRpb24gY2hlY2sgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyQmVmb3JlRG9jdW1lbnQoY2hlY2tCZWZvcmUsIHRoaXNPYmogPSB0aGlzKSB7XG4gICAgICAgIHRoaXMuZW50cmllc0JlZm9yZS5wdXNoKHRoaXMud3JhcFByZXBhcmF0aW9uRXhjZXB0aW9uKGNoZWNrQmVmb3JlLCAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHNldC11cCBvZiB0aGUgdmFsaWRhdGlvbicsIHRoaXNPYmopKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgbG9naWMgd2hpY2ggd2lsbCBiZSBleGVjdXRlZCBvbmNlIGFmdGVyIHZhbGlkYXRpbmcgYWxsIHRoZSBub2RlcyBvZiBhbiBBU1QvTGFuZ2l1bSBkb2N1bWVudC5cbiAgICAgKiBUaGlzIGhlbHBzIHRvIGZpbmFsbHkgZXZhbHVhdGUgaW5mb3JtYXRpb24gd2hpY2ggYXJlIGNvbGxlY3RlZCBkdXJpbmcgdGhlIGNoZWNrcyBvbiB0aGUgQXN0Tm9kZXMuXG4gICAgICpcbiAgICAgKiBBcyBhbiBleGFtcGxlLCBmb3IgdmFsaWRhdGluZyB1bmlxdWUgZnVsbHktcXVhbGlmaWVkIG5hbWVzIG9mIG5vZGVzIGluIHRoZSBBU1QsXG4gICAgICogaGVyZSB0aGUgbWFwIHdpdGggYWxsIHRoZSBjb2xsZWN0ZWQgbm9kZXMgYW5kIHRoZWlyIG5hbWVzIGlzIGNoZWNrZWRcbiAgICAgKiBhbmQgdmFsaWRhdGlvbiBoaW50cyBhcmUgY3JlYXRlZCBmb3IgYWxsIG5vZGVzIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGFwcHJvYWNoIG1ha2VzIHZhbGlkYXRpb25zIHN0YXRlZnVsLCB3aGljaCBpcyByZWxldmFudCBlLmcuIHdoZW4gY2FuY2VsbGluZyB0aGUgdmFsaWRhdGlvbi5cbiAgICAgKiBUaGVyZWZvcmUgaXQgaXMgcmVjb21tZW5kZWQgdG8gY2xlYXIgc3RvcmVkIGluZm9ybWF0aW9uXG4gICAgICogX2JlZm9yZV8gdmFsaWRhdGluZyBhbiBBU1QgdG8gdmFsaWRhdGUgZWFjaCBBU1QgdW5hZmZlY3RlZCBmcm9tIG90aGVyIEFTVHNcbiAgICAgKiBBTkQgX2FmdGVyXyB2YWxpZGF0aW5nIHRoZSBBU1QgdG8gZnJlZSBtZW1vcnkgYnkgaW5mb3JtYXRpb24gd2hpY2ggYXJlIG5vIGxvbmdlciB1c2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNoZWNrQmVmb3JlIGEgc2V0LXVwIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgY2FsbGVkIG9uY2UgYmVmb3JlIGFjdHVhbGx5IHZhbGlkYXRpbmcgYW4gQVNUXG4gICAgICogQHBhcmFtIHRoaXNPYmogT3B0aW9uYWwgb2JqZWN0IHRvIGJlIHVzZWQgYXMgYHRoaXNgIHdoZW4gY2FsbGluZyB0aGUgdmFsaWRhdGlvbiBjaGVjayBmdW5jdGlvbnMuXG4gICAgICovXG4gICAgcmVnaXN0ZXJBZnRlckRvY3VtZW50KGNoZWNrQWZ0ZXIsIHRoaXNPYmogPSB0aGlzKSB7XG4gICAgICAgIHRoaXMuZW50cmllc0FmdGVyLnB1c2godGhpcy53cmFwUHJlcGFyYXRpb25FeGNlcHRpb24oY2hlY2tBZnRlciwgJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0ZWFyLWRvd24gb2YgdGhlIHZhbGlkYXRpb24nLCB0aGlzT2JqKSk7XG4gICAgfVxuICAgIHdyYXBQcmVwYXJhdGlvbkV4Y2VwdGlvbihjaGVjaywgbWVzc2FnZUNvbnRleHQsIHRoaXNPYmopIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jIChyb290Tm9kZSwgYWNjZXB0LCBjYXRlZ29yaWVzLCBjYW5jZWxUb2tlbikgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVFeGNlcHRpb24oKCkgPT4gY2hlY2suY2FsbCh0aGlzT2JqLCByb290Tm9kZSwgYWNjZXB0LCBjYXRlZ29yaWVzLCBjYW5jZWxUb2tlbiksIG1lc3NhZ2VDb250ZXh0LCBhY2NlcHQsIHJvb3ROb2RlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IGNoZWNrc0JlZm9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc0JlZm9yZTtcbiAgICB9XG4gICAgZ2V0IGNoZWNrc0FmdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzQWZ0ZXI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGlvbi1yZWdpc3RyeS5qcy5tYXAiXSwibmFtZXMiOlsiYXNzZXJ0VW5yZWFjaGFibGUiLCJNdWx0aU1hcCIsImlzT3BlcmF0aW9uQ2FuY2VsbGVkIiwic3RyZWFtIiwiZGlhZ25vc3RpY0RhdGEiLCJjb2RlIiwiVmFsaWRhdGlvbkNhdGVnb3J5IiwiYWxsIiwiVmFsaWRhdGlvblJlZ2lzdHJ5IiwiY29uc3RydWN0b3IiLCJzZXJ2aWNlcyIsImVudHJpZXMiLCJlbnRyaWVzQmVmb3JlIiwiZW50cmllc0FmdGVyIiwicmVmbGVjdGlvbiIsInNoYXJlZCIsIkFzdFJlZmxlY3Rpb24iLCJyZWdpc3RlciIsImNoZWNrc1JlY29yZCIsInRoaXNPYmoiLCJjYXRlZ29yeSIsIkVycm9yIiwidHlwZSIsImNoIiwiT2JqZWN0IiwiY2FsbGJhY2tzIiwiQXJyYXkiLCJpc0FycmF5IiwiY2hlY2siLCJlbnRyeSIsIndyYXBWYWxpZGF0aW9uRXhjZXB0aW9uIiwiYWRkRW50cnkiLCJub2RlIiwiYWNjZXB0IiwiY2FuY2VsVG9rZW4iLCJoYW5kbGVFeGNlcHRpb24iLCJjYWxsIiwiZnVuY3Rpb25hbGl0eSIsIm1lc3NhZ2VDb250ZXh0IiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwic3RhY2siLCJtZXNzYWdlRGV0YWlscyIsIm1lc3NhZ2UiLCJTdHJpbmciLCJhZGQiLCJzdWJ0eXBlIiwiZ2V0QWxsU3ViVHlwZXMiLCJnZXRDaGVja3MiLCJjYXRlZ29yaWVzIiwiY2hlY2tzIiwiZ2V0IiwiY29uY2F0IiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJtYXAiLCJyZWdpc3RlckJlZm9yZURvY3VtZW50IiwiY2hlY2tCZWZvcmUiLCJwdXNoIiwid3JhcFByZXBhcmF0aW9uRXhjZXB0aW9uIiwicmVnaXN0ZXJBZnRlckRvY3VtZW50IiwiY2hlY2tBZnRlciIsInJvb3ROb2RlIiwiY2hlY2tzQmVmb3JlIiwiY2hlY2tzQWZ0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/validation/validation-registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/ast-descriptions.js":
/*!****************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/ast-descriptions.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultAstNodeDescriptionProvider: () => (/* binding */ DefaultAstNodeDescriptionProvider),\n/* harmony export */   DefaultReferenceDescriptionProvider: () => (/* binding */ DefaultReferenceDescriptionProvider)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _syntax_tree_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../syntax-tree.js */ \"(ssr)/./node_modules/langium/lib/syntax-tree.js\");\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/cst-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/cst-utils.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/uri-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\nclass DefaultAstNodeDescriptionProvider {\n    constructor(services){\n        this.astNodeLocator = services.workspace.AstNodeLocator;\n        this.nameProvider = services.references.NameProvider;\n    }\n    createDescription(node, name, document) {\n        const doc = document !== null && document !== void 0 ? document : (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDocument)(node);\n        name !== null && name !== void 0 ? name : name = this.nameProvider.getName(node);\n        const path = this.astNodeLocator.getAstNodePath(node);\n        if (!name) {\n            throw new Error(`Node at path ${path} has no name.`);\n        }\n        let nameNodeSegment;\n        const nameSegmentGetter = ()=>{\n            var _a;\n            return nameNodeSegment !== null && nameNodeSegment !== void 0 ? nameNodeSegment : nameNodeSegment = (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__.toDocumentSegment)((_a = this.nameProvider.getNameNode(node)) !== null && _a !== void 0 ? _a : node.$cstNode);\n        };\n        return {\n            node,\n            name,\n            get nameSegment () {\n                return nameSegmentGetter();\n            },\n            selectionSegment: (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__.toDocumentSegment)(node.$cstNode),\n            type: node.$type,\n            documentUri: doc.uri,\n            path\n        };\n    }\n}\nclass DefaultReferenceDescriptionProvider {\n    constructor(services){\n        this.nodeLocator = services.workspace.AstNodeLocator;\n    }\n    async createDescriptions(document, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_2__.CancellationToken.None) {\n        const descr = [];\n        const rootNode = document.parseResult.value;\n        for (const astNode of (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__.streamAst)(rootNode)){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_3__.interruptAndCheck)(cancelToken);\n            (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__.streamReferences)(astNode).filter((refInfo)=>!(0,_syntax_tree_js__WEBPACK_IMPORTED_MODULE_4__.isLinkingError)(refInfo)).forEach((refInfo)=>{\n                // TODO: Consider logging a warning or throw an exception when DocumentState is < than Linked\n                const description = this.createDescription(refInfo);\n                if (description) {\n                    descr.push(description);\n                }\n            });\n        }\n        return descr;\n    }\n    createDescription(refInfo) {\n        const targetNodeDescr = refInfo.reference.$nodeDescription;\n        const refCstNode = refInfo.reference.$refNode;\n        if (!targetNodeDescr || !refCstNode) {\n            return undefined;\n        }\n        const docUri = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_0__.getDocument)(refInfo.container).uri;\n        return {\n            sourceUri: docUri,\n            sourcePath: this.nodeLocator.getAstNodePath(refInfo.container),\n            targetUri: targetNodeDescr.documentUri,\n            targetPath: targetNodeDescr.path,\n            segment: (0,_utils_cst_utils_js__WEBPACK_IMPORTED_MODULE_1__.toDocumentSegment)(refCstNode),\n            local: _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_5__.UriUtils.equals(targetNodeDescr.documentUri, docUri)\n        };\n    }\n} //# sourceMappingURL=ast-descriptions.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2FzdC1kZXNjcmlwdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDakI7QUFDVjtBQUM4QjtBQUN2QjtBQUNJO0FBQ2I7QUFDMUMsTUFBTVE7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsY0FBYyxHQUFHRCxTQUFTRSxTQUFTLENBQUNDLGNBQWM7UUFDdkQsSUFBSSxDQUFDQyxZQUFZLEdBQUdKLFNBQVNLLFVBQVUsQ0FBQ0MsWUFBWTtJQUN4RDtJQUNBQyxrQkFBa0JDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUU7UUFDcEMsTUFBTUMsTUFBTUQsYUFBYSxRQUFRQSxhQUFhLEtBQUssSUFBSUEsV0FBV2xCLGdFQUFXQSxDQUFDZ0I7UUFDOUVDLFNBQVMsUUFBUUEsU0FBUyxLQUFLLElBQUlBLE9BQVFBLE9BQU8sSUFBSSxDQUFDTCxZQUFZLENBQUNRLE9BQU8sQ0FBQ0o7UUFDNUUsTUFBTUssT0FBTyxJQUFJLENBQUNaLGNBQWMsQ0FBQ2EsY0FBYyxDQUFDTjtRQUNoRCxJQUFJLENBQUNDLE1BQU07WUFDUCxNQUFNLElBQUlNLE1BQU0sQ0FBQyxhQUFhLEVBQUVGLEtBQUssYUFBYSxDQUFDO1FBQ3ZEO1FBQ0EsSUFBSUc7UUFDSixNQUFNQyxvQkFBb0I7WUFBUSxJQUFJQztZQUFJLE9BQU9GLG9CQUFvQixRQUFRQSxvQkFBb0IsS0FBSyxJQUFJQSxrQkFBbUJBLGtCQUFrQnJCLHNFQUFpQkEsQ0FBQyxDQUFDdUIsS0FBSyxJQUFJLENBQUNkLFlBQVksQ0FBQ2UsV0FBVyxDQUFDWCxLQUFJLE1BQU8sUUFBUVUsT0FBTyxLQUFLLElBQUlBLEtBQUtWLEtBQUtZLFFBQVE7UUFBSTtRQUM5UCxPQUFPO1lBQ0haO1lBQ0FDO1lBQ0EsSUFBSVksZUFBYztnQkFDZCxPQUFPSjtZQUNYO1lBQ0FLLGtCQUFrQjNCLHNFQUFpQkEsQ0FBQ2EsS0FBS1ksUUFBUTtZQUNqREcsTUFBTWYsS0FBS2dCLEtBQUs7WUFDaEJDLGFBQWFkLElBQUllLEdBQUc7WUFDcEJiO1FBQ0o7SUFDSjtBQUNKO0FBQ08sTUFBTWM7SUFDVDVCLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUM0QixXQUFXLEdBQUc1QixTQUFTRSxTQUFTLENBQUNDLGNBQWM7SUFDeEQ7SUFDQSxNQUFNMEIsbUJBQW1CbkIsUUFBUSxFQUFFb0IsY0FBY3hDLHFFQUFpQkEsQ0FBQ3lDLElBQUksRUFBRTtRQUNyRSxNQUFNQyxRQUFRLEVBQUU7UUFDaEIsTUFBTUMsV0FBV3ZCLFNBQVN3QixXQUFXLENBQUNDLEtBQUs7UUFDM0MsS0FBSyxNQUFNQyxXQUFXM0MsOERBQVNBLENBQUN3QyxVQUFXO1lBQ3ZDLE1BQU1yQywwRUFBaUJBLENBQUNrQztZQUN4QnBDLHFFQUFnQkEsQ0FBQzBDLFNBQVNDLE1BQU0sQ0FBQ0MsQ0FBQUEsVUFBVyxDQUFDL0MsK0RBQWNBLENBQUMrQyxVQUFVQyxPQUFPLENBQUNELENBQUFBO2dCQUMxRSw2RkFBNkY7Z0JBQzdGLE1BQU1FLGNBQWMsSUFBSSxDQUFDakMsaUJBQWlCLENBQUMrQjtnQkFDM0MsSUFBSUUsYUFBYTtvQkFDYlIsTUFBTVMsSUFBSSxDQUFDRDtnQkFDZjtZQUNKO1FBQ0o7UUFDQSxPQUFPUjtJQUNYO0lBQ0F6QixrQkFBa0IrQixPQUFPLEVBQUU7UUFDdkIsTUFBTUksa0JBQWtCSixRQUFRSyxTQUFTLENBQUNDLGdCQUFnQjtRQUMxRCxNQUFNQyxhQUFhUCxRQUFRSyxTQUFTLENBQUNHLFFBQVE7UUFDN0MsSUFBSSxDQUFDSixtQkFBbUIsQ0FBQ0csWUFBWTtZQUNqQyxPQUFPRTtRQUNYO1FBQ0EsTUFBTUMsU0FBU3hELGdFQUFXQSxDQUFDOEMsUUFBUVcsU0FBUyxFQUFFdkIsR0FBRztRQUNqRCxPQUFPO1lBQ0h3QixXQUFXRjtZQUNYRyxZQUFZLElBQUksQ0FBQ3ZCLFdBQVcsQ0FBQ2QsY0FBYyxDQUFDd0IsUUFBUVcsU0FBUztZQUM3REcsV0FBV1YsZ0JBQWdCakIsV0FBVztZQUN0QzRCLFlBQVlYLGdCQUFnQjdCLElBQUk7WUFDaEN5QyxTQUFTM0Qsc0VBQWlCQSxDQUFDa0Q7WUFDM0JVLE9BQU8xRCx5REFBUUEsQ0FBQzJELE1BQU0sQ0FBQ2QsZ0JBQWdCakIsV0FBVyxFQUFFdUI7UUFDeEQ7SUFDSjtBQUNKLEVBQ0EsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2FzdC1kZXNjcmlwdGlvbnMuanM/ZTBjMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlbiB9IGZyb20gJy4uL3V0aWxzL2NhbmNlbGxhdGlvbi5qcyc7XG5pbXBvcnQgeyBpc0xpbmtpbmdFcnJvciB9IGZyb20gJy4uL3N5bnRheC10cmVlLmpzJztcbmltcG9ydCB7IGdldERvY3VtZW50LCBzdHJlYW1Bc3QsIHN0cmVhbVJlZmVyZW5jZXMgfSBmcm9tICcuLi91dGlscy9hc3QtdXRpbHMuanMnO1xuaW1wb3J0IHsgdG9Eb2N1bWVudFNlZ21lbnQgfSBmcm9tICcuLi91dGlscy9jc3QtdXRpbHMuanMnO1xuaW1wb3J0IHsgaW50ZXJydXB0QW5kQ2hlY2sgfSBmcm9tICcuLi91dGlscy9wcm9taXNlLXV0aWxzLmpzJztcbmltcG9ydCB7IFVyaVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXJpLXV0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBEZWZhdWx0QXN0Tm9kZURlc2NyaXB0aW9uUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuYXN0Tm9kZUxvY2F0b3IgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuQXN0Tm9kZUxvY2F0b3I7XG4gICAgICAgIHRoaXMubmFtZVByb3ZpZGVyID0gc2VydmljZXMucmVmZXJlbmNlcy5OYW1lUHJvdmlkZXI7XG4gICAgfVxuICAgIGNyZWF0ZURlc2NyaXB0aW9uKG5vZGUsIG5hbWUsIGRvY3VtZW50KSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50ICE9PSBudWxsICYmIGRvY3VtZW50ICE9PSB2b2lkIDAgPyBkb2N1bWVudCA6IGdldERvY3VtZW50KG5vZGUpO1xuICAgICAgICBuYW1lICE9PSBudWxsICYmIG5hbWUgIT09IHZvaWQgMCA/IG5hbWUgOiAobmFtZSA9IHRoaXMubmFtZVByb3ZpZGVyLmdldE5hbWUobm9kZSkpO1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5hc3ROb2RlTG9jYXRvci5nZXRBc3ROb2RlUGF0aChub2RlKTtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgYXQgcGF0aCAke3BhdGh9IGhhcyBubyBuYW1lLmApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lTm9kZVNlZ21lbnQ7XG4gICAgICAgIGNvbnN0IG5hbWVTZWdtZW50R2V0dGVyID0gKCkgPT4geyB2YXIgX2E7IHJldHVybiBuYW1lTm9kZVNlZ21lbnQgIT09IG51bGwgJiYgbmFtZU5vZGVTZWdtZW50ICE9PSB2b2lkIDAgPyBuYW1lTm9kZVNlZ21lbnQgOiAobmFtZU5vZGVTZWdtZW50ID0gdG9Eb2N1bWVudFNlZ21lbnQoKF9hID0gdGhpcy5uYW1lUHJvdmlkZXIuZ2V0TmFtZU5vZGUobm9kZSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5vZGUuJGNzdE5vZGUpKTsgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZ2V0IG5hbWVTZWdtZW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lU2VnbWVudEdldHRlcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGlvblNlZ21lbnQ6IHRvRG9jdW1lbnRTZWdtZW50KG5vZGUuJGNzdE5vZGUpLFxuICAgICAgICAgICAgdHlwZTogbm9kZS4kdHlwZSxcbiAgICAgICAgICAgIGRvY3VtZW50VXJpOiBkb2MudXJpLFxuICAgICAgICAgICAgcGF0aFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UmVmZXJlbmNlRGVzY3JpcHRpb25Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICAgICAgdGhpcy5ub2RlTG9jYXRvciA9IHNlcnZpY2VzLndvcmtzcGFjZS5Bc3ROb2RlTG9jYXRvcjtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlRGVzY3JpcHRpb25zKGRvY3VtZW50LCBjYW5jZWxUb2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmUpIHtcbiAgICAgICAgY29uc3QgZGVzY3IgPSBbXTtcbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSBkb2N1bWVudC5wYXJzZVJlc3VsdC52YWx1ZTtcbiAgICAgICAgZm9yIChjb25zdCBhc3ROb2RlIG9mIHN0cmVhbUFzdChyb290Tm9kZSkpIHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIHN0cmVhbVJlZmVyZW5jZXMoYXN0Tm9kZSkuZmlsdGVyKHJlZkluZm8gPT4gIWlzTGlua2luZ0Vycm9yKHJlZkluZm8pKS5mb3JFYWNoKHJlZkluZm8gPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IENvbnNpZGVyIGxvZ2dpbmcgYSB3YXJuaW5nIG9yIHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIERvY3VtZW50U3RhdGUgaXMgPCB0aGFuIExpbmtlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5jcmVhdGVEZXNjcmlwdGlvbihyZWZJbmZvKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3IucHVzaChkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc2NyO1xuICAgIH1cbiAgICBjcmVhdGVEZXNjcmlwdGlvbihyZWZJbmZvKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGVEZXNjciA9IHJlZkluZm8ucmVmZXJlbmNlLiRub2RlRGVzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IHJlZkNzdE5vZGUgPSByZWZJbmZvLnJlZmVyZW5jZS4kcmVmTm9kZTtcbiAgICAgICAgaWYgKCF0YXJnZXROb2RlRGVzY3IgfHwgIXJlZkNzdE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9jVXJpID0gZ2V0RG9jdW1lbnQocmVmSW5mby5jb250YWluZXIpLnVyaTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNvdXJjZVVyaTogZG9jVXJpLFxuICAgICAgICAgICAgc291cmNlUGF0aDogdGhpcy5ub2RlTG9jYXRvci5nZXRBc3ROb2RlUGF0aChyZWZJbmZvLmNvbnRhaW5lciksXG4gICAgICAgICAgICB0YXJnZXRVcmk6IHRhcmdldE5vZGVEZXNjci5kb2N1bWVudFVyaSxcbiAgICAgICAgICAgIHRhcmdldFBhdGg6IHRhcmdldE5vZGVEZXNjci5wYXRoLFxuICAgICAgICAgICAgc2VnbWVudDogdG9Eb2N1bWVudFNlZ21lbnQocmVmQ3N0Tm9kZSksXG4gICAgICAgICAgICBsb2NhbDogVXJpVXRpbHMuZXF1YWxzKHRhcmdldE5vZGVEZXNjci5kb2N1bWVudFVyaSwgZG9jVXJpKVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzdC1kZXNjcmlwdGlvbnMuanMubWFwIl0sIm5hbWVzIjpbIkNhbmNlbGxhdGlvblRva2VuIiwiaXNMaW5raW5nRXJyb3IiLCJnZXREb2N1bWVudCIsInN0cmVhbUFzdCIsInN0cmVhbVJlZmVyZW5jZXMiLCJ0b0RvY3VtZW50U2VnbWVudCIsImludGVycnVwdEFuZENoZWNrIiwiVXJpVXRpbHMiLCJEZWZhdWx0QXN0Tm9kZURlc2NyaXB0aW9uUHJvdmlkZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwiYXN0Tm9kZUxvY2F0b3IiLCJ3b3Jrc3BhY2UiLCJBc3ROb2RlTG9jYXRvciIsIm5hbWVQcm92aWRlciIsInJlZmVyZW5jZXMiLCJOYW1lUHJvdmlkZXIiLCJjcmVhdGVEZXNjcmlwdGlvbiIsIm5vZGUiLCJuYW1lIiwiZG9jdW1lbnQiLCJkb2MiLCJnZXROYW1lIiwicGF0aCIsImdldEFzdE5vZGVQYXRoIiwiRXJyb3IiLCJuYW1lTm9kZVNlZ21lbnQiLCJuYW1lU2VnbWVudEdldHRlciIsIl9hIiwiZ2V0TmFtZU5vZGUiLCIkY3N0Tm9kZSIsIm5hbWVTZWdtZW50Iiwic2VsZWN0aW9uU2VnbWVudCIsInR5cGUiLCIkdHlwZSIsImRvY3VtZW50VXJpIiwidXJpIiwiRGVmYXVsdFJlZmVyZW5jZURlc2NyaXB0aW9uUHJvdmlkZXIiLCJub2RlTG9jYXRvciIsImNyZWF0ZURlc2NyaXB0aW9ucyIsImNhbmNlbFRva2VuIiwiTm9uZSIsImRlc2NyIiwicm9vdE5vZGUiLCJwYXJzZVJlc3VsdCIsInZhbHVlIiwiYXN0Tm9kZSIsImZpbHRlciIsInJlZkluZm8iLCJmb3JFYWNoIiwiZGVzY3JpcHRpb24iLCJwdXNoIiwidGFyZ2V0Tm9kZURlc2NyIiwicmVmZXJlbmNlIiwiJG5vZGVEZXNjcmlwdGlvbiIsInJlZkNzdE5vZGUiLCIkcmVmTm9kZSIsInVuZGVmaW5lZCIsImRvY1VyaSIsImNvbnRhaW5lciIsInNvdXJjZVVyaSIsInNvdXJjZVBhdGgiLCJ0YXJnZXRVcmkiLCJ0YXJnZXRQYXRoIiwic2VnbWVudCIsImxvY2FsIiwiZXF1YWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/ast-descriptions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/ast-node-locator.js":
/*!****************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/ast-node-locator.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultAstNodeLocator: () => (/* binding */ DefaultAstNodeLocator)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ class DefaultAstNodeLocator {\n    constructor(){\n        this.segmentSeparator = \"/\";\n        this.indexSeparator = \"@\";\n    }\n    getAstNodePath(node) {\n        if (node.$container) {\n            const containerPath = this.getAstNodePath(node.$container);\n            const newSegment = this.getPathSegment(node);\n            const nodePath = containerPath + this.segmentSeparator + newSegment;\n            return nodePath;\n        }\n        return \"\";\n    }\n    getPathSegment({ $containerProperty, $containerIndex }) {\n        if (!$containerProperty) {\n            throw new Error(\"Missing '$containerProperty' in AST node.\");\n        }\n        if ($containerIndex !== undefined) {\n            return $containerProperty + this.indexSeparator + $containerIndex;\n        }\n        return $containerProperty;\n    }\n    getAstNode(node, path) {\n        const segments = path.split(this.segmentSeparator);\n        return segments.reduce((previousValue, currentValue)=>{\n            if (!previousValue || currentValue.length === 0) {\n                return previousValue;\n            }\n            const propertyIndex = currentValue.indexOf(this.indexSeparator);\n            if (propertyIndex > 0) {\n                const property = currentValue.substring(0, propertyIndex);\n                const arrayIndex = parseInt(currentValue.substring(propertyIndex + 1));\n                const array = previousValue[property];\n                return array === null || array === void 0 ? void 0 : array[arrayIndex];\n            }\n            return previousValue[currentValue];\n        }, node);\n    }\n} //# sourceMappingURL=ast-node-locator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2FzdC1ub2RlLWxvY2F0b3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7OzhFQUk4RSxHQUN2RSxNQUFNQTtJQUNUQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUNDLGNBQWMsR0FBRztJQUMxQjtJQUNBQyxlQUFlQyxJQUFJLEVBQUU7UUFDakIsSUFBSUEsS0FBS0MsVUFBVSxFQUFFO1lBQ2pCLE1BQU1DLGdCQUFnQixJQUFJLENBQUNILGNBQWMsQ0FBQ0MsS0FBS0MsVUFBVTtZQUN6RCxNQUFNRSxhQUFhLElBQUksQ0FBQ0MsY0FBYyxDQUFDSjtZQUN2QyxNQUFNSyxXQUFXSCxnQkFBZ0IsSUFBSSxDQUFDTCxnQkFBZ0IsR0FBR007WUFDekQsT0FBT0U7UUFDWDtRQUNBLE9BQU87SUFDWDtJQUNBRCxlQUFlLEVBQUVFLGtCQUFrQixFQUFFQyxlQUFlLEVBQUUsRUFBRTtRQUNwRCxJQUFJLENBQUNELG9CQUFvQjtZQUNyQixNQUFNLElBQUlFLE1BQU07UUFDcEI7UUFDQSxJQUFJRCxvQkFBb0JFLFdBQVc7WUFDL0IsT0FBT0gscUJBQXFCLElBQUksQ0FBQ1IsY0FBYyxHQUFHUztRQUN0RDtRQUNBLE9BQU9EO0lBQ1g7SUFDQUksV0FBV1YsSUFBSSxFQUFFVyxJQUFJLEVBQUU7UUFDbkIsTUFBTUMsV0FBV0QsS0FBS0UsS0FBSyxDQUFDLElBQUksQ0FBQ2hCLGdCQUFnQjtRQUNqRCxPQUFPZSxTQUFTRSxNQUFNLENBQUMsQ0FBQ0MsZUFBZUM7WUFDbkMsSUFBSSxDQUFDRCxpQkFBaUJDLGFBQWFDLE1BQU0sS0FBSyxHQUFHO2dCQUM3QyxPQUFPRjtZQUNYO1lBQ0EsTUFBTUcsZ0JBQWdCRixhQUFhRyxPQUFPLENBQUMsSUFBSSxDQUFDckIsY0FBYztZQUM5RCxJQUFJb0IsZ0JBQWdCLEdBQUc7Z0JBQ25CLE1BQU1FLFdBQVdKLGFBQWFLLFNBQVMsQ0FBQyxHQUFHSDtnQkFDM0MsTUFBTUksYUFBYUMsU0FBU1AsYUFBYUssU0FBUyxDQUFDSCxnQkFBZ0I7Z0JBQ25FLE1BQU1NLFFBQVFULGFBQWEsQ0FBQ0ssU0FBUztnQkFDckMsT0FBT0ksVUFBVSxRQUFRQSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUlBLEtBQUssQ0FBQ0YsV0FBVztZQUMxRTtZQUNBLE9BQU9QLGFBQWEsQ0FBQ0MsYUFBYTtRQUN0QyxHQUFHaEI7SUFDUDtBQUNKLEVBQ0EsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2FzdC1ub2RlLWxvY2F0b3IuanM/Y2YzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgMjAyMSBUeXBlRm94IEdtYkhcbiAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZVxuICogdGVybXMgb2YgdGhlIE1JVCBMaWNlbnNlLCB3aGljaCBpcyBhdmFpbGFibGUgaW4gdGhlIHByb2plY3Qgcm9vdC5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgY2xhc3MgRGVmYXVsdEFzdE5vZGVMb2NhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50U2VwYXJhdG9yID0gJy8nO1xuICAgICAgICB0aGlzLmluZGV4U2VwYXJhdG9yID0gJ0AnO1xuICAgIH1cbiAgICBnZXRBc3ROb2RlUGF0aChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLiRjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclBhdGggPSB0aGlzLmdldEFzdE5vZGVQYXRoKG5vZGUuJGNvbnRhaW5lcik7XG4gICAgICAgICAgICBjb25zdCBuZXdTZWdtZW50ID0gdGhpcy5nZXRQYXRoU2VnbWVudChub2RlKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVQYXRoID0gY29udGFpbmVyUGF0aCArIHRoaXMuc2VnbWVudFNlcGFyYXRvciArIG5ld1NlZ21lbnQ7XG4gICAgICAgICAgICByZXR1cm4gbm9kZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXRQYXRoU2VnbWVudCh7ICRjb250YWluZXJQcm9wZXJ0eSwgJGNvbnRhaW5lckluZGV4IH0pIHtcbiAgICAgICAgaWYgKCEkY29udGFpbmVyUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgJyRjb250YWluZXJQcm9wZXJ0eScgaW4gQVNUIG5vZGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkY29udGFpbmVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICRjb250YWluZXJQcm9wZXJ0eSArIHRoaXMuaW5kZXhTZXBhcmF0b3IgKyAkY29udGFpbmVySW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRjb250YWluZXJQcm9wZXJ0eTtcbiAgICB9XG4gICAgZ2V0QXN0Tm9kZShub2RlLCBwYXRoKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCh0aGlzLnNlZ21lbnRTZXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gc2VnbWVudHMucmVkdWNlKChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICghcHJldmlvdXNWYWx1ZSB8fCBjdXJyZW50VmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eUluZGV4ID0gY3VycmVudFZhbHVlLmluZGV4T2YodGhpcy5pbmRleFNlcGFyYXRvcik7XG4gICAgICAgICAgICBpZiAocHJvcGVydHlJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGN1cnJlbnRWYWx1ZS5zdWJzdHJpbmcoMCwgcHJvcGVydHlJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlJbmRleCA9IHBhcnNlSW50KGN1cnJlbnRWYWx1ZS5zdWJzdHJpbmcocHJvcGVydHlJbmRleCArIDEpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheSA9IHByZXZpb3VzVmFsdWVbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheSA9PT0gbnVsbCB8fCBhcnJheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXJyYXlbYXJyYXlJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZVtjdXJyZW50VmFsdWVdO1xuICAgICAgICB9LCBub2RlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3Qtbm9kZS1sb2NhdG9yLmpzLm1hcCJdLCJuYW1lcyI6WyJEZWZhdWx0QXN0Tm9kZUxvY2F0b3IiLCJjb25zdHJ1Y3RvciIsInNlZ21lbnRTZXBhcmF0b3IiLCJpbmRleFNlcGFyYXRvciIsImdldEFzdE5vZGVQYXRoIiwibm9kZSIsIiRjb250YWluZXIiLCJjb250YWluZXJQYXRoIiwibmV3U2VnbWVudCIsImdldFBhdGhTZWdtZW50Iiwibm9kZVBhdGgiLCIkY29udGFpbmVyUHJvcGVydHkiLCIkY29udGFpbmVySW5kZXgiLCJFcnJvciIsInVuZGVmaW5lZCIsImdldEFzdE5vZGUiLCJwYXRoIiwic2VnbWVudHMiLCJzcGxpdCIsInJlZHVjZSIsInByZXZpb3VzVmFsdWUiLCJjdXJyZW50VmFsdWUiLCJsZW5ndGgiLCJwcm9wZXJ0eUluZGV4IiwiaW5kZXhPZiIsInByb3BlcnR5Iiwic3Vic3RyaW5nIiwiYXJyYXlJbmRleCIsInBhcnNlSW50IiwiYXJyYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/ast-node-locator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/configuration.js":
/*!*************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/configuration.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultConfigurationProvider: () => (/* binding */ DefaultConfigurationProvider)\n/* harmony export */ });\n/* harmony import */ var _utils_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/event.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/events.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n/**\n * Base configuration provider for building up other configuration providers\n */ class DefaultConfigurationProvider {\n    constructor(services){\n        this._ready = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.Deferred();\n        this.settings = {};\n        this.workspaceConfig = false;\n        this.onConfigurationSectionUpdateEmitter = new _utils_event_js__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n        this.serviceRegistry = services.ServiceRegistry;\n    }\n    get ready() {\n        return this._ready.promise;\n    }\n    initialize(params) {\n        var _a, _b;\n        this.workspaceConfig = (_b = (_a = params.capabilities.workspace) === null || _a === void 0 ? void 0 : _a.configuration) !== null && _b !== void 0 ? _b : false;\n    }\n    async initialized(params) {\n        if (this.workspaceConfig) {\n            if (params.register) {\n                // params.register(...) is a function to be provided by the calling language server for the sake of\n                //  decoupling this implementation from the concrete LSP implementations, specifically the LSP Connection\n                const languages = this.serviceRegistry.all;\n                params.register({\n                    // Listen to configuration changes for all languages\n                    section: languages.map((lang)=>this.toSectionName(lang.LanguageMetaData.languageId))\n                });\n            }\n            if (params.fetchConfiguration) {\n                // params.fetchConfiguration(...) is a function to be provided by the calling language server for the sake of\n                //  decoupling this implementation from the concrete LSP implementations, specifically the LSP Connection\n                const configToUpdate = this.serviceRegistry.all.map((lang)=>({\n                        // Fetch the configuration changes for all languages\n                        section: this.toSectionName(lang.LanguageMetaData.languageId)\n                    }));\n                // get workspace configurations (default scope URI)\n                const configs = await params.fetchConfiguration(configToUpdate);\n                configToUpdate.forEach((conf, idx)=>{\n                    this.updateSectionConfiguration(conf.section, configs[idx]);\n                });\n            }\n        }\n        this._ready.resolve();\n    }\n    /**\n     *  Updates the cached configurations using the `change` notification parameters.\n     *\n     * @param change The parameters of a change configuration notification.\n     * `settings` property of the change object could be expressed as `Record<string, Record<string, any>>`\n     */ updateConfiguration(change) {\n        if (!change.settings) {\n            return;\n        }\n        Object.keys(change.settings).forEach((section)=>{\n            const configuration = change.settings[section];\n            this.updateSectionConfiguration(section, configuration);\n            this.onConfigurationSectionUpdateEmitter.fire({\n                section,\n                configuration\n            });\n        });\n    }\n    updateSectionConfiguration(section, configuration) {\n        this.settings[section] = configuration;\n    }\n    /**\n    * Returns a configuration value stored for the given language.\n    *\n    * @param language The language id\n    * @param configuration Configuration name\n    */ async getConfiguration(language, configuration) {\n        await this.ready;\n        const sectionName = this.toSectionName(language);\n        if (this.settings[sectionName]) {\n            return this.settings[sectionName][configuration];\n        }\n    }\n    toSectionName(languageId) {\n        return `${languageId}`;\n    }\n    get onConfigurationSectionUpdate() {\n        return this.onConfigurationSectionUpdateEmitter.event;\n    }\n} //# sourceMappingURL=configuration.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2NvbmZpZ3VyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ2xDO0FBQ1M7QUFDckQ7O0NBRUMsR0FDTSxNQUFNRTtJQUNUQyxZQUFZQyxRQUFRLENBQUU7UUFDbEIsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSUosNkRBQVFBO1FBQzFCLElBQUksQ0FBQ0ssUUFBUSxHQUFHLENBQUM7UUFDakIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxtQ0FBbUMsR0FBRyxJQUFJUixvREFBT0E7UUFDdEQsSUFBSSxDQUFDUyxlQUFlLEdBQUdMLFNBQVNNLGVBQWU7SUFDbkQ7SUFDQSxJQUFJQyxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUNOLE1BQU0sQ0FBQ08sT0FBTztJQUM5QjtJQUNBQyxXQUFXQyxNQUFNLEVBQUU7UUFDZixJQUFJQyxJQUFJQztRQUNSLElBQUksQ0FBQ1QsZUFBZSxHQUFHLENBQUNTLEtBQUssQ0FBQ0QsS0FBS0QsT0FBT0csWUFBWSxDQUFDQyxTQUFTLE1BQU0sUUFBUUgsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHSSxhQUFhLE1BQU0sUUFBUUgsT0FBTyxLQUFLLElBQUlBLEtBQUs7SUFDOUo7SUFDQSxNQUFNSSxZQUFZTixNQUFNLEVBQUU7UUFDdEIsSUFBSSxJQUFJLENBQUNQLGVBQWUsRUFBRTtZQUN0QixJQUFJTyxPQUFPTyxRQUFRLEVBQUU7Z0JBQ2pCLG1HQUFtRztnQkFDbkcseUdBQXlHO2dCQUN6RyxNQUFNQyxZQUFZLElBQUksQ0FBQ2IsZUFBZSxDQUFDYyxHQUFHO2dCQUMxQ1QsT0FBT08sUUFBUSxDQUFDO29CQUNaLG9EQUFvRDtvQkFDcERHLFNBQVNGLFVBQVVHLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0QsS0FBS0UsZ0JBQWdCLENBQUNDLFVBQVU7Z0JBQ3RGO1lBQ0o7WUFDQSxJQUFJZixPQUFPZ0Isa0JBQWtCLEVBQUU7Z0JBQzNCLDZHQUE2RztnQkFDN0cseUdBQXlHO2dCQUN6RyxNQUFNQyxpQkFBaUIsSUFBSSxDQUFDdEIsZUFBZSxDQUFDYyxHQUFHLENBQUNFLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUzt3QkFDekQsb0RBQW9EO3dCQUNwREYsU0FBUyxJQUFJLENBQUNHLGFBQWEsQ0FBQ0QsS0FBS0UsZ0JBQWdCLENBQUNDLFVBQVU7b0JBQ2hFO2dCQUNBLG1EQUFtRDtnQkFDbkQsTUFBTUcsVUFBVSxNQUFNbEIsT0FBT2dCLGtCQUFrQixDQUFDQztnQkFDaERBLGVBQWVFLE9BQU8sQ0FBQyxDQUFDQyxNQUFNQztvQkFDMUIsSUFBSSxDQUFDQywwQkFBMEIsQ0FBQ0YsS0FBS1YsT0FBTyxFQUFFUSxPQUFPLENBQUNHLElBQUk7Z0JBQzlEO1lBQ0o7UUFDSjtRQUNBLElBQUksQ0FBQzlCLE1BQU0sQ0FBQ2dDLE9BQU87SUFDdkI7SUFDQTs7Ozs7S0FLQyxHQUNEQyxvQkFBb0JDLE1BQU0sRUFBRTtRQUN4QixJQUFJLENBQUNBLE9BQU9qQyxRQUFRLEVBQUU7WUFDbEI7UUFDSjtRQUNBa0MsT0FBT0MsSUFBSSxDQUFDRixPQUFPakMsUUFBUSxFQUFFMkIsT0FBTyxDQUFDVCxDQUFBQTtZQUNqQyxNQUFNTCxnQkFBZ0JvQixPQUFPakMsUUFBUSxDQUFDa0IsUUFBUTtZQUM5QyxJQUFJLENBQUNZLDBCQUEwQixDQUFDWixTQUFTTDtZQUN6QyxJQUFJLENBQUNYLG1DQUFtQyxDQUFDa0MsSUFBSSxDQUFDO2dCQUFFbEI7Z0JBQVNMO1lBQWM7UUFDM0U7SUFDSjtJQUNBaUIsMkJBQTJCWixPQUFPLEVBQUVMLGFBQWEsRUFBRTtRQUMvQyxJQUFJLENBQUNiLFFBQVEsQ0FBQ2tCLFFBQVEsR0FBR0w7SUFDN0I7SUFDQTs7Ozs7SUFLQSxHQUNBLE1BQU13QixpQkFBaUJDLFFBQVEsRUFBRXpCLGFBQWEsRUFBRTtRQUM1QyxNQUFNLElBQUksQ0FBQ1IsS0FBSztRQUNoQixNQUFNa0MsY0FBYyxJQUFJLENBQUNsQixhQUFhLENBQUNpQjtRQUN2QyxJQUFJLElBQUksQ0FBQ3RDLFFBQVEsQ0FBQ3VDLFlBQVksRUFBRTtZQUM1QixPQUFPLElBQUksQ0FBQ3ZDLFFBQVEsQ0FBQ3VDLFlBQVksQ0FBQzFCLGNBQWM7UUFDcEQ7SUFDSjtJQUNBUSxjQUFjRSxVQUFVLEVBQUU7UUFDdEIsT0FBTyxDQUFDLEVBQUVBLFdBQVcsQ0FBQztJQUMxQjtJQUNBLElBQUlpQiwrQkFBK0I7UUFDL0IsT0FBTyxJQUFJLENBQUN0QyxtQ0FBbUMsQ0FBQ3VDLEtBQUs7SUFDekQ7QUFDSixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3dvcmtzcGFjZS9jb25maWd1cmF0aW9uLmpzPzQ1ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjIgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL3V0aWxzL2V2ZW50LmpzJztcbmltcG9ydCB7IERlZmVycmVkIH0gZnJvbSAnLi4vdXRpbHMvcHJvbWlzZS11dGlscy5qcyc7XG4vKipcbiAqIEJhc2UgY29uZmlndXJhdGlvbiBwcm92aWRlciBmb3IgYnVpbGRpbmcgdXAgb3RoZXIgY29uZmlndXJhdGlvbiBwcm92aWRlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRDb25maWd1cmF0aW9uUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuX3JlYWR5ID0gbmV3IERlZmVycmVkKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy53b3Jrc3BhY2VDb25maWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25TZWN0aW9uVXBkYXRlRW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuc2VydmljZVJlZ2lzdHJ5ID0gc2VydmljZXMuU2VydmljZVJlZ2lzdHJ5O1xuICAgIH1cbiAgICBnZXQgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkeS5wcm9taXNlO1xuICAgIH1cbiAgICBpbml0aWFsaXplKHBhcmFtcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLndvcmtzcGFjZUNvbmZpZyA9IChfYiA9IChfYSA9IHBhcmFtcy5jYXBhYmlsaXRpZXMud29ya3NwYWNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29uZmlndXJhdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemVkKHBhcmFtcykge1xuICAgICAgICBpZiAodGhpcy53b3Jrc3BhY2VDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMucmVnaXN0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhbXMucmVnaXN0ZXIoLi4uKSBpcyBhIGZ1bmN0aW9uIHRvIGJlIHByb3ZpZGVkIGJ5IHRoZSBjYWxsaW5nIGxhbmd1YWdlIHNlcnZlciBmb3IgdGhlIHNha2Ugb2ZcbiAgICAgICAgICAgICAgICAvLyAgZGVjb3VwbGluZyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gdGhlIGNvbmNyZXRlIExTUCBpbXBsZW1lbnRhdGlvbnMsIHNwZWNpZmljYWxseSB0aGUgTFNQIENvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICBjb25zdCBsYW5ndWFnZXMgPSB0aGlzLnNlcnZpY2VSZWdpc3RyeS5hbGw7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnJlZ2lzdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGlzdGVuIHRvIGNvbmZpZ3VyYXRpb24gY2hhbmdlcyBmb3IgYWxsIGxhbmd1YWdlc1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiBsYW5ndWFnZXMubWFwKGxhbmcgPT4gdGhpcy50b1NlY3Rpb25OYW1lKGxhbmcuTGFuZ3VhZ2VNZXRhRGF0YS5sYW5ndWFnZUlkKSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJhbXMuZmV0Y2hDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyYW1zLmZldGNoQ29uZmlndXJhdGlvbiguLi4pIGlzIGEgZnVuY3Rpb24gdG8gYmUgcHJvdmlkZWQgYnkgdGhlIGNhbGxpbmcgbGFuZ3VhZ2Ugc2VydmVyIGZvciB0aGUgc2FrZSBvZlxuICAgICAgICAgICAgICAgIC8vICBkZWNvdXBsaW5nIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSB0aGUgY29uY3JldGUgTFNQIGltcGxlbWVudGF0aW9ucywgc3BlY2lmaWNhbGx5IHRoZSBMU1AgQ29ubmVjdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpZ1RvVXBkYXRlID0gdGhpcy5zZXJ2aWNlUmVnaXN0cnkuYWxsLm1hcChsYW5nID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZldGNoIHRoZSBjb25maWd1cmF0aW9uIGNoYW5nZXMgZm9yIGFsbCBsYW5ndWFnZXNcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjogdGhpcy50b1NlY3Rpb25OYW1lKGxhbmcuTGFuZ3VhZ2VNZXRhRGF0YS5sYW5ndWFnZUlkKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAvLyBnZXQgd29ya3NwYWNlIGNvbmZpZ3VyYXRpb25zIChkZWZhdWx0IHNjb3BlIFVSSSlcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gYXdhaXQgcGFyYW1zLmZldGNoQ29uZmlndXJhdGlvbihjb25maWdUb1VwZGF0ZSk7XG4gICAgICAgICAgICAgICAgY29uZmlnVG9VcGRhdGUuZm9yRWFjaCgoY29uZiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2VjdGlvbkNvbmZpZ3VyYXRpb24oY29uZi5zZWN0aW9uLCBjb25maWdzW2lkeF0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlYWR5LnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogIFVwZGF0ZXMgdGhlIGNhY2hlZCBjb25maWd1cmF0aW9ucyB1c2luZyB0aGUgYGNoYW5nZWAgbm90aWZpY2F0aW9uIHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhbmdlIFRoZSBwYXJhbWV0ZXJzIG9mIGEgY2hhbmdlIGNvbmZpZ3VyYXRpb24gbm90aWZpY2F0aW9uLlxuICAgICAqIGBzZXR0aW5nc2AgcHJvcGVydHkgb2YgdGhlIGNoYW5nZSBvYmplY3QgY291bGQgYmUgZXhwcmVzc2VkIGFzIGBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBhbnk+PmBcbiAgICAgKi9cbiAgICB1cGRhdGVDb25maWd1cmF0aW9uKGNoYW5nZSkge1xuICAgICAgICBpZiAoIWNoYW5nZS5zZXR0aW5ncykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5rZXlzKGNoYW5nZS5zZXR0aW5ncykuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBjaGFuZ2Uuc2V0dGluZ3Nbc2VjdGlvbl07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlY3Rpb25Db25maWd1cmF0aW9uKHNlY3Rpb24sIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25TZWN0aW9uVXBkYXRlRW1pdHRlci5maXJlKHsgc2VjdGlvbiwgY29uZmlndXJhdGlvbiB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZVNlY3Rpb25Db25maWd1cmF0aW9uKHNlY3Rpb24sIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tzZWN0aW9uXSA9IGNvbmZpZ3VyYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICogUmV0dXJucyBhIGNvbmZpZ3VyYXRpb24gdmFsdWUgc3RvcmVkIGZvciB0aGUgZ2l2ZW4gbGFuZ3VhZ2UuXG4gICAgKlxuICAgICogQHBhcmFtIGxhbmd1YWdlIFRoZSBsYW5ndWFnZSBpZFxuICAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb24gQ29uZmlndXJhdGlvbiBuYW1lXG4gICAgKi9cbiAgICBhc3luYyBnZXRDb25maWd1cmF0aW9uKGxhbmd1YWdlLCBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25OYW1lID0gdGhpcy50b1NlY3Rpb25OYW1lKGxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Nbc2VjdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1tzZWN0aW9uTmFtZV1bY29uZmlndXJhdGlvbl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TZWN0aW9uTmFtZShsYW5ndWFnZUlkKSB7XG4gICAgICAgIHJldHVybiBgJHtsYW5ndWFnZUlkfWA7XG4gICAgfVxuICAgIGdldCBvbkNvbmZpZ3VyYXRpb25TZWN0aW9uVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbkNvbmZpZ3VyYXRpb25TZWN0aW9uVXBkYXRlRW1pdHRlci5ldmVudDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWd1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJFbWl0dGVyIiwiRGVmZXJyZWQiLCJEZWZhdWx0Q29uZmlndXJhdGlvblByb3ZpZGVyIiwiY29uc3RydWN0b3IiLCJzZXJ2aWNlcyIsIl9yZWFkeSIsInNldHRpbmdzIiwid29ya3NwYWNlQ29uZmlnIiwib25Db25maWd1cmF0aW9uU2VjdGlvblVwZGF0ZUVtaXR0ZXIiLCJzZXJ2aWNlUmVnaXN0cnkiLCJTZXJ2aWNlUmVnaXN0cnkiLCJyZWFkeSIsInByb21pc2UiLCJpbml0aWFsaXplIiwicGFyYW1zIiwiX2EiLCJfYiIsImNhcGFiaWxpdGllcyIsIndvcmtzcGFjZSIsImNvbmZpZ3VyYXRpb24iLCJpbml0aWFsaXplZCIsInJlZ2lzdGVyIiwibGFuZ3VhZ2VzIiwiYWxsIiwic2VjdGlvbiIsIm1hcCIsImxhbmciLCJ0b1NlY3Rpb25OYW1lIiwiTGFuZ3VhZ2VNZXRhRGF0YSIsImxhbmd1YWdlSWQiLCJmZXRjaENvbmZpZ3VyYXRpb24iLCJjb25maWdUb1VwZGF0ZSIsImNvbmZpZ3MiLCJmb3JFYWNoIiwiY29uZiIsImlkeCIsInVwZGF0ZVNlY3Rpb25Db25maWd1cmF0aW9uIiwicmVzb2x2ZSIsInVwZGF0ZUNvbmZpZ3VyYXRpb24iLCJjaGFuZ2UiLCJPYmplY3QiLCJrZXlzIiwiZmlyZSIsImdldENvbmZpZ3VyYXRpb24iLCJsYW5ndWFnZSIsInNlY3Rpb25OYW1lIiwib25Db25maWd1cmF0aW9uU2VjdGlvblVwZGF0ZSIsImV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/configuration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/document-builder.js":
/*!****************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/document-builder.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultDocumentBuilder: () => (/* binding */ DefaultDocumentBuilder)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_disposable_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/disposable.js */ \"(ssr)/./node_modules/langium/lib/utils/disposable.js\");\n/* harmony import */ var _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/collections.js */ \"(ssr)/./node_modules/langium/lib/utils/collections.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _validation_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../validation/validation-registry.js */ \"(ssr)/./node_modules/langium/lib/validation/validation-registry.js\");\n/* harmony import */ var _documents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./documents.js */ \"(ssr)/./node_modules/langium/lib/workspace/documents.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\n\n\nclass DefaultDocumentBuilder {\n    constructor(services){\n        this.updateBuildOptions = {\n            // Default: run only the built-in validation checks and those in the _fast_ category (includes those without category)\n            validation: {\n                categories: [\n                    \"built-in\",\n                    \"fast\"\n                ]\n            }\n        };\n        this.updateListeners = [];\n        this.buildPhaseListeners = new _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__.MultiMap();\n        this.documentPhaseListeners = new _utils_collections_js__WEBPACK_IMPORTED_MODULE_0__.MultiMap();\n        this.buildState = new Map();\n        this.documentBuildWaiters = new Map();\n        this.currentState = _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Changed;\n        this.langiumDocuments = services.workspace.LangiumDocuments;\n        this.langiumDocumentFactory = services.workspace.LangiumDocumentFactory;\n        this.textDocuments = services.workspace.TextDocuments;\n        this.indexManager = services.workspace.IndexManager;\n        this.serviceRegistry = services.ServiceRegistry;\n    }\n    async build(documents, options = {}, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_2__.CancellationToken.None) {\n        var _a, _b;\n        for (const document of documents){\n            const key = document.uri.toString();\n            if (document.state === _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Validated) {\n                if (typeof options.validation === \"boolean\" && options.validation) {\n                    // Force re-running all validation checks\n                    document.state = _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.IndexedReferences;\n                    document.diagnostics = undefined;\n                    this.buildState.delete(key);\n                } else if (typeof options.validation === \"object\") {\n                    const buildState = this.buildState.get(key);\n                    const previousCategories = (_a = buildState === null || buildState === void 0 ? void 0 : buildState.result) === null || _a === void 0 ? void 0 : _a.validationChecks;\n                    if (previousCategories) {\n                        // Validation with explicit options was requested for a document that has already been partly validated.\n                        // In this case, we need to merge the previous validation categories with the new ones.\n                        const newCategories = (_b = options.validation.categories) !== null && _b !== void 0 ? _b : _validation_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.ValidationCategory.all;\n                        const categories = newCategories.filter((c)=>!previousCategories.includes(c));\n                        if (categories.length > 0) {\n                            this.buildState.set(key, {\n                                completed: false,\n                                options: {\n                                    validation: Object.assign(Object.assign({}, options.validation), {\n                                        categories\n                                    })\n                                },\n                                result: buildState.result\n                            });\n                            document.state = _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.IndexedReferences;\n                        }\n                    }\n                }\n            } else {\n                // Default: forget any previous build options\n                this.buildState.delete(key);\n            }\n        }\n        this.currentState = _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Changed;\n        await this.emitUpdate(documents.map((e)=>e.uri), []);\n        await this.buildDocuments(documents, options, cancelToken);\n    }\n    async update(changed, deleted, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_2__.CancellationToken.None) {\n        this.currentState = _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Changed;\n        // Remove all metadata of documents that are reported as deleted\n        for (const deletedUri of deleted){\n            this.langiumDocuments.deleteDocument(deletedUri);\n            this.buildState.delete(deletedUri.toString());\n            this.indexManager.remove(deletedUri);\n        }\n        // Set the state of all changed documents to `Changed` so they are completely rebuilt\n        for (const changedUri of changed){\n            const invalidated = this.langiumDocuments.invalidateDocument(changedUri);\n            if (!invalidated) {\n                // We create an unparsed, invalid document.\n                // This will be parsed as soon as we reach the first document builder phase.\n                // This allows to cancel the parsing process later in case we need it.\n                const newDocument = this.langiumDocumentFactory.fromModel({\n                    $type: \"INVALID\"\n                }, changedUri);\n                newDocument.state = _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Changed;\n                this.langiumDocuments.addDocument(newDocument);\n            }\n            this.buildState.delete(changedUri.toString());\n        }\n        // Set the state of all documents that should be relinked to `ComputedScopes` (if not already lower)\n        const allChangedUris = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_4__.stream)(changed).concat(deleted).map((uri)=>uri.toString()).toSet();\n        this.langiumDocuments.all.filter((doc)=>!allChangedUris.has(doc.uri.toString()) && this.shouldRelink(doc, allChangedUris)).forEach((doc)=>{\n            const linker = this.serviceRegistry.getServices(doc.uri).references.Linker;\n            linker.unlink(doc);\n            doc.state = Math.min(doc.state, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.ComputedScopes);\n            doc.diagnostics = undefined;\n        });\n        // Notify listeners of the update\n        await this.emitUpdate(changed, deleted);\n        // Only allow interrupting the execution after all state changes are done\n        await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__.interruptAndCheck)(cancelToken);\n        // Collect and sort all documents that we should rebuild\n        const rebuildDocuments = this.sortDocuments(this.langiumDocuments.all.filter((doc)=>{\n            var _a;\n            // This includes those that were reported as changed and those that we selected for relinking\n            return doc.state < _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Linked || !((_a = this.buildState.get(doc.uri.toString())) === null || _a === void 0 ? void 0 : _a.completed);\n        }).toArray());\n        await this.buildDocuments(rebuildDocuments, this.updateBuildOptions, cancelToken);\n    }\n    async emitUpdate(changed, deleted) {\n        await Promise.all(this.updateListeners.map((listener)=>listener(changed, deleted)));\n    }\n    /**\n     * Sort the given documents by priority. By default, documents with an open text document are prioritized.\n     * This is useful to ensure that visible documents show their diagnostics before all other documents.\n     *\n     * This improves the responsiveness in large workspaces as users usually don't care about diagnostics\n     * in files that are currently not opened in the editor.\n     */ sortDocuments(documents) {\n        let left = 0;\n        let right = documents.length - 1;\n        while(left < right){\n            while(left < documents.length && this.hasTextDocument(documents[left])){\n                left++;\n            }\n            while(right >= 0 && !this.hasTextDocument(documents[right])){\n                right--;\n            }\n            if (left < right) {\n                [documents[left], documents[right]] = [\n                    documents[right],\n                    documents[left]\n                ];\n            }\n        }\n        return documents;\n    }\n    hasTextDocument(doc) {\n        var _a;\n        return Boolean((_a = this.textDocuments) === null || _a === void 0 ? void 0 : _a.get(doc.uri));\n    }\n    /**\n     * Check whether the given document should be relinked after changes were found in the given URIs.\n     */ shouldRelink(document, changedUris) {\n        // Relink documents with linking errors -- maybe those references can be resolved now\n        if (document.references.some((ref)=>ref.error !== undefined)) {\n            return true;\n        }\n        // Check whether the document is affected by any of the changed URIs\n        return this.indexManager.isAffected(document, changedUris);\n    }\n    onUpdate(callback) {\n        this.updateListeners.push(callback);\n        return _utils_disposable_js__WEBPACK_IMPORTED_MODULE_6__.Disposable.create(()=>{\n            const index = this.updateListeners.indexOf(callback);\n            if (index >= 0) {\n                this.updateListeners.splice(index, 1);\n            }\n        });\n    }\n    /**\n     * Build the given documents by stepping through all build phases. If a document's state indicates\n     * that a certain build phase is already done, the phase is skipped for that document.\n     *\n     * @param documents The documents to build.\n     * @param options the {@link BuildOptions} to use.\n     * @param cancelToken A cancellation token that can be used to cancel the build.\n     * @returns A promise that resolves when the build is done.\n     */ async buildDocuments(documents, options, cancelToken) {\n        this.prepareBuild(documents, options);\n        // 0. Parse content\n        await this.runCancelable(documents, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Parsed, cancelToken, (doc)=>this.langiumDocumentFactory.update(doc, cancelToken));\n        // 1. Index content\n        await this.runCancelable(documents, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.IndexedContent, cancelToken, (doc)=>this.indexManager.updateContent(doc, cancelToken));\n        // 2. Compute scopes\n        await this.runCancelable(documents, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.ComputedScopes, cancelToken, async (doc)=>{\n            const scopeComputation = this.serviceRegistry.getServices(doc.uri).references.ScopeComputation;\n            doc.precomputedScopes = await scopeComputation.computeLocalScopes(doc, cancelToken);\n        });\n        // 3. Linking\n        await this.runCancelable(documents, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Linked, cancelToken, (doc)=>{\n            const linker = this.serviceRegistry.getServices(doc.uri).references.Linker;\n            return linker.link(doc, cancelToken);\n        });\n        // 4. Index references\n        await this.runCancelable(documents, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.IndexedReferences, cancelToken, (doc)=>this.indexManager.updateReferences(doc, cancelToken));\n        // 5. Validation\n        const toBeValidated = documents.filter((doc)=>this.shouldValidate(doc));\n        await this.runCancelable(toBeValidated, _documents_js__WEBPACK_IMPORTED_MODULE_1__.DocumentState.Validated, cancelToken, (doc)=>this.validate(doc, cancelToken));\n        // If we've made it to this point without being cancelled, we can mark the build state as completed.\n        for (const doc of documents){\n            const state = this.buildState.get(doc.uri.toString());\n            if (state) {\n                state.completed = true;\n            }\n        }\n    }\n    /**\n     * Runs prior to beginning the build process to update the {@link DocumentBuildState} for each document\n     *\n     * @param documents collection of documents to be built\n     * @param options the {@link BuildOptions} to use\n     */ prepareBuild(documents, options) {\n        for (const doc of documents){\n            const key = doc.uri.toString();\n            const state = this.buildState.get(key);\n            // If the document has no previous build state, we set it. If it has one, but it's already marked\n            // as completed, we overwrite it. If the previous build was not completed, we keep its state\n            // and continue where it was cancelled.\n            if (!state || state.completed) {\n                this.buildState.set(key, {\n                    completed: false,\n                    options,\n                    result: state === null || state === void 0 ? void 0 : state.result\n                });\n            }\n        }\n    }\n    /**\n     * Runs a cancelable operation on a set of documents to bring them to a specified {@link DocumentState}.\n     *\n     * @param documents The array of documents to process.\n     * @param targetState The target {@link DocumentState} to bring the documents to.\n     * @param cancelToken A token that can be used to cancel the operation.\n     * @param callback A function to be called for each document.\n     * @returns A promise that resolves when all documents have been processed or the operation is canceled.\n     * @throws Will throw `OperationCancelled` if the operation is canceled via a `CancellationToken`.\n     */ async runCancelable(documents, targetState, cancelToken, callback) {\n        const filtered = documents.filter((doc)=>doc.state < targetState);\n        for (const document of filtered){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__.interruptAndCheck)(cancelToken);\n            await callback(document);\n            document.state = targetState;\n            await this.notifyDocumentPhase(document, targetState, cancelToken);\n        }\n        // Do not use `filtered` here, as that will miss documents that have previously reached the current target state\n        // For example, this happens in case the cancellation triggers between the processing of two documents\n        // Or files that were picked up during the workspace initialization\n        const targetStateDocs = documents.filter((doc)=>doc.state === targetState);\n        await this.notifyBuildPhase(targetStateDocs, targetState, cancelToken);\n        this.currentState = targetState;\n    }\n    onBuildPhase(targetState, callback) {\n        this.buildPhaseListeners.add(targetState, callback);\n        return _utils_disposable_js__WEBPACK_IMPORTED_MODULE_6__.Disposable.create(()=>{\n            this.buildPhaseListeners.delete(targetState, callback);\n        });\n    }\n    onDocumentPhase(targetState, callback) {\n        this.documentPhaseListeners.add(targetState, callback);\n        return _utils_disposable_js__WEBPACK_IMPORTED_MODULE_6__.Disposable.create(()=>{\n            this.documentPhaseListeners.delete(targetState, callback);\n        });\n    }\n    waitUntil(state, uriOrToken, cancelToken) {\n        let uri = undefined;\n        if (uriOrToken && \"path\" in uriOrToken) {\n            uri = uriOrToken;\n        } else {\n            cancelToken = uriOrToken;\n        }\n        cancelToken !== null && cancelToken !== void 0 ? cancelToken : cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_2__.CancellationToken.None;\n        if (uri) {\n            const document = this.langiumDocuments.getDocument(uri);\n            if (document && document.state > state) {\n                return Promise.resolve(uri);\n            }\n        }\n        if (this.currentState >= state) {\n            return Promise.resolve(undefined);\n        } else if (cancelToken.isCancellationRequested) {\n            return Promise.reject(_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__.OperationCancelled);\n        }\n        return new Promise((resolve, reject)=>{\n            const buildDisposable = this.onBuildPhase(state, ()=>{\n                buildDisposable.dispose();\n                cancelDisposable.dispose();\n                if (uri) {\n                    const document = this.langiumDocuments.getDocument(uri);\n                    resolve(document === null || document === void 0 ? void 0 : document.uri);\n                } else {\n                    resolve(undefined);\n                }\n            });\n            const cancelDisposable = cancelToken.onCancellationRequested(()=>{\n                buildDisposable.dispose();\n                cancelDisposable.dispose();\n                reject(_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__.OperationCancelled);\n            });\n        });\n    }\n    async notifyDocumentPhase(document, state, cancelToken) {\n        const listeners = this.documentPhaseListeners.get(state);\n        const listenersCopy = listeners.slice();\n        for (const listener of listenersCopy){\n            try {\n                await listener(document, cancelToken);\n            } catch (err) {\n                // Ignore cancellation errors\n                // We want to finish the listeners before throwing\n                if (!(0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__.isOperationCancelled)(err)) {\n                    throw err;\n                }\n            }\n        }\n    }\n    async notifyBuildPhase(documents, state, cancelToken) {\n        if (documents.length === 0) {\n            // Don't notify when no document has been processed\n            return;\n        }\n        const listeners = this.buildPhaseListeners.get(state);\n        const listenersCopy = listeners.slice();\n        for (const listener of listenersCopy){\n            await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_5__.interruptAndCheck)(cancelToken);\n            await listener(documents, cancelToken);\n        }\n    }\n    /**\n     * Determine whether the given document should be validated during a build. The default\n     * implementation checks the `validation` property of the build options. If it's set to `true`\n     * or a `ValidationOptions` object, the document is included in the validation phase.\n     */ shouldValidate(document) {\n        return Boolean(this.getBuildOptions(document).validation);\n    }\n    /**\n     * Run validation checks on the given document and store the resulting diagnostics in the document.\n     * If the document already contains diagnostics, the new ones are added to the list.\n     */ async validate(document, cancelToken) {\n        var _a, _b;\n        const validator = this.serviceRegistry.getServices(document.uri).validation.DocumentValidator;\n        const validationSetting = this.getBuildOptions(document).validation;\n        const options = typeof validationSetting === \"object\" ? validationSetting : undefined;\n        const diagnostics = await validator.validateDocument(document, options, cancelToken);\n        if (document.diagnostics) {\n            document.diagnostics.push(...diagnostics);\n        } else {\n            document.diagnostics = diagnostics;\n        }\n        // Store information about the executed validation in the build state\n        const state = this.buildState.get(document.uri.toString());\n        if (state) {\n            (_a = state.result) !== null && _a !== void 0 ? _a : state.result = {};\n            const newCategories = (_b = options === null || options === void 0 ? void 0 : options.categories) !== null && _b !== void 0 ? _b : _validation_validation_registry_js__WEBPACK_IMPORTED_MODULE_3__.ValidationCategory.all;\n            if (state.result.validationChecks) {\n                state.result.validationChecks.push(...newCategories);\n            } else {\n                state.result.validationChecks = [\n                    ...newCategories\n                ];\n            }\n        }\n    }\n    getBuildOptions(document) {\n        var _a, _b;\n        return (_b = (_a = this.buildState.get(document.uri.toString())) === null || _a === void 0 ? void 0 : _a.options) !== null && _b !== void 0 ? _b : {};\n    }\n} //# sourceMappingURL=document-builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2RvY3VtZW50LWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs4RUFJOEUsR0FDakI7QUFDVDtBQUNEO0FBQ3FEO0FBQzVEO0FBQzhCO0FBQzNCO0FBQ3hDLE1BQU1TO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUNDLGtCQUFrQixHQUFHO1lBQ3RCLHNIQUFzSDtZQUN0SEMsWUFBWTtnQkFDUkMsWUFBWTtvQkFBQztvQkFBWTtpQkFBTztZQUNwQztRQUNKO1FBQ0EsSUFBSSxDQUFDQyxlQUFlLEdBQUcsRUFBRTtRQUN6QixJQUFJLENBQUNDLG1CQUFtQixHQUFHLElBQUlkLDJEQUFRQTtRQUN2QyxJQUFJLENBQUNlLHNCQUFzQixHQUFHLElBQUlmLDJEQUFRQTtRQUMxQyxJQUFJLENBQUNnQixVQUFVLEdBQUcsSUFBSUM7UUFDdEIsSUFBSSxDQUFDQyxvQkFBb0IsR0FBRyxJQUFJRDtRQUNoQyxJQUFJLENBQUNFLFlBQVksR0FBR2Isd0RBQWFBLENBQUNjLE9BQU87UUFDekMsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR1osU0FBU2EsU0FBUyxDQUFDQyxnQkFBZ0I7UUFDM0QsSUFBSSxDQUFDQyxzQkFBc0IsR0FBR2YsU0FBU2EsU0FBUyxDQUFDRyxzQkFBc0I7UUFDdkUsSUFBSSxDQUFDQyxhQUFhLEdBQUdqQixTQUFTYSxTQUFTLENBQUNLLGFBQWE7UUFDckQsSUFBSSxDQUFDQyxZQUFZLEdBQUduQixTQUFTYSxTQUFTLENBQUNPLFlBQVk7UUFDbkQsSUFBSSxDQUFDQyxlQUFlLEdBQUdyQixTQUFTc0IsZUFBZTtJQUNuRDtJQUNBLE1BQU1DLE1BQU1DLFNBQVMsRUFBRUMsVUFBVSxDQUFDLENBQUMsRUFBRUMsY0FBY3JDLHFFQUFpQkEsQ0FBQ3NDLElBQUksRUFBRTtRQUN2RSxJQUFJQyxJQUFJQztRQUNSLEtBQUssTUFBTUMsWUFBWU4sVUFBVztZQUM5QixNQUFNTyxNQUFNRCxTQUFTRSxHQUFHLENBQUNDLFFBQVE7WUFDakMsSUFBSUgsU0FBU0ksS0FBSyxLQUFLckMsd0RBQWFBLENBQUNzQyxTQUFTLEVBQUU7Z0JBQzVDLElBQUksT0FBT1YsUUFBUXZCLFVBQVUsS0FBSyxhQUFhdUIsUUFBUXZCLFVBQVUsRUFBRTtvQkFDL0QseUNBQXlDO29CQUN6QzRCLFNBQVNJLEtBQUssR0FBR3JDLHdEQUFhQSxDQUFDdUMsaUJBQWlCO29CQUNoRE4sU0FBU08sV0FBVyxHQUFHQztvQkFDdkIsSUFBSSxDQUFDL0IsVUFBVSxDQUFDZ0MsTUFBTSxDQUFDUjtnQkFDM0IsT0FDSyxJQUFJLE9BQU9OLFFBQVF2QixVQUFVLEtBQUssVUFBVTtvQkFDN0MsTUFBTUssYUFBYSxJQUFJLENBQUNBLFVBQVUsQ0FBQ2lDLEdBQUcsQ0FBQ1Q7b0JBQ3ZDLE1BQU1VLHFCQUFxQixDQUFDYixLQUFLckIsZUFBZSxRQUFRQSxlQUFlLEtBQUssSUFBSSxLQUFLLElBQUlBLFdBQVdtQyxNQUFNLE1BQU0sUUFBUWQsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJQSxHQUFHZSxnQkFBZ0I7b0JBQ3BLLElBQUlGLG9CQUFvQjt3QkFDcEIsd0dBQXdHO3dCQUN4Ryx1RkFBdUY7d0JBQ3ZGLE1BQU1HLGdCQUFnQixDQUFDZixLQUFLSixRQUFRdkIsVUFBVSxDQUFDQyxVQUFVLE1BQU0sUUFBUTBCLE9BQU8sS0FBSyxJQUFJQSxLQUFLakMsa0ZBQWtCQSxDQUFDaUQsR0FBRzt3QkFDbEgsTUFBTTFDLGFBQWF5QyxjQUFjRSxNQUFNLENBQUNDLENBQUFBLElBQUssQ0FBQ04sbUJBQW1CTyxRQUFRLENBQUNEO3dCQUMxRSxJQUFJNUMsV0FBVzhDLE1BQU0sR0FBRyxHQUFHOzRCQUN2QixJQUFJLENBQUMxQyxVQUFVLENBQUMyQyxHQUFHLENBQUNuQixLQUFLO2dDQUNyQm9CLFdBQVc7Z0NBQ1gxQixTQUFTO29DQUNMdkIsWUFBWWtELE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBRzVCLFFBQVF2QixVQUFVLEdBQUc7d0NBQUVDO29DQUFXO2dDQUNsRjtnQ0FDQXVDLFFBQVFuQyxXQUFXbUMsTUFBTTs0QkFDN0I7NEJBQ0FaLFNBQVNJLEtBQUssR0FBR3JDLHdEQUFhQSxDQUFDdUMsaUJBQWlCO3dCQUNwRDtvQkFDSjtnQkFDSjtZQUNKLE9BQ0s7Z0JBQ0QsNkNBQTZDO2dCQUM3QyxJQUFJLENBQUM3QixVQUFVLENBQUNnQyxNQUFNLENBQUNSO1lBQzNCO1FBQ0o7UUFDQSxJQUFJLENBQUNyQixZQUFZLEdBQUdiLHdEQUFhQSxDQUFDYyxPQUFPO1FBQ3pDLE1BQU0sSUFBSSxDQUFDMkMsVUFBVSxDQUFDOUIsVUFBVStCLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRXhCLEdBQUcsR0FBRyxFQUFFO1FBQ25ELE1BQU0sSUFBSSxDQUFDeUIsY0FBYyxDQUFDakMsV0FBV0MsU0FBU0M7SUFDbEQ7SUFDQSxNQUFNZ0MsT0FBT0MsT0FBTyxFQUFFQyxPQUFPLEVBQUVsQyxjQUFjckMscUVBQWlCQSxDQUFDc0MsSUFBSSxFQUFFO1FBQ2pFLElBQUksQ0FBQ2pCLFlBQVksR0FBR2Isd0RBQWFBLENBQUNjLE9BQU87UUFDekMsZ0VBQWdFO1FBQ2hFLEtBQUssTUFBTWtELGNBQWNELFFBQVM7WUFDOUIsSUFBSSxDQUFDaEQsZ0JBQWdCLENBQUNrRCxjQUFjLENBQUNEO1lBQ3JDLElBQUksQ0FBQ3RELFVBQVUsQ0FBQ2dDLE1BQU0sQ0FBQ3NCLFdBQVc1QixRQUFRO1lBQzFDLElBQUksQ0FBQ2QsWUFBWSxDQUFDNEMsTUFBTSxDQUFDRjtRQUM3QjtRQUNBLHFGQUFxRjtRQUNyRixLQUFLLE1BQU1HLGNBQWNMLFFBQVM7WUFDOUIsTUFBTU0sY0FBYyxJQUFJLENBQUNyRCxnQkFBZ0IsQ0FBQ3NELGtCQUFrQixDQUFDRjtZQUM3RCxJQUFJLENBQUNDLGFBQWE7Z0JBQ2QsMkNBQTJDO2dCQUMzQyw0RUFBNEU7Z0JBQzVFLHNFQUFzRTtnQkFDdEUsTUFBTUUsY0FBYyxJQUFJLENBQUNwRCxzQkFBc0IsQ0FBQ3FELFNBQVMsQ0FBQztvQkFBRUMsT0FBTztnQkFBVSxHQUFHTDtnQkFDaEZHLFlBQVlqQyxLQUFLLEdBQUdyQyx3REFBYUEsQ0FBQ2MsT0FBTztnQkFDekMsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQzBELFdBQVcsQ0FBQ0g7WUFDdEM7WUFDQSxJQUFJLENBQUM1RCxVQUFVLENBQUNnQyxNQUFNLENBQUN5QixXQUFXL0IsUUFBUTtRQUM5QztRQUNBLG9HQUFvRztRQUNwRyxNQUFNc0MsaUJBQWlCNUUsd0RBQU1BLENBQUNnRSxTQUFTYSxNQUFNLENBQUNaLFNBQVNMLEdBQUcsQ0FBQ3ZCLENBQUFBLE1BQU9BLElBQUlDLFFBQVEsSUFBSXdDLEtBQUs7UUFDdkYsSUFBSSxDQUFDN0QsZ0JBQWdCLENBQUNpQyxHQUFHLENBQ3BCQyxNQUFNLENBQUM0QixDQUFBQSxNQUFPLENBQUNILGVBQWVJLEdBQUcsQ0FBQ0QsSUFBSTFDLEdBQUcsQ0FBQ0MsUUFBUSxPQUFPLElBQUksQ0FBQzJDLFlBQVksQ0FBQ0YsS0FBS0gsaUJBQ2hGTSxPQUFPLENBQUNILENBQUFBO1lBQ1QsTUFBTUksU0FBUyxJQUFJLENBQUN6RCxlQUFlLENBQUMwRCxXQUFXLENBQUNMLElBQUkxQyxHQUFHLEVBQUVnRCxVQUFVLENBQUNDLE1BQU07WUFDMUVILE9BQU9JLE1BQU0sQ0FBQ1I7WUFDZEEsSUFBSXhDLEtBQUssR0FBR2lELEtBQUtDLEdBQUcsQ0FBQ1YsSUFBSXhDLEtBQUssRUFBRXJDLHdEQUFhQSxDQUFDd0YsY0FBYztZQUM1RFgsSUFBSXJDLFdBQVcsR0FBR0M7UUFDdEI7UUFDQSxpQ0FBaUM7UUFDakMsTUFBTSxJQUFJLENBQUNnQixVQUFVLENBQUNLLFNBQVNDO1FBQy9CLHlFQUF5RTtRQUN6RSxNQUFNbkUsMEVBQWlCQSxDQUFDaUM7UUFDeEIsd0RBQXdEO1FBQ3hELE1BQU00RCxtQkFBbUIsSUFBSSxDQUFDQyxhQUFhLENBQUMsSUFBSSxDQUFDM0UsZ0JBQWdCLENBQUNpQyxHQUFHLENBQ2hFQyxNQUFNLENBQUM0QixDQUFBQTtZQUNSLElBQUk5QztZQUNKLDZGQUE2RjtZQUM3RixPQUFPOEMsSUFBSXhDLEtBQUssR0FBR3JDLHdEQUFhQSxDQUFDMkYsTUFBTSxJQUVoQyxDQUFFLEVBQUM1RCxLQUFLLElBQUksQ0FBQ3JCLFVBQVUsQ0FBQ2lDLEdBQUcsQ0FBQ2tDLElBQUkxQyxHQUFHLENBQUNDLFFBQVEsR0FBRSxNQUFPLFFBQVFMLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR3VCLFNBQVM7UUFDN0csR0FDS3NDLE9BQU87UUFDWixNQUFNLElBQUksQ0FBQ2hDLGNBQWMsQ0FBQzZCLGtCQUFrQixJQUFJLENBQUNyRixrQkFBa0IsRUFBRXlCO0lBQ3pFO0lBQ0EsTUFBTTRCLFdBQVdLLE9BQU8sRUFBRUMsT0FBTyxFQUFFO1FBQy9CLE1BQU04QixRQUFRN0MsR0FBRyxDQUFDLElBQUksQ0FBQ3pDLGVBQWUsQ0FBQ21ELEdBQUcsQ0FBQ29DLENBQUFBLFdBQVlBLFNBQVNoQyxTQUFTQztJQUM3RTtJQUNBOzs7Ozs7S0FNQyxHQUNEMkIsY0FBYy9ELFNBQVMsRUFBRTtRQUNyQixJQUFJb0UsT0FBTztRQUNYLElBQUlDLFFBQVFyRSxVQUFVeUIsTUFBTSxHQUFHO1FBQy9CLE1BQU8yQyxPQUFPQyxNQUFPO1lBQ2pCLE1BQU9ELE9BQU9wRSxVQUFVeUIsTUFBTSxJQUFJLElBQUksQ0FBQzZDLGVBQWUsQ0FBQ3RFLFNBQVMsQ0FBQ29FLEtBQUssRUFBRztnQkFDckVBO1lBQ0o7WUFDQSxNQUFPQyxTQUFTLEtBQUssQ0FBQyxJQUFJLENBQUNDLGVBQWUsQ0FBQ3RFLFNBQVMsQ0FBQ3FFLE1BQU0sRUFBRztnQkFDMURBO1lBQ0o7WUFDQSxJQUFJRCxPQUFPQyxPQUFPO2dCQUNkLENBQUNyRSxTQUFTLENBQUNvRSxLQUFLLEVBQUVwRSxTQUFTLENBQUNxRSxNQUFNLENBQUMsR0FBRztvQkFBQ3JFLFNBQVMsQ0FBQ3FFLE1BQU07b0JBQUVyRSxTQUFTLENBQUNvRSxLQUFLO2lCQUFDO1lBQzdFO1FBQ0o7UUFDQSxPQUFPcEU7SUFDWDtJQUNBc0UsZ0JBQWdCcEIsR0FBRyxFQUFFO1FBQ2pCLElBQUk5QztRQUNKLE9BQU9tRSxRQUFRLENBQUNuRSxLQUFLLElBQUksQ0FBQ1gsYUFBYSxNQUFNLFFBQVFXLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR1ksR0FBRyxDQUFDa0MsSUFBSTFDLEdBQUc7SUFDaEc7SUFDQTs7S0FFQyxHQUNENEMsYUFBYTlDLFFBQVEsRUFBRWtFLFdBQVcsRUFBRTtRQUNoQyxxRkFBcUY7UUFDckYsSUFBSWxFLFNBQVNrRCxVQUFVLENBQUNpQixJQUFJLENBQUNDLENBQUFBLE1BQU9BLElBQUlDLEtBQUssS0FBSzdELFlBQVk7WUFDMUQsT0FBTztRQUNYO1FBQ0Esb0VBQW9FO1FBQ3BFLE9BQU8sSUFBSSxDQUFDbkIsWUFBWSxDQUFDaUYsVUFBVSxDQUFDdEUsVUFBVWtFO0lBQ2xEO0lBQ0FLLFNBQVNDLFFBQVEsRUFBRTtRQUNmLElBQUksQ0FBQ2xHLGVBQWUsQ0FBQ21HLElBQUksQ0FBQ0Q7UUFDMUIsT0FBT2hILDREQUFVQSxDQUFDa0gsTUFBTSxDQUFDO1lBQ3JCLE1BQU1DLFFBQVEsSUFBSSxDQUFDckcsZUFBZSxDQUFDc0csT0FBTyxDQUFDSjtZQUMzQyxJQUFJRyxTQUFTLEdBQUc7Z0JBQ1osSUFBSSxDQUFDckcsZUFBZSxDQUFDdUcsTUFBTSxDQUFDRixPQUFPO1lBQ3ZDO1FBQ0o7SUFDSjtJQUNBOzs7Ozs7OztLQVFDLEdBQ0QsTUFBTWhELGVBQWVqQyxTQUFTLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxFQUFFO1FBQ2xELElBQUksQ0FBQ2tGLFlBQVksQ0FBQ3BGLFdBQVdDO1FBQzdCLG1CQUFtQjtRQUNuQixNQUFNLElBQUksQ0FBQ29GLGFBQWEsQ0FBQ3JGLFdBQVczQix3REFBYUEsQ0FBQ2lILE1BQU0sRUFBRXBGLGFBQWFnRCxDQUFBQSxNQUFPLElBQUksQ0FBQzNELHNCQUFzQixDQUFDMkMsTUFBTSxDQUFDZ0IsS0FBS2hEO1FBQ3RILG1CQUFtQjtRQUNuQixNQUFNLElBQUksQ0FBQ21GLGFBQWEsQ0FBQ3JGLFdBQVczQix3REFBYUEsQ0FBQ2tILGNBQWMsRUFBRXJGLGFBQWFnRCxDQUFBQSxNQUFPLElBQUksQ0FBQ3ZELFlBQVksQ0FBQzZGLGFBQWEsQ0FBQ3RDLEtBQUtoRDtRQUMzSCxvQkFBb0I7UUFDcEIsTUFBTSxJQUFJLENBQUNtRixhQUFhLENBQUNyRixXQUFXM0Isd0RBQWFBLENBQUN3RixjQUFjLEVBQUUzRCxhQUFhLE9BQU9nRDtZQUNsRixNQUFNdUMsbUJBQW1CLElBQUksQ0FBQzVGLGVBQWUsQ0FBQzBELFdBQVcsQ0FBQ0wsSUFBSTFDLEdBQUcsRUFBRWdELFVBQVUsQ0FBQ2tDLGdCQUFnQjtZQUM5RnhDLElBQUl5QyxpQkFBaUIsR0FBRyxNQUFNRixpQkFBaUJHLGtCQUFrQixDQUFDMUMsS0FBS2hEO1FBQzNFO1FBQ0EsYUFBYTtRQUNiLE1BQU0sSUFBSSxDQUFDbUYsYUFBYSxDQUFDckYsV0FBVzNCLHdEQUFhQSxDQUFDMkYsTUFBTSxFQUFFOUQsYUFBYWdELENBQUFBO1lBQ25FLE1BQU1JLFNBQVMsSUFBSSxDQUFDekQsZUFBZSxDQUFDMEQsV0FBVyxDQUFDTCxJQUFJMUMsR0FBRyxFQUFFZ0QsVUFBVSxDQUFDQyxNQUFNO1lBQzFFLE9BQU9ILE9BQU91QyxJQUFJLENBQUMzQyxLQUFLaEQ7UUFDNUI7UUFDQSxzQkFBc0I7UUFDdEIsTUFBTSxJQUFJLENBQUNtRixhQUFhLENBQUNyRixXQUFXM0Isd0RBQWFBLENBQUN1QyxpQkFBaUIsRUFBRVYsYUFBYWdELENBQUFBLE1BQU8sSUFBSSxDQUFDdkQsWUFBWSxDQUFDbUcsZ0JBQWdCLENBQUM1QyxLQUFLaEQ7UUFDakksZ0JBQWdCO1FBQ2hCLE1BQU02RixnQkFBZ0IvRixVQUFVc0IsTUFBTSxDQUFDNEIsQ0FBQUEsTUFBTyxJQUFJLENBQUM4QyxjQUFjLENBQUM5QztRQUNsRSxNQUFNLElBQUksQ0FBQ21DLGFBQWEsQ0FBQ1UsZUFBZTFILHdEQUFhQSxDQUFDc0MsU0FBUyxFQUFFVCxhQUFhZ0QsQ0FBQUEsTUFBTyxJQUFJLENBQUMrQyxRQUFRLENBQUMvQyxLQUFLaEQ7UUFDeEcsb0dBQW9HO1FBQ3BHLEtBQUssTUFBTWdELE9BQU9sRCxVQUFXO1lBQ3pCLE1BQU1VLFFBQVEsSUFBSSxDQUFDM0IsVUFBVSxDQUFDaUMsR0FBRyxDQUFDa0MsSUFBSTFDLEdBQUcsQ0FBQ0MsUUFBUTtZQUNsRCxJQUFJQyxPQUFPO2dCQUNQQSxNQUFNaUIsU0FBUyxHQUFHO1lBQ3RCO1FBQ0o7SUFDSjtJQUNBOzs7OztLQUtDLEdBQ0R5RCxhQUFhcEYsU0FBUyxFQUFFQyxPQUFPLEVBQUU7UUFDN0IsS0FBSyxNQUFNaUQsT0FBT2xELFVBQVc7WUFDekIsTUFBTU8sTUFBTTJDLElBQUkxQyxHQUFHLENBQUNDLFFBQVE7WUFDNUIsTUFBTUMsUUFBUSxJQUFJLENBQUMzQixVQUFVLENBQUNpQyxHQUFHLENBQUNUO1lBQ2xDLGlHQUFpRztZQUNqRyw0RkFBNEY7WUFDNUYsdUNBQXVDO1lBQ3ZDLElBQUksQ0FBQ0csU0FBU0EsTUFBTWlCLFNBQVMsRUFBRTtnQkFDM0IsSUFBSSxDQUFDNUMsVUFBVSxDQUFDMkMsR0FBRyxDQUFDbkIsS0FBSztvQkFDckJvQixXQUFXO29CQUNYMUI7b0JBQ0FpQixRQUFRUixVQUFVLFFBQVFBLFVBQVUsS0FBSyxJQUFJLEtBQUssSUFBSUEsTUFBTVEsTUFBTTtnQkFDdEU7WUFDSjtRQUNKO0lBQ0o7SUFDQTs7Ozs7Ozs7O0tBU0MsR0FDRCxNQUFNbUUsY0FBY3JGLFNBQVMsRUFBRWtHLFdBQVcsRUFBRWhHLFdBQVcsRUFBRTRFLFFBQVEsRUFBRTtRQUMvRCxNQUFNcUIsV0FBV25HLFVBQVVzQixNQUFNLENBQUM0QixDQUFBQSxNQUFPQSxJQUFJeEMsS0FBSyxHQUFHd0Y7UUFDckQsS0FBSyxNQUFNNUYsWUFBWTZGLFNBQVU7WUFDN0IsTUFBTWxJLDBFQUFpQkEsQ0FBQ2lDO1lBQ3hCLE1BQU00RSxTQUFTeEU7WUFDZkEsU0FBU0ksS0FBSyxHQUFHd0Y7WUFDakIsTUFBTSxJQUFJLENBQUNFLG1CQUFtQixDQUFDOUYsVUFBVTRGLGFBQWFoRztRQUMxRDtRQUNBLGdIQUFnSDtRQUNoSCxzR0FBc0c7UUFDdEcsbUVBQW1FO1FBQ25FLE1BQU1tRyxrQkFBa0JyRyxVQUFVc0IsTUFBTSxDQUFDNEIsQ0FBQUEsTUFBT0EsSUFBSXhDLEtBQUssS0FBS3dGO1FBQzlELE1BQU0sSUFBSSxDQUFDSSxnQkFBZ0IsQ0FBQ0QsaUJBQWlCSCxhQUFhaEc7UUFDMUQsSUFBSSxDQUFDaEIsWUFBWSxHQUFHZ0g7SUFDeEI7SUFDQUssYUFBYUwsV0FBVyxFQUFFcEIsUUFBUSxFQUFFO1FBQ2hDLElBQUksQ0FBQ2pHLG1CQUFtQixDQUFDMkgsR0FBRyxDQUFDTixhQUFhcEI7UUFDMUMsT0FBT2hILDREQUFVQSxDQUFDa0gsTUFBTSxDQUFDO1lBQ3JCLElBQUksQ0FBQ25HLG1CQUFtQixDQUFDa0MsTUFBTSxDQUFDbUYsYUFBYXBCO1FBQ2pEO0lBQ0o7SUFDQTJCLGdCQUFnQlAsV0FBVyxFQUFFcEIsUUFBUSxFQUFFO1FBQ25DLElBQUksQ0FBQ2hHLHNCQUFzQixDQUFDMEgsR0FBRyxDQUFDTixhQUFhcEI7UUFDN0MsT0FBT2hILDREQUFVQSxDQUFDa0gsTUFBTSxDQUFDO1lBQ3JCLElBQUksQ0FBQ2xHLHNCQUFzQixDQUFDaUMsTUFBTSxDQUFDbUYsYUFBYXBCO1FBQ3BEO0lBQ0o7SUFDQTRCLFVBQVVoRyxLQUFLLEVBQUVpRyxVQUFVLEVBQUV6RyxXQUFXLEVBQUU7UUFDdEMsSUFBSU0sTUFBTU07UUFDVixJQUFJNkYsY0FBYyxVQUFVQSxZQUFZO1lBQ3BDbkcsTUFBTW1HO1FBQ1YsT0FDSztZQUNEekcsY0FBY3lHO1FBQ2xCO1FBQ0F6RyxnQkFBZ0IsUUFBUUEsZ0JBQWdCLEtBQUssSUFBSUEsY0FBZUEsY0FBY3JDLHFFQUFpQkEsQ0FBQ3NDLElBQUk7UUFDcEcsSUFBSUssS0FBSztZQUNMLE1BQU1GLFdBQVcsSUFBSSxDQUFDbEIsZ0JBQWdCLENBQUN3SCxXQUFXLENBQUNwRztZQUNuRCxJQUFJRixZQUFZQSxTQUFTSSxLQUFLLEdBQUdBLE9BQU87Z0JBQ3BDLE9BQU93RCxRQUFRMkMsT0FBTyxDQUFDckc7WUFDM0I7UUFDSjtRQUNBLElBQUksSUFBSSxDQUFDdEIsWUFBWSxJQUFJd0IsT0FBTztZQUM1QixPQUFPd0QsUUFBUTJDLE9BQU8sQ0FBQy9GO1FBQzNCLE9BQ0ssSUFBSVosWUFBWTRHLHVCQUF1QixFQUFFO1lBQzFDLE9BQU81QyxRQUFRNkMsTUFBTSxDQUFDL0ksdUVBQWtCQTtRQUM1QztRQUNBLE9BQU8sSUFBSWtHLFFBQVEsQ0FBQzJDLFNBQVNFO1lBQ3pCLE1BQU1DLGtCQUFrQixJQUFJLENBQUNULFlBQVksQ0FBQzdGLE9BQU87Z0JBQzdDc0csZ0JBQWdCQyxPQUFPO2dCQUN2QkMsaUJBQWlCRCxPQUFPO2dCQUN4QixJQUFJekcsS0FBSztvQkFDTCxNQUFNRixXQUFXLElBQUksQ0FBQ2xCLGdCQUFnQixDQUFDd0gsV0FBVyxDQUFDcEc7b0JBQ25EcUcsUUFBUXZHLGFBQWEsUUFBUUEsYUFBYSxLQUFLLElBQUksS0FBSyxJQUFJQSxTQUFTRSxHQUFHO2dCQUM1RSxPQUNLO29CQUNEcUcsUUFBUS9GO2dCQUNaO1lBQ0o7WUFDQSxNQUFNb0csbUJBQW1CaEgsWUFBWWlILHVCQUF1QixDQUFDO2dCQUN6REgsZ0JBQWdCQyxPQUFPO2dCQUN2QkMsaUJBQWlCRCxPQUFPO2dCQUN4QkYsT0FBTy9JLHVFQUFrQkE7WUFDN0I7UUFDSjtJQUNKO0lBQ0EsTUFBTW9JLG9CQUFvQjlGLFFBQVEsRUFBRUksS0FBSyxFQUFFUixXQUFXLEVBQUU7UUFDcEQsTUFBTWtILFlBQVksSUFBSSxDQUFDdEksc0JBQXNCLENBQUNrQyxHQUFHLENBQUNOO1FBQ2xELE1BQU0yRyxnQkFBZ0JELFVBQVVFLEtBQUs7UUFDckMsS0FBSyxNQUFNbkQsWUFBWWtELGNBQWU7WUFDbEMsSUFBSTtnQkFDQSxNQUFNbEQsU0FBUzdELFVBQVVKO1lBQzdCLEVBQ0EsT0FBT3FILEtBQUs7Z0JBQ1IsNkJBQTZCO2dCQUM3QixrREFBa0Q7Z0JBQ2xELElBQUksQ0FBQ3JKLDZFQUFvQkEsQ0FBQ3FKLE1BQU07b0JBQzVCLE1BQU1BO2dCQUNWO1lBQ0o7UUFDSjtJQUNKO0lBQ0EsTUFBTWpCLGlCQUFpQnRHLFNBQVMsRUFBRVUsS0FBSyxFQUFFUixXQUFXLEVBQUU7UUFDbEQsSUFBSUYsVUFBVXlCLE1BQU0sS0FBSyxHQUFHO1lBQ3hCLG1EQUFtRDtZQUNuRDtRQUNKO1FBQ0EsTUFBTTJGLFlBQVksSUFBSSxDQUFDdkksbUJBQW1CLENBQUNtQyxHQUFHLENBQUNOO1FBQy9DLE1BQU0yRyxnQkFBZ0JELFVBQVVFLEtBQUs7UUFDckMsS0FBSyxNQUFNbkQsWUFBWWtELGNBQWU7WUFDbEMsTUFBTXBKLDBFQUFpQkEsQ0FBQ2lDO1lBQ3hCLE1BQU1pRSxTQUFTbkUsV0FBV0U7UUFDOUI7SUFDSjtJQUNBOzs7O0tBSUMsR0FDRDhGLGVBQWUxRixRQUFRLEVBQUU7UUFDckIsT0FBT2lFLFFBQVEsSUFBSSxDQUFDaUQsZUFBZSxDQUFDbEgsVUFBVTVCLFVBQVU7SUFDNUQ7SUFDQTs7O0tBR0MsR0FDRCxNQUFNdUgsU0FBUzNGLFFBQVEsRUFBRUosV0FBVyxFQUFFO1FBQ2xDLElBQUlFLElBQUlDO1FBQ1IsTUFBTW9ILFlBQVksSUFBSSxDQUFDNUgsZUFBZSxDQUFDMEQsV0FBVyxDQUFDakQsU0FBU0UsR0FBRyxFQUFFOUIsVUFBVSxDQUFDZ0osaUJBQWlCO1FBQzdGLE1BQU1DLG9CQUFvQixJQUFJLENBQUNILGVBQWUsQ0FBQ2xILFVBQVU1QixVQUFVO1FBQ25FLE1BQU11QixVQUFVLE9BQU8wSCxzQkFBc0IsV0FBV0Esb0JBQW9CN0c7UUFDNUUsTUFBTUQsY0FBYyxNQUFNNEcsVUFBVUcsZ0JBQWdCLENBQUN0SCxVQUFVTCxTQUFTQztRQUN4RSxJQUFJSSxTQUFTTyxXQUFXLEVBQUU7WUFDdEJQLFNBQVNPLFdBQVcsQ0FBQ2tFLElBQUksSUFBSWxFO1FBQ2pDLE9BQ0s7WUFDRFAsU0FBU08sV0FBVyxHQUFHQTtRQUMzQjtRQUNBLHFFQUFxRTtRQUNyRSxNQUFNSCxRQUFRLElBQUksQ0FBQzNCLFVBQVUsQ0FBQ2lDLEdBQUcsQ0FBQ1YsU0FBU0UsR0FBRyxDQUFDQyxRQUFRO1FBQ3ZELElBQUlDLE9BQU87WUFDTk4sQ0FBQUEsS0FBS00sTUFBTVEsTUFBTSxNQUFNLFFBQVFkLE9BQU8sS0FBSyxJQUFJQSxLQUFNTSxNQUFNUSxNQUFNLEdBQUcsQ0FBQztZQUN0RSxNQUFNRSxnQkFBZ0IsQ0FBQ2YsS0FBS0osWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVF0QixVQUFVLE1BQU0sUUFBUTBCLE9BQU8sS0FBSyxJQUFJQSxLQUFLakMsa0ZBQWtCQSxDQUFDaUQsR0FBRztZQUN6SixJQUFJWCxNQUFNUSxNQUFNLENBQUNDLGdCQUFnQixFQUFFO2dCQUMvQlQsTUFBTVEsTUFBTSxDQUFDQyxnQkFBZ0IsQ0FBQzRELElBQUksSUFBSTNEO1lBQzFDLE9BQ0s7Z0JBQ0RWLE1BQU1RLE1BQU0sQ0FBQ0MsZ0JBQWdCLEdBQUc7dUJBQUlDO2lCQUFjO1lBQ3REO1FBQ0o7SUFDSjtJQUNBb0csZ0JBQWdCbEgsUUFBUSxFQUFFO1FBQ3RCLElBQUlGLElBQUlDO1FBQ1IsT0FBTyxDQUFDQSxLQUFLLENBQUNELEtBQUssSUFBSSxDQUFDckIsVUFBVSxDQUFDaUMsR0FBRyxDQUFDVixTQUFTRSxHQUFHLENBQUNDLFFBQVEsR0FBRSxNQUFPLFFBQVFMLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR0gsT0FBTyxNQUFNLFFBQVFJLE9BQU8sS0FBSyxJQUFJQSxLQUFLLENBQUM7SUFDeEo7QUFDSixFQUNBLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3dvcmtzcGFjZS9kb2N1bWVudC1idWlsZGVyLmpzPzRhNjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjEgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4gfSBmcm9tICcuLi91dGlscy9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uL3V0aWxzL2Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IHsgTXVsdGlNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBPcGVyYXRpb25DYW5jZWxsZWQsIGludGVycnVwdEFuZENoZWNrLCBpc09wZXJhdGlvbkNhbmNlbGxlZCB9IGZyb20gJy4uL3V0aWxzL3Byb21pc2UtdXRpbHMuanMnO1xuaW1wb3J0IHsgc3RyZWFtIH0gZnJvbSAnLi4vdXRpbHMvc3RyZWFtLmpzJztcbmltcG9ydCB7IFZhbGlkYXRpb25DYXRlZ29yeSB9IGZyb20gJy4uL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi1yZWdpc3RyeS5qcyc7XG5pbXBvcnQgeyBEb2N1bWVudFN0YXRlIH0gZnJvbSAnLi9kb2N1bWVudHMuanMnO1xuZXhwb3J0IGNsYXNzIERlZmF1bHREb2N1bWVudEJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQnVpbGRPcHRpb25zID0ge1xuICAgICAgICAgICAgLy8gRGVmYXVsdDogcnVuIG9ubHkgdGhlIGJ1aWx0LWluIHZhbGlkYXRpb24gY2hlY2tzIGFuZCB0aG9zZSBpbiB0aGUgX2Zhc3RfIGNhdGVnb3J5IChpbmNsdWRlcyB0aG9zZSB3aXRob3V0IGNhdGVnb3J5KVxuICAgICAgICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IFsnYnVpbHQtaW4nLCAnZmFzdCddXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuYnVpbGRQaGFzZUxpc3RlbmVycyA9IG5ldyBNdWx0aU1hcCgpO1xuICAgICAgICB0aGlzLmRvY3VtZW50UGhhc2VMaXN0ZW5lcnMgPSBuZXcgTXVsdGlNYXAoKTtcbiAgICAgICAgdGhpcy5idWlsZFN0YXRlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmRvY3VtZW50QnVpbGRXYWl0ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IERvY3VtZW50U3RhdGUuQ2hhbmdlZDtcbiAgICAgICAgdGhpcy5sYW5naXVtRG9jdW1lbnRzID0gc2VydmljZXMud29ya3NwYWNlLkxhbmdpdW1Eb2N1bWVudHM7XG4gICAgICAgIHRoaXMubGFuZ2l1bURvY3VtZW50RmFjdG9yeSA9IHNlcnZpY2VzLndvcmtzcGFjZS5MYW5naXVtRG9jdW1lbnRGYWN0b3J5O1xuICAgICAgICB0aGlzLnRleHREb2N1bWVudHMgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuVGV4dERvY3VtZW50cztcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuSW5kZXhNYW5hZ2VyO1xuICAgICAgICB0aGlzLnNlcnZpY2VSZWdpc3RyeSA9IHNlcnZpY2VzLlNlcnZpY2VSZWdpc3RyeTtcbiAgICB9XG4gICAgYXN5bmMgYnVpbGQoZG9jdW1lbnRzLCBvcHRpb25zID0ge30sIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBmb3IgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZG9jdW1lbnQudXJpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuc3RhdGUgPT09IERvY3VtZW50U3RhdGUuVmFsaWRhdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnZhbGlkYXRpb24gPT09ICdib29sZWFuJyAmJiBvcHRpb25zLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgcmUtcnVubmluZyBhbGwgdmFsaWRhdGlvbiBjaGVja3NcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuc3RhdGUgPSBEb2N1bWVudFN0YXRlLkluZGV4ZWRSZWZlcmVuY2VzO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaWFnbm9zdGljcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWlsZFN0YXRlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy52YWxpZGF0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWlsZFN0YXRlID0gdGhpcy5idWlsZFN0YXRlLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0NhdGVnb3JpZXMgPSAoX2EgPSBidWlsZFN0YXRlID09PSBudWxsIHx8IGJ1aWxkU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1aWxkU3RhdGUucmVzdWx0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsaWRhdGlvbkNoZWNrcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGlvbiB3aXRoIGV4cGxpY2l0IG9wdGlvbnMgd2FzIHJlcXVlc3RlZCBmb3IgYSBkb2N1bWVudCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcGFydGx5IHZhbGlkYXRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgd2UgbmVlZCB0byBtZXJnZSB0aGUgcHJldmlvdXMgdmFsaWRhdGlvbiBjYXRlZ29yaWVzIHdpdGggdGhlIG5ldyBvbmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcmllcyA9IChfYiA9IG9wdGlvbnMudmFsaWRhdGlvbi5jYXRlZ29yaWVzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBWYWxpZGF0aW9uQ2F0ZWdvcnkuYWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IG5ld0NhdGVnb3JpZXMuZmlsdGVyKGMgPT4gIXByZXZpb3VzQ2F0ZWdvcmllcy5pbmNsdWRlcyhjKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWlsZFN0YXRlLnNldChrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLnZhbGlkYXRpb24pLCB7IGNhdGVnb3JpZXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBidWlsZFN0YXRlLnJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnN0YXRlID0gRG9jdW1lbnRTdGF0ZS5JbmRleGVkUmVmZXJlbmNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQ6IGZvcmdldCBhbnkgcHJldmlvdXMgYnVpbGQgb3B0aW9uc1xuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRTdGF0ZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IERvY3VtZW50U3RhdGUuQ2hhbmdlZDtcbiAgICAgICAgYXdhaXQgdGhpcy5lbWl0VXBkYXRlKGRvY3VtZW50cy5tYXAoZSA9PiBlLnVyaSksIFtdKTtcbiAgICAgICAgYXdhaXQgdGhpcy5idWlsZERvY3VtZW50cyhkb2N1bWVudHMsIG9wdGlvbnMsIGNhbmNlbFRva2VuKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlKGNoYW5nZWQsIGRlbGV0ZWQsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IERvY3VtZW50U3RhdGUuQ2hhbmdlZDtcbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBtZXRhZGF0YSBvZiBkb2N1bWVudHMgdGhhdCBhcmUgcmVwb3J0ZWQgYXMgZGVsZXRlZFxuICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWRVcmkgb2YgZGVsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5sYW5naXVtRG9jdW1lbnRzLmRlbGV0ZURvY3VtZW50KGRlbGV0ZWRVcmkpO1xuICAgICAgICAgICAgdGhpcy5idWlsZFN0YXRlLmRlbGV0ZShkZWxldGVkVXJpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIucmVtb3ZlKGRlbGV0ZWRVcmkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgc3RhdGUgb2YgYWxsIGNoYW5nZWQgZG9jdW1lbnRzIHRvIGBDaGFuZ2VkYCBzbyB0aGV5IGFyZSBjb21wbGV0ZWx5IHJlYnVpbHRcbiAgICAgICAgZm9yIChjb25zdCBjaGFuZ2VkVXJpIG9mIGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRhdGVkID0gdGhpcy5sYW5naXVtRG9jdW1lbnRzLmludmFsaWRhdGVEb2N1bWVudChjaGFuZ2VkVXJpKTtcbiAgICAgICAgICAgIGlmICghaW52YWxpZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjcmVhdGUgYW4gdW5wYXJzZWQsIGludmFsaWQgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHBhcnNlZCBhcyBzb29uIGFzIHdlIHJlYWNoIHRoZSBmaXJzdCBkb2N1bWVudCBidWlsZGVyIHBoYXNlLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIHRvIGNhbmNlbCB0aGUgcGFyc2luZyBwcm9jZXNzIGxhdGVyIGluIGNhc2Ugd2UgbmVlZCBpdC5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdEb2N1bWVudCA9IHRoaXMubGFuZ2l1bURvY3VtZW50RmFjdG9yeS5mcm9tTW9kZWwoeyAkdHlwZTogJ0lOVkFMSUQnIH0sIGNoYW5nZWRVcmkpO1xuICAgICAgICAgICAgICAgIG5ld0RvY3VtZW50LnN0YXRlID0gRG9jdW1lbnRTdGF0ZS5DaGFuZ2VkO1xuICAgICAgICAgICAgICAgIHRoaXMubGFuZ2l1bURvY3VtZW50cy5hZGREb2N1bWVudChuZXdEb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJ1aWxkU3RhdGUuZGVsZXRlKGNoYW5nZWRVcmkudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBzdGF0ZSBvZiBhbGwgZG9jdW1lbnRzIHRoYXQgc2hvdWxkIGJlIHJlbGlua2VkIHRvIGBDb21wdXRlZFNjb3Blc2AgKGlmIG5vdCBhbHJlYWR5IGxvd2VyKVxuICAgICAgICBjb25zdCBhbGxDaGFuZ2VkVXJpcyA9IHN0cmVhbShjaGFuZ2VkKS5jb25jYXQoZGVsZXRlZCkubWFwKHVyaSA9PiB1cmkudG9TdHJpbmcoKSkudG9TZXQoKTtcbiAgICAgICAgdGhpcy5sYW5naXVtRG9jdW1lbnRzLmFsbFxuICAgICAgICAgICAgLmZpbHRlcihkb2MgPT4gIWFsbENoYW5nZWRVcmlzLmhhcyhkb2MudXJpLnRvU3RyaW5nKCkpICYmIHRoaXMuc2hvdWxkUmVsaW5rKGRvYywgYWxsQ2hhbmdlZFVyaXMpKVxuICAgICAgICAgICAgLmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlciA9IHRoaXMuc2VydmljZVJlZ2lzdHJ5LmdldFNlcnZpY2VzKGRvYy51cmkpLnJlZmVyZW5jZXMuTGlua2VyO1xuICAgICAgICAgICAgbGlua2VyLnVubGluayhkb2MpO1xuICAgICAgICAgICAgZG9jLnN0YXRlID0gTWF0aC5taW4oZG9jLnN0YXRlLCBEb2N1bWVudFN0YXRlLkNvbXB1dGVkU2NvcGVzKTtcbiAgICAgICAgICAgIGRvYy5kaWFnbm9zdGljcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMgb2YgdGhlIHVwZGF0ZVxuICAgICAgICBhd2FpdCB0aGlzLmVtaXRVcGRhdGUoY2hhbmdlZCwgZGVsZXRlZCk7XG4gICAgICAgIC8vIE9ubHkgYWxsb3cgaW50ZXJydXB0aW5nIHRoZSBleGVjdXRpb24gYWZ0ZXIgYWxsIHN0YXRlIGNoYW5nZXMgYXJlIGRvbmVcbiAgICAgICAgYXdhaXQgaW50ZXJydXB0QW5kQ2hlY2soY2FuY2VsVG9rZW4pO1xuICAgICAgICAvLyBDb2xsZWN0IGFuZCBzb3J0IGFsbCBkb2N1bWVudHMgdGhhdCB3ZSBzaG91bGQgcmVidWlsZFxuICAgICAgICBjb25zdCByZWJ1aWxkRG9jdW1lbnRzID0gdGhpcy5zb3J0RG9jdW1lbnRzKHRoaXMubGFuZ2l1bURvY3VtZW50cy5hbGxcbiAgICAgICAgICAgIC5maWx0ZXIoZG9jID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8vIFRoaXMgaW5jbHVkZXMgdGhvc2UgdGhhdCB3ZXJlIHJlcG9ydGVkIGFzIGNoYW5nZWQgYW5kIHRob3NlIHRoYXQgd2Ugc2VsZWN0ZWQgZm9yIHJlbGlua2luZ1xuICAgICAgICAgICAgcmV0dXJuIGRvYy5zdGF0ZSA8IERvY3VtZW50U3RhdGUuTGlua2VkXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpbmNsdWRlcyB0aG9zZSBmb3Igd2hpY2ggYSBwcmV2aW91cyBidWlsZCBoYXMgYmVlbiBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICB8fCAhKChfYSA9IHRoaXMuYnVpbGRTdGF0ZS5nZXQoZG9jLnVyaS50b1N0cmluZygpKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbXBsZXRlZCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudG9BcnJheSgpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5idWlsZERvY3VtZW50cyhyZWJ1aWxkRG9jdW1lbnRzLCB0aGlzLnVwZGF0ZUJ1aWxkT3B0aW9ucywgY2FuY2VsVG9rZW4pO1xuICAgIH1cbiAgICBhc3luYyBlbWl0VXBkYXRlKGNoYW5nZWQsIGRlbGV0ZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy51cGRhdGVMaXN0ZW5lcnMubWFwKGxpc3RlbmVyID0+IGxpc3RlbmVyKGNoYW5nZWQsIGRlbGV0ZWQpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNvcnQgdGhlIGdpdmVuIGRvY3VtZW50cyBieSBwcmlvcml0eS4gQnkgZGVmYXVsdCwgZG9jdW1lbnRzIHdpdGggYW4gb3BlbiB0ZXh0IGRvY3VtZW50IGFyZSBwcmlvcml0aXplZC5cbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBlbnN1cmUgdGhhdCB2aXNpYmxlIGRvY3VtZW50cyBzaG93IHRoZWlyIGRpYWdub3N0aWNzIGJlZm9yZSBhbGwgb3RoZXIgZG9jdW1lbnRzLlxuICAgICAqXG4gICAgICogVGhpcyBpbXByb3ZlcyB0aGUgcmVzcG9uc2l2ZW5lc3MgaW4gbGFyZ2Ugd29ya3NwYWNlcyBhcyB1c2VycyB1c3VhbGx5IGRvbid0IGNhcmUgYWJvdXQgZGlhZ25vc3RpY3NcbiAgICAgKiBpbiBmaWxlcyB0aGF0IGFyZSBjdXJyZW50bHkgbm90IG9wZW5lZCBpbiB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIHNvcnREb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gMDtcbiAgICAgICAgbGV0IHJpZ2h0ID0gZG9jdW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChsZWZ0IDwgcmlnaHQpIHtcbiAgICAgICAgICAgIHdoaWxlIChsZWZ0IDwgZG9jdW1lbnRzLmxlbmd0aCAmJiB0aGlzLmhhc1RleHREb2N1bWVudChkb2N1bWVudHNbbGVmdF0pKSB7XG4gICAgICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHJpZ2h0ID49IDAgJiYgIXRoaXMuaGFzVGV4dERvY3VtZW50KGRvY3VtZW50c1tyaWdodF0pKSB7XG4gICAgICAgICAgICAgICAgcmlnaHQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWZ0IDwgcmlnaHQpIHtcbiAgICAgICAgICAgICAgICBbZG9jdW1lbnRzW2xlZnRdLCBkb2N1bWVudHNbcmlnaHRdXSA9IFtkb2N1bWVudHNbcmlnaHRdLCBkb2N1bWVudHNbbGVmdF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudHM7XG4gICAgfVxuICAgIGhhc1RleHREb2N1bWVudChkb2MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gQm9vbGVhbigoX2EgPSB0aGlzLnRleHREb2N1bWVudHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQoZG9jLnVyaSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBkb2N1bWVudCBzaG91bGQgYmUgcmVsaW5rZWQgYWZ0ZXIgY2hhbmdlcyB3ZXJlIGZvdW5kIGluIHRoZSBnaXZlbiBVUklzLlxuICAgICAqL1xuICAgIHNob3VsZFJlbGluayhkb2N1bWVudCwgY2hhbmdlZFVyaXMpIHtcbiAgICAgICAgLy8gUmVsaW5rIGRvY3VtZW50cyB3aXRoIGxpbmtpbmcgZXJyb3JzIC0tIG1heWJlIHRob3NlIHJlZmVyZW5jZXMgY2FuIGJlIHJlc29sdmVkIG5vd1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVmZXJlbmNlcy5zb21lKHJlZiA9PiByZWYuZXJyb3IgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGRvY3VtZW50IGlzIGFmZmVjdGVkIGJ5IGFueSBvZiB0aGUgY2hhbmdlZCBVUklzXG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4TWFuYWdlci5pc0FmZmVjdGVkKGRvY3VtZW50LCBjaGFuZ2VkVXJpcyk7XG4gICAgfVxuICAgIG9uVXBkYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gRGlzcG9zYWJsZS5jcmVhdGUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVwZGF0ZUxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBnaXZlbiBkb2N1bWVudHMgYnkgc3RlcHBpbmcgdGhyb3VnaCBhbGwgYnVpbGQgcGhhc2VzLiBJZiBhIGRvY3VtZW50J3Mgc3RhdGUgaW5kaWNhdGVzXG4gICAgICogdGhhdCBhIGNlcnRhaW4gYnVpbGQgcGhhc2UgaXMgYWxyZWFkeSBkb25lLCB0aGUgcGhhc2UgaXMgc2tpcHBlZCBmb3IgdGhhdCBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudHMgVGhlIGRvY3VtZW50cyB0byBidWlsZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUge0BsaW5rIEJ1aWxkT3B0aW9uc30gdG8gdXNlLlxuICAgICAqIEBwYXJhbSBjYW5jZWxUb2tlbiBBIGNhbmNlbGxhdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgYnVpbGQuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgYnVpbGQgaXMgZG9uZS5cbiAgICAgKi9cbiAgICBhc3luYyBidWlsZERvY3VtZW50cyhkb2N1bWVudHMsIG9wdGlvbnMsIGNhbmNlbFRva2VuKSB7XG4gICAgICAgIHRoaXMucHJlcGFyZUJ1aWxkKGRvY3VtZW50cywgb3B0aW9ucyk7XG4gICAgICAgIC8vIDAuIFBhcnNlIGNvbnRlbnRcbiAgICAgICAgYXdhaXQgdGhpcy5ydW5DYW5jZWxhYmxlKGRvY3VtZW50cywgRG9jdW1lbnRTdGF0ZS5QYXJzZWQsIGNhbmNlbFRva2VuLCBkb2MgPT4gdGhpcy5sYW5naXVtRG9jdW1lbnRGYWN0b3J5LnVwZGF0ZShkb2MsIGNhbmNlbFRva2VuKSk7XG4gICAgICAgIC8vIDEuIEluZGV4IGNvbnRlbnRcbiAgICAgICAgYXdhaXQgdGhpcy5ydW5DYW5jZWxhYmxlKGRvY3VtZW50cywgRG9jdW1lbnRTdGF0ZS5JbmRleGVkQ29udGVudCwgY2FuY2VsVG9rZW4sIGRvYyA9PiB0aGlzLmluZGV4TWFuYWdlci51cGRhdGVDb250ZW50KGRvYywgY2FuY2VsVG9rZW4pKTtcbiAgICAgICAgLy8gMi4gQ29tcHV0ZSBzY29wZXNcbiAgICAgICAgYXdhaXQgdGhpcy5ydW5DYW5jZWxhYmxlKGRvY3VtZW50cywgRG9jdW1lbnRTdGF0ZS5Db21wdXRlZFNjb3BlcywgY2FuY2VsVG9rZW4sIGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlQ29tcHV0YXRpb24gPSB0aGlzLnNlcnZpY2VSZWdpc3RyeS5nZXRTZXJ2aWNlcyhkb2MudXJpKS5yZWZlcmVuY2VzLlNjb3BlQ29tcHV0YXRpb247XG4gICAgICAgICAgICBkb2MucHJlY29tcHV0ZWRTY29wZXMgPSBhd2FpdCBzY29wZUNvbXB1dGF0aW9uLmNvbXB1dGVMb2NhbFNjb3Blcyhkb2MsIGNhbmNlbFRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIDMuIExpbmtpbmdcbiAgICAgICAgYXdhaXQgdGhpcy5ydW5DYW5jZWxhYmxlKGRvY3VtZW50cywgRG9jdW1lbnRTdGF0ZS5MaW5rZWQsIGNhbmNlbFRva2VuLCBkb2MgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGlua2VyID0gdGhpcy5zZXJ2aWNlUmVnaXN0cnkuZ2V0U2VydmljZXMoZG9jLnVyaSkucmVmZXJlbmNlcy5MaW5rZXI7XG4gICAgICAgICAgICByZXR1cm4gbGlua2VyLmxpbmsoZG9jLCBjYW5jZWxUb2tlbik7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyA0LiBJbmRleCByZWZlcmVuY2VzXG4gICAgICAgIGF3YWl0IHRoaXMucnVuQ2FuY2VsYWJsZShkb2N1bWVudHMsIERvY3VtZW50U3RhdGUuSW5kZXhlZFJlZmVyZW5jZXMsIGNhbmNlbFRva2VuLCBkb2MgPT4gdGhpcy5pbmRleE1hbmFnZXIudXBkYXRlUmVmZXJlbmNlcyhkb2MsIGNhbmNlbFRva2VuKSk7XG4gICAgICAgIC8vIDUuIFZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgdG9CZVZhbGlkYXRlZCA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IHRoaXMuc2hvdWxkVmFsaWRhdGUoZG9jKSk7XG4gICAgICAgIGF3YWl0IHRoaXMucnVuQ2FuY2VsYWJsZSh0b0JlVmFsaWRhdGVkLCBEb2N1bWVudFN0YXRlLlZhbGlkYXRlZCwgY2FuY2VsVG9rZW4sIGRvYyA9PiB0aGlzLnZhbGlkYXRlKGRvYywgY2FuY2VsVG9rZW4pKTtcbiAgICAgICAgLy8gSWYgd2UndmUgbWFkZSBpdCB0byB0aGlzIHBvaW50IHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLCB3ZSBjYW4gbWFyayB0aGUgYnVpbGQgc3RhdGUgYXMgY29tcGxldGVkLlxuICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5idWlsZFN0YXRlLmdldChkb2MudXJpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIHByaW9yIHRvIGJlZ2lubmluZyB0aGUgYnVpbGQgcHJvY2VzcyB0byB1cGRhdGUgdGhlIHtAbGluayBEb2N1bWVudEJ1aWxkU3RhdGV9IGZvciBlYWNoIGRvY3VtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRzIGNvbGxlY3Rpb24gb2YgZG9jdW1lbnRzIHRvIGJlIGJ1aWx0XG4gICAgICogQHBhcmFtIG9wdGlvbnMgdGhlIHtAbGluayBCdWlsZE9wdGlvbnN9IHRvIHVzZVxuICAgICAqL1xuICAgIHByZXBhcmVCdWlsZChkb2N1bWVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBkb2Mgb2YgZG9jdW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkb2MudXJpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuYnVpbGRTdGF0ZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkb2N1bWVudCBoYXMgbm8gcHJldmlvdXMgYnVpbGQgc3RhdGUsIHdlIHNldCBpdC4gSWYgaXQgaGFzIG9uZSwgYnV0IGl0J3MgYWxyZWFkeSBtYXJrZWRcbiAgICAgICAgICAgIC8vIGFzIGNvbXBsZXRlZCwgd2Ugb3ZlcndyaXRlIGl0LiBJZiB0aGUgcHJldmlvdXMgYnVpbGQgd2FzIG5vdCBjb21wbGV0ZWQsIHdlIGtlZXAgaXRzIHN0YXRlXG4gICAgICAgICAgICAvLyBhbmQgY29udGludWUgd2hlcmUgaXQgd2FzIGNhbmNlbGxlZC5cbiAgICAgICAgICAgIGlmICghc3RhdGUgfHwgc3RhdGUuY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZFN0YXRlLnNldChrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBzdGF0ZSA9PT0gbnVsbCB8fCBzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGUucmVzdWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVucyBhIGNhbmNlbGFibGUgb3BlcmF0aW9uIG9uIGEgc2V0IG9mIGRvY3VtZW50cyB0byBicmluZyB0aGVtIHRvIGEgc3BlY2lmaWVkIHtAbGluayBEb2N1bWVudFN0YXRlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudHMgVGhlIGFycmF5IG9mIGRvY3VtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB0YXJnZXRTdGF0ZSBUaGUgdGFyZ2V0IHtAbGluayBEb2N1bWVudFN0YXRlfSB0byBicmluZyB0aGUgZG9jdW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSBjYW5jZWxUb2tlbiBBIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGZvciBlYWNoIGRvY3VtZW50LlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIGRvY3VtZW50cyBoYXZlIGJlZW4gcHJvY2Vzc2VkIG9yIHRoZSBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGBPcGVyYXRpb25DYW5jZWxsZWRgIGlmIHRoZSBvcGVyYXRpb24gaXMgY2FuY2VsZWQgdmlhIGEgYENhbmNlbGxhdGlvblRva2VuYC5cbiAgICAgKi9cbiAgICBhc3luYyBydW5DYW5jZWxhYmxlKGRvY3VtZW50cywgdGFyZ2V0U3RhdGUsIGNhbmNlbFRva2VuLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy5zdGF0ZSA8IHRhcmdldFN0YXRlKTtcbiAgICAgICAgZm9yIChjb25zdCBkb2N1bWVudCBvZiBmaWx0ZXJlZCkge1xuICAgICAgICAgICAgYXdhaXQgaW50ZXJydXB0QW5kQ2hlY2soY2FuY2VsVG9rZW4pO1xuICAgICAgICAgICAgYXdhaXQgY2FsbGJhY2soZG9jdW1lbnQpO1xuICAgICAgICAgICAgZG9jdW1lbnQuc3RhdGUgPSB0YXJnZXRTdGF0ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubm90aWZ5RG9jdW1lbnRQaGFzZShkb2N1bWVudCwgdGFyZ2V0U3RhdGUsIGNhbmNlbFRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBub3QgdXNlIGBmaWx0ZXJlZGAgaGVyZSwgYXMgdGhhdCB3aWxsIG1pc3MgZG9jdW1lbnRzIHRoYXQgaGF2ZSBwcmV2aW91c2x5IHJlYWNoZWQgdGhlIGN1cnJlbnQgdGFyZ2V0IHN0YXRlXG4gICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGlzIGhhcHBlbnMgaW4gY2FzZSB0aGUgY2FuY2VsbGF0aW9uIHRyaWdnZXJzIGJldHdlZW4gdGhlIHByb2Nlc3Npbmcgb2YgdHdvIGRvY3VtZW50c1xuICAgICAgICAvLyBPciBmaWxlcyB0aGF0IHdlcmUgcGlja2VkIHVwIGR1cmluZyB0aGUgd29ya3NwYWNlIGluaXRpYWxpemF0aW9uXG4gICAgICAgIGNvbnN0IHRhcmdldFN0YXRlRG9jcyA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IGRvYy5zdGF0ZSA9PT0gdGFyZ2V0U3RhdGUpO1xuICAgICAgICBhd2FpdCB0aGlzLm5vdGlmeUJ1aWxkUGhhc2UodGFyZ2V0U3RhdGVEb2NzLCB0YXJnZXRTdGF0ZSwgY2FuY2VsVG9rZW4pO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHRhcmdldFN0YXRlO1xuICAgIH1cbiAgICBvbkJ1aWxkUGhhc2UodGFyZ2V0U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYnVpbGRQaGFzZUxpc3RlbmVycy5hZGQodGFyZ2V0U3RhdGUsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIERpc3Bvc2FibGUuY3JlYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGRQaGFzZUxpc3RlbmVycy5kZWxldGUodGFyZ2V0U3RhdGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uRG9jdW1lbnRQaGFzZSh0YXJnZXRTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudFBoYXNlTGlzdGVuZXJzLmFkZCh0YXJnZXRTdGF0ZSwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gRGlzcG9zYWJsZS5jcmVhdGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudFBoYXNlTGlzdGVuZXJzLmRlbGV0ZSh0YXJnZXRTdGF0ZSwgY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdFVudGlsKHN0YXRlLCB1cmlPclRva2VuLCBjYW5jZWxUb2tlbikge1xuICAgICAgICBsZXQgdXJpID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodXJpT3JUb2tlbiAmJiAncGF0aCcgaW4gdXJpT3JUb2tlbikge1xuICAgICAgICAgICAgdXJpID0gdXJpT3JUb2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbmNlbFRva2VuID0gdXJpT3JUb2tlbjtcbiAgICAgICAgfVxuICAgICAgICBjYW5jZWxUb2tlbiAhPT0gbnVsbCAmJiBjYW5jZWxUb2tlbiAhPT0gdm9pZCAwID8gY2FuY2VsVG9rZW4gOiAoY2FuY2VsVG9rZW4gPSBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lKTtcbiAgICAgICAgaWYgKHVyaSkge1xuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB0aGlzLmxhbmdpdW1Eb2N1bWVudHMuZ2V0RG9jdW1lbnQodXJpKTtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5zdGF0ZSA+IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1cmkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA+PSBzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbmNlbFRva2VuLmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoT3BlcmF0aW9uQ2FuY2VsbGVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnVpbGREaXNwb3NhYmxlID0gdGhpcy5vbkJ1aWxkUGhhc2Uoc3RhdGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICBidWlsZERpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGNhbmNlbERpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1cmkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB0aGlzLmxhbmdpdW1Eb2N1bWVudHMuZ2V0RG9jdW1lbnQodXJpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkb2N1bWVudCA9PT0gbnVsbCB8fCBkb2N1bWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZG9jdW1lbnQudXJpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbERpc3Bvc2FibGUgPSBjYW5jZWxUb2tlbi5vbkNhbmNlbGxhdGlvblJlcXVlc3RlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnVpbGREaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBjYW5jZWxEaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICByZWplY3QoT3BlcmF0aW9uQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgbm90aWZ5RG9jdW1lbnRQaGFzZShkb2N1bWVudCwgc3RhdGUsIGNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZG9jdW1lbnRQaGFzZUxpc3RlbmVycy5nZXQoc3RhdGUpO1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnNDb3B5ID0gbGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzQ29weSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBsaXN0ZW5lcihkb2N1bWVudCwgY2FuY2VsVG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBjYW5jZWxsYXRpb24gZXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBmaW5pc2ggdGhlIGxpc3RlbmVycyBiZWZvcmUgdGhyb3dpbmdcbiAgICAgICAgICAgICAgICBpZiAoIWlzT3BlcmF0aW9uQ2FuY2VsbGVkKGVycikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBub3RpZnlCdWlsZFBoYXNlKGRvY3VtZW50cywgc3RhdGUsIGNhbmNlbFRva2VuKSB7XG4gICAgICAgIGlmIChkb2N1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBub3RpZnkgd2hlbiBubyBkb2N1bWVudCBoYXMgYmVlbiBwcm9jZXNzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmJ1aWxkUGhhc2VMaXN0ZW5lcnMuZ2V0KHN0YXRlKTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzQ29weSA9IGxpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVyc0NvcHkpIHtcbiAgICAgICAgICAgIGF3YWl0IGludGVycnVwdEFuZENoZWNrKGNhbmNlbFRva2VuKTtcbiAgICAgICAgICAgIGF3YWl0IGxpc3RlbmVyKGRvY3VtZW50cywgY2FuY2VsVG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBkb2N1bWVudCBzaG91bGQgYmUgdmFsaWRhdGVkIGR1cmluZyBhIGJ1aWxkLiBUaGUgZGVmYXVsdFxuICAgICAqIGltcGxlbWVudGF0aW9uIGNoZWNrcyB0aGUgYHZhbGlkYXRpb25gIHByb3BlcnR5IG9mIHRoZSBidWlsZCBvcHRpb25zLiBJZiBpdCdzIHNldCB0byBgdHJ1ZWBcbiAgICAgKiBvciBhIGBWYWxpZGF0aW9uT3B0aW9uc2Agb2JqZWN0LCB0aGUgZG9jdW1lbnQgaXMgaW5jbHVkZWQgaW4gdGhlIHZhbGlkYXRpb24gcGhhc2UuXG4gICAgICovXG4gICAgc2hvdWxkVmFsaWRhdGUoZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRCdWlsZE9wdGlvbnMoZG9jdW1lbnQpLnZhbGlkYXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdmFsaWRhdGlvbiBjaGVja3Mgb24gdGhlIGdpdmVuIGRvY3VtZW50IGFuZCBzdG9yZSB0aGUgcmVzdWx0aW5nIGRpYWdub3N0aWNzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKiBJZiB0aGUgZG9jdW1lbnQgYWxyZWFkeSBjb250YWlucyBkaWFnbm9zdGljcywgdGhlIG5ldyBvbmVzIGFyZSBhZGRlZCB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBhc3luYyB2YWxpZGF0ZShkb2N1bWVudCwgY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5zZXJ2aWNlUmVnaXN0cnkuZ2V0U2VydmljZXMoZG9jdW1lbnQudXJpKS52YWxpZGF0aW9uLkRvY3VtZW50VmFsaWRhdG9yO1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uU2V0dGluZyA9IHRoaXMuZ2V0QnVpbGRPcHRpb25zKGRvY3VtZW50KS52YWxpZGF0aW9uO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdHlwZW9mIHZhbGlkYXRpb25TZXR0aW5nID09PSAnb2JqZWN0JyA/IHZhbGlkYXRpb25TZXR0aW5nIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBkaWFnbm9zdGljcyA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZURvY3VtZW50KGRvY3VtZW50LCBvcHRpb25zLCBjYW5jZWxUb2tlbik7XG4gICAgICAgIGlmIChkb2N1bWVudC5kaWFnbm9zdGljcykge1xuICAgICAgICAgICAgZG9jdW1lbnQuZGlhZ25vc3RpY3MucHVzaCguLi5kaWFnbm9zdGljcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kaWFnbm9zdGljcyA9IGRpYWdub3N0aWNzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGVjdXRlZCB2YWxpZGF0aW9uIGluIHRoZSBidWlsZCBzdGF0ZVxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuYnVpbGRTdGF0ZS5nZXQoZG9jdW1lbnQudXJpLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIChfYSA9IHN0YXRlLnJlc3VsdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHN0YXRlLnJlc3VsdCA9IHt9KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhdGVnb3JpZXMgPSAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2F0ZWdvcmllcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogVmFsaWRhdGlvbkNhdGVnb3J5LmFsbDtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZXN1bHQudmFsaWRhdGlvbkNoZWNrcykge1xuICAgICAgICAgICAgICAgIHN0YXRlLnJlc3VsdC52YWxpZGF0aW9uQ2hlY2tzLnB1c2goLi4ubmV3Q2F0ZWdvcmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5yZXN1bHQudmFsaWRhdGlvbkNoZWNrcyA9IFsuLi5uZXdDYXRlZ29yaWVzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRCdWlsZE9wdGlvbnMoZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuYnVpbGRTdGF0ZS5nZXQoZG9jdW1lbnQudXJpLnRvU3RyaW5nKCkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3B0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge307XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jdW1lbnQtYnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiQ2FuY2VsbGF0aW9uVG9rZW4iLCJEaXNwb3NhYmxlIiwiTXVsdGlNYXAiLCJPcGVyYXRpb25DYW5jZWxsZWQiLCJpbnRlcnJ1cHRBbmRDaGVjayIsImlzT3BlcmF0aW9uQ2FuY2VsbGVkIiwic3RyZWFtIiwiVmFsaWRhdGlvbkNhdGVnb3J5IiwiRG9jdW1lbnRTdGF0ZSIsIkRlZmF1bHREb2N1bWVudEJ1aWxkZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwidXBkYXRlQnVpbGRPcHRpb25zIiwidmFsaWRhdGlvbiIsImNhdGVnb3JpZXMiLCJ1cGRhdGVMaXN0ZW5lcnMiLCJidWlsZFBoYXNlTGlzdGVuZXJzIiwiZG9jdW1lbnRQaGFzZUxpc3RlbmVycyIsImJ1aWxkU3RhdGUiLCJNYXAiLCJkb2N1bWVudEJ1aWxkV2FpdGVycyIsImN1cnJlbnRTdGF0ZSIsIkNoYW5nZWQiLCJsYW5naXVtRG9jdW1lbnRzIiwid29ya3NwYWNlIiwiTGFuZ2l1bURvY3VtZW50cyIsImxhbmdpdW1Eb2N1bWVudEZhY3RvcnkiLCJMYW5naXVtRG9jdW1lbnRGYWN0b3J5IiwidGV4dERvY3VtZW50cyIsIlRleHREb2N1bWVudHMiLCJpbmRleE1hbmFnZXIiLCJJbmRleE1hbmFnZXIiLCJzZXJ2aWNlUmVnaXN0cnkiLCJTZXJ2aWNlUmVnaXN0cnkiLCJidWlsZCIsImRvY3VtZW50cyIsIm9wdGlvbnMiLCJjYW5jZWxUb2tlbiIsIk5vbmUiLCJfYSIsIl9iIiwiZG9jdW1lbnQiLCJrZXkiLCJ1cmkiLCJ0b1N0cmluZyIsInN0YXRlIiwiVmFsaWRhdGVkIiwiSW5kZXhlZFJlZmVyZW5jZXMiLCJkaWFnbm9zdGljcyIsInVuZGVmaW5lZCIsImRlbGV0ZSIsImdldCIsInByZXZpb3VzQ2F0ZWdvcmllcyIsInJlc3VsdCIsInZhbGlkYXRpb25DaGVja3MiLCJuZXdDYXRlZ29yaWVzIiwiYWxsIiwiZmlsdGVyIiwiYyIsImluY2x1ZGVzIiwibGVuZ3RoIiwic2V0IiwiY29tcGxldGVkIiwiT2JqZWN0IiwiYXNzaWduIiwiZW1pdFVwZGF0ZSIsIm1hcCIsImUiLCJidWlsZERvY3VtZW50cyIsInVwZGF0ZSIsImNoYW5nZWQiLCJkZWxldGVkIiwiZGVsZXRlZFVyaSIsImRlbGV0ZURvY3VtZW50IiwicmVtb3ZlIiwiY2hhbmdlZFVyaSIsImludmFsaWRhdGVkIiwiaW52YWxpZGF0ZURvY3VtZW50IiwibmV3RG9jdW1lbnQiLCJmcm9tTW9kZWwiLCIkdHlwZSIsImFkZERvY3VtZW50IiwiYWxsQ2hhbmdlZFVyaXMiLCJjb25jYXQiLCJ0b1NldCIsImRvYyIsImhhcyIsInNob3VsZFJlbGluayIsImZvckVhY2giLCJsaW5rZXIiLCJnZXRTZXJ2aWNlcyIsInJlZmVyZW5jZXMiLCJMaW5rZXIiLCJ1bmxpbmsiLCJNYXRoIiwibWluIiwiQ29tcHV0ZWRTY29wZXMiLCJyZWJ1aWxkRG9jdW1lbnRzIiwic29ydERvY3VtZW50cyIsIkxpbmtlZCIsInRvQXJyYXkiLCJQcm9taXNlIiwibGlzdGVuZXIiLCJsZWZ0IiwicmlnaHQiLCJoYXNUZXh0RG9jdW1lbnQiLCJCb29sZWFuIiwiY2hhbmdlZFVyaXMiLCJzb21lIiwicmVmIiwiZXJyb3IiLCJpc0FmZmVjdGVkIiwib25VcGRhdGUiLCJjYWxsYmFjayIsInB1c2giLCJjcmVhdGUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJwcmVwYXJlQnVpbGQiLCJydW5DYW5jZWxhYmxlIiwiUGFyc2VkIiwiSW5kZXhlZENvbnRlbnQiLCJ1cGRhdGVDb250ZW50Iiwic2NvcGVDb21wdXRhdGlvbiIsIlNjb3BlQ29tcHV0YXRpb24iLCJwcmVjb21wdXRlZFNjb3BlcyIsImNvbXB1dGVMb2NhbFNjb3BlcyIsImxpbmsiLCJ1cGRhdGVSZWZlcmVuY2VzIiwidG9CZVZhbGlkYXRlZCIsInNob3VsZFZhbGlkYXRlIiwidmFsaWRhdGUiLCJ0YXJnZXRTdGF0ZSIsImZpbHRlcmVkIiwibm90aWZ5RG9jdW1lbnRQaGFzZSIsInRhcmdldFN0YXRlRG9jcyIsIm5vdGlmeUJ1aWxkUGhhc2UiLCJvbkJ1aWxkUGhhc2UiLCJhZGQiLCJvbkRvY3VtZW50UGhhc2UiLCJ3YWl0VW50aWwiLCJ1cmlPclRva2VuIiwiZ2V0RG9jdW1lbnQiLCJyZXNvbHZlIiwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJyZWplY3QiLCJidWlsZERpc3Bvc2FibGUiLCJkaXNwb3NlIiwiY2FuY2VsRGlzcG9zYWJsZSIsIm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwibGlzdGVuZXJzIiwibGlzdGVuZXJzQ29weSIsInNsaWNlIiwiZXJyIiwiZ2V0QnVpbGRPcHRpb25zIiwidmFsaWRhdG9yIiwiRG9jdW1lbnRWYWxpZGF0b3IiLCJ2YWxpZGF0aW9uU2V0dGluZyIsInZhbGlkYXRlRG9jdW1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/document-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/documents.js":
/*!*********************************************************!*\
  !*** ./node_modules/langium/lib/workspace/documents.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultLangiumDocumentFactory: () => (/* binding */ DefaultLangiumDocumentFactory),\n/* harmony export */   DefaultLangiumDocuments: () => (/* binding */ DefaultLangiumDocuments),\n/* harmony export */   DocumentState: () => (/* binding */ DocumentState),\n/* harmony export */   TextDocument: () => (/* reexport safe */ vscode_languageserver_textdocument__WEBPACK_IMPORTED_MODULE_0__.TextDocument)\n/* harmony export */ });\n/* harmony import */ var vscode_languageserver_textdocument__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./documents.js */ \"(ssr)/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js\");\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/vscode-uri/lib/esm/index.mjs\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ /**\n * Re-export 'TextDocument' from 'vscode-languageserver-textdocument' for convenience,\n *  including both type _and_ symbol (namespace), as we here and there also refer to the symbol,\n *  the overhead is very small, just a few kilobytes.\n * Everything else of that package (at the time contributing) is also defined\n *  in 'vscode-languageserver-protocol' or 'vscode-languageserver-types'.\n */ \n\n\n\n\n/**\n * A document is subject to several phases that are run in predefined order. Any state value implies that\n * smaller state values are finished as well.\n */ var DocumentState;\n(function(DocumentState) {\n    /**\n     * The text content has changed and needs to be parsed again. The AST held by this outdated\n     * document instance is no longer valid.\n     */ DocumentState[DocumentState[\"Changed\"] = 0] = \"Changed\";\n    /**\n     * An AST has been created from the text content. The document structure can be traversed,\n     * but cross-references cannot be resolved yet. If necessary, the structure can be manipulated\n     * at this stage as a preprocessing step.\n     */ DocumentState[DocumentState[\"Parsed\"] = 1] = \"Parsed\";\n    /**\n     * The `IndexManager` service has processed AST nodes of this document. This means the\n     * exported symbols are available in the global scope and can be resolved from other documents.\n     */ DocumentState[DocumentState[\"IndexedContent\"] = 2] = \"IndexedContent\";\n    /**\n     * The `ScopeComputation` service has processed this document. This means the local symbols\n     * are stored in a MultiMap so they can be looked up by the `ScopeProvider` service.\n     * Once a document has reached this state, you may follow every reference - it will lazily\n     * resolve its `ref` property and yield either the target AST node or `undefined` in case\n     * the target is not in scope.\n     */ DocumentState[DocumentState[\"ComputedScopes\"] = 3] = \"ComputedScopes\";\n    /**\n     * The `Linker` service has processed this document. All outgoing references have been\n     * resolved or marked as erroneous.\n     */ DocumentState[DocumentState[\"Linked\"] = 4] = \"Linked\";\n    /**\n     * The `IndexManager` service has processed AST node references of this document. This is\n     * necessary to determine which documents are affected by a change in one of the workspace\n     * documents.\n     */ DocumentState[DocumentState[\"IndexedReferences\"] = 5] = \"IndexedReferences\";\n    /**\n     * The `DocumentValidator` service has processed this document. The language server listens\n     * to the results of this phase and sends diagnostics to the client.\n     */ DocumentState[DocumentState[\"Validated\"] = 6] = \"Validated\";\n})(DocumentState || (DocumentState = {}));\nclass DefaultLangiumDocumentFactory {\n    constructor(services){\n        this.serviceRegistry = services.ServiceRegistry;\n        this.textDocuments = services.workspace.TextDocuments;\n        this.fileSystemProvider = services.workspace.FileSystemProvider;\n    }\n    async fromUri(uri, cancellationToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None) {\n        const content = await this.fileSystemProvider.readFile(uri);\n        return this.createAsync(uri, content, cancellationToken);\n    }\n    fromTextDocument(textDocument, uri, token) {\n        uri = uri !== null && uri !== void 0 ? uri : _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__.URI.parse(textDocument.uri);\n        if (_utils_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.is(token)) {\n            return this.createAsync(uri, textDocument, token);\n        } else {\n            return this.create(uri, textDocument, token);\n        }\n    }\n    fromString(text, uri, token) {\n        if (_utils_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.is(token)) {\n            return this.createAsync(uri, text, token);\n        } else {\n            return this.create(uri, text, token);\n        }\n    }\n    fromModel(model, uri) {\n        return this.create(uri, {\n            $model: model\n        });\n    }\n    create(uri, content, options) {\n        if (typeof content === \"string\") {\n            const parseResult = this.parse(uri, content, options);\n            return this.createLangiumDocument(parseResult, uri, undefined, content);\n        } else if (\"$model\" in content) {\n            const parseResult = {\n                value: content.$model,\n                parserErrors: [],\n                lexerErrors: []\n            };\n            return this.createLangiumDocument(parseResult, uri);\n        } else {\n            const parseResult = this.parse(uri, content.getText(), options);\n            return this.createLangiumDocument(parseResult, uri, content);\n        }\n    }\n    async createAsync(uri, content, cancelToken) {\n        if (typeof content === \"string\") {\n            const parseResult = await this.parseAsync(uri, content, cancelToken);\n            return this.createLangiumDocument(parseResult, uri, undefined, content);\n        } else {\n            const parseResult = await this.parseAsync(uri, content.getText(), cancelToken);\n            return this.createLangiumDocument(parseResult, uri, content);\n        }\n    }\n    /**\n     * Create a LangiumDocument from a given parse result.\n     *\n     * A TextDocument is created on demand if it is not provided as argument here. Usually this\n     * should not be necessary because the main purpose of the TextDocument is to convert between\n     * text ranges and offsets, which is done solely in LSP request handling.\n     *\n     * With the introduction of {@link update} below this method is supposed to be mainly called\n     * during workspace initialization and on addition/recognition of new files, while changes in\n     * existing documents are processed via {@link update}.\n     */ createLangiumDocument(parseResult, uri, textDocument, text) {\n        let document;\n        if (textDocument) {\n            document = {\n                parseResult,\n                uri,\n                state: DocumentState.Parsed,\n                references: [],\n                textDocument\n            };\n        } else {\n            const textDocumentGetter = this.createTextDocumentGetter(uri, text);\n            document = {\n                parseResult,\n                uri,\n                state: DocumentState.Parsed,\n                references: [],\n                get textDocument () {\n                    return textDocumentGetter();\n                }\n            };\n        }\n        parseResult.value.$document = document;\n        return document;\n    }\n    async update(document, cancellationToken) {\n        var _a, _b;\n        // The CST full text property contains the original text that was used to create the AST.\n        const oldText = (_a = document.parseResult.value.$cstNode) === null || _a === void 0 ? void 0 : _a.root.fullText;\n        const textDocument = (_b = this.textDocuments) === null || _b === void 0 ? void 0 : _b.get(document.uri.toString());\n        const text = textDocument ? textDocument.getText() : await this.fileSystemProvider.readFile(document.uri);\n        if (textDocument) {\n            Object.defineProperty(document, \"textDocument\", {\n                value: textDocument\n            });\n        } else {\n            const textDocumentGetter = this.createTextDocumentGetter(document.uri, text);\n            Object.defineProperty(document, \"textDocument\", {\n                get: textDocumentGetter\n            });\n        }\n        // Some of these documents can be pretty large, so parsing them again can be quite expensive.\n        // Therefore, we only parse if the text has actually changed.\n        if (oldText !== text) {\n            document.parseResult = await this.parseAsync(document.uri, text, cancellationToken);\n            document.parseResult.value.$document = document;\n        }\n        document.state = DocumentState.Parsed;\n        return document;\n    }\n    parse(uri, text, options) {\n        const services = this.serviceRegistry.getServices(uri);\n        return services.parser.LangiumParser.parse(text, options);\n    }\n    parseAsync(uri, text, cancellationToken) {\n        const services = this.serviceRegistry.getServices(uri);\n        return services.parser.AsyncParser.parse(text, cancellationToken);\n    }\n    createTextDocumentGetter(uri, text) {\n        const serviceRegistry = this.serviceRegistry;\n        let textDoc = undefined;\n        return ()=>{\n            return textDoc !== null && textDoc !== void 0 ? textDoc : textDoc = vscode_languageserver_textdocument__WEBPACK_IMPORTED_MODULE_0__.TextDocument.create(uri.toString(), serviceRegistry.getServices(uri).LanguageMetaData.languageId, 0, text !== null && text !== void 0 ? text : \"\");\n        };\n    }\n}\nclass DefaultLangiumDocuments {\n    constructor(services){\n        this.documentMap = new Map();\n        this.langiumDocumentFactory = services.workspace.LangiumDocumentFactory;\n        this.serviceRegistry = services.ServiceRegistry;\n    }\n    get all() {\n        return (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_3__.stream)(this.documentMap.values());\n    }\n    addDocument(document) {\n        const uriString = document.uri.toString();\n        if (this.documentMap.has(uriString)) {\n            throw new Error(`A document with the URI '${uriString}' is already present.`);\n        }\n        this.documentMap.set(uriString, document);\n    }\n    getDocument(uri) {\n        const uriString = uri.toString();\n        return this.documentMap.get(uriString);\n    }\n    async getOrCreateDocument(uri, cancellationToken) {\n        let document = this.getDocument(uri);\n        if (document) {\n            return document;\n        }\n        document = await this.langiumDocumentFactory.fromUri(uri, cancellationToken);\n        this.addDocument(document);\n        return document;\n    }\n    createDocument(uri, text, cancellationToken) {\n        if (cancellationToken) {\n            return this.langiumDocumentFactory.fromString(text, uri, cancellationToken).then((document)=>{\n                this.addDocument(document);\n                return document;\n            });\n        } else {\n            const document = this.langiumDocumentFactory.fromString(text, uri);\n            this.addDocument(document);\n            return document;\n        }\n    }\n    hasDocument(uri) {\n        return this.documentMap.has(uri.toString());\n    }\n    invalidateDocument(uri) {\n        const uriString = uri.toString();\n        const langiumDoc = this.documentMap.get(uriString);\n        if (langiumDoc) {\n            const linker = this.serviceRegistry.getServices(uri).references.Linker;\n            linker.unlink(langiumDoc);\n            langiumDoc.state = DocumentState.Changed;\n            langiumDoc.precomputedScopes = undefined;\n            langiumDoc.diagnostics = undefined;\n        }\n        return langiumDoc;\n    }\n    deleteDocument(uri) {\n        const uriString = uri.toString();\n        const langiumDoc = this.documentMap.get(uriString);\n        if (langiumDoc) {\n            langiumDoc.state = DocumentState.Changed;\n            this.documentMap.delete(uriString);\n        }\n        return langiumDoc;\n    }\n} //# sourceMappingURL=documents.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2RvY3VtZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUM5RTs7Ozs7O0NBTUMsR0FDaUU7QUFDcEI7QUFDZTtBQUNqQjtBQUNBO0FBQzVDOzs7Q0FHQyxHQUNNLElBQUlJLGNBQWM7QUFDeEIsVUFBVUEsYUFBYTtJQUNwQjs7O0tBR0MsR0FDREEsYUFBYSxDQUFDQSxhQUFhLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBRztJQUM5Qzs7OztLQUlDLEdBQ0RBLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7SUFDN0M7OztLQUdDLEdBQ0RBLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsR0FBRztJQUNyRDs7Ozs7O0tBTUMsR0FDREEsYUFBYSxDQUFDQSxhQUFhLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxHQUFHO0lBQ3JEOzs7S0FHQyxHQUNEQSxhQUFhLENBQUNBLGFBQWEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxHQUFHO0lBQzdDOzs7O0tBSUMsR0FDREEsYUFBYSxDQUFDQSxhQUFhLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxHQUFHO0lBQ3hEOzs7S0FHQyxHQUNEQSxhQUFhLENBQUNBLGFBQWEsQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHO0FBQ3BELEdBQUdBLGlCQUFrQkEsQ0FBQUEsZ0JBQWdCLENBQUM7QUFDL0IsTUFBTUM7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsZUFBZSxHQUFHRCxTQUFTRSxlQUFlO1FBQy9DLElBQUksQ0FBQ0MsYUFBYSxHQUFHSCxTQUFTSSxTQUFTLENBQUNDLGFBQWE7UUFDckQsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR04sU0FBU0ksU0FBUyxDQUFDRyxrQkFBa0I7SUFDbkU7SUFDQSxNQUFNQyxRQUFRQyxHQUFHLEVBQUVDLG9CQUFvQmhCLHFFQUFp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QVcsQ0FBQ2hDO1lBQ2pCLE9BQU9BO1FBQ1g7SUFDSjtJQUNBeUMsWUFBWXBFLEdBQUcsRUFBRTtRQUNiLE9BQU8sSUFBSSxDQUFDcUQsV0FBVyxDQUFDUSxHQUFHLENBQUM3RCxJQUFJMEMsUUFBUTtJQUM1QztJQUNBMkIsbUJBQW1CckUsR0FBRyxFQUFFO1FBQ3BCLE1BQU00RCxZQUFZNUQsSUFBSTBDLFFBQVE7UUFDOUIsTUFBTTRCLGFBQWEsSUFBSSxDQUFDakIsV0FBVyxDQUFDWixHQUFHLENBQUNtQjtRQUN4QyxJQUFJVSxZQUFZO1lBQ1osTUFBTUMsU0FBUyxJQUFJLENBQUMvRSxlQUFlLENBQUNxRCxXQUFXLENBQUM3QyxLQUFLOEIsVUFBVSxDQUFDMEMsTUFBTTtZQUN0RUQsT0FBT0UsTUFBTSxDQUFDSDtZQUNkQSxXQUFXMUMsS0FBSyxHQUFHeEMsY0FBY3NGLE9BQU87WUFDeENKLFdBQVdLLGlCQUFpQixHQUFHdkQ7WUFDL0JrRCxXQUFXTSxXQUFXLEdBQUd4RDtRQUM3QjtRQUNBLE9BQU9rRDtJQUNYO0lBQ0FPLGVBQWU3RSxHQUFHLEVBQUU7UUFDaEIsTUFBTTRELFlBQVk1RCxJQUFJMEMsUUFBUTtRQUM5QixNQUFNNEIsYUFBYSxJQUFJLENBQUNqQixXQUFXLENBQUNaLEdBQUcsQ0FBQ21CO1FBQ3hDLElBQUlVLFlBQVk7WUFDWkEsV0FBVzFDLEtBQUssR0FBR3hDLGNBQWNzRixPQUFPO1lBQ3hDLElBQUksQ0FBQ3JCLFdBQVcsQ0FBQ3lCLE1BQU0sQ0FBQ2xCO1FBQzVCO1FBQ0EsT0FBT1U7SUFDWDtBQUNKLEVBQ0EscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2RvY3VtZW50cy5qcz82YjM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKlxuICogUmUtZXhwb3J0ICdUZXh0RG9jdW1lbnQnIGZyb20gJ3ZzY29kZS1sYW5ndWFnZXNlcnZlci10ZXh0ZG9jdW1lbnQnIGZvciBjb252ZW5pZW5jZSxcbiAqICBpbmNsdWRpbmcgYm90aCB0eXBlIF9hbmRfIHN5bWJvbCAobmFtZXNwYWNlKSwgYXMgd2UgaGVyZSBhbmQgdGhlcmUgYWxzbyByZWZlciB0byB0aGUgc3ltYm9sLFxuICogIHRoZSBvdmVyaGVhZCBpcyB2ZXJ5IHNtYWxsLCBqdXN0IGEgZmV3IGtpbG9ieXRlcy5cbiAqIEV2ZXJ5dGhpbmcgZWxzZSBvZiB0aGF0IHBhY2thZ2UgKGF0IHRoZSB0aW1lIGNvbnRyaWJ1dGluZykgaXMgYWxzbyBkZWZpbmVkXG4gKiAgaW4gJ3ZzY29kZS1sYW5ndWFnZXNlcnZlci1wcm90b2NvbCcgb3IgJ3ZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlcycuXG4gKi9cbmV4cG9ydCB7IFRleHREb2N1bWVudCB9IGZyb20gJ3ZzY29kZS1sYW5ndWFnZXNlcnZlci10ZXh0ZG9jdW1lbnQnO1xuaW1wb3J0IHsgVGV4dERvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudHMuanMnO1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4gfSBmcm9tICcuLi91dGlscy9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgc3RyZWFtIH0gZnJvbSAnLi4vdXRpbHMvc3RyZWFtLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4uL3V0aWxzL3VyaS11dGlscy5qcyc7XG4vKipcbiAqIEEgZG9jdW1lbnQgaXMgc3ViamVjdCB0byBzZXZlcmFsIHBoYXNlcyB0aGF0IGFyZSBydW4gaW4gcHJlZGVmaW5lZCBvcmRlci4gQW55IHN0YXRlIHZhbHVlIGltcGxpZXMgdGhhdFxuICogc21hbGxlciBzdGF0ZSB2YWx1ZXMgYXJlIGZpbmlzaGVkIGFzIHdlbGwuXG4gKi9cbmV4cG9ydCB2YXIgRG9jdW1lbnRTdGF0ZTtcbihmdW5jdGlvbiAoRG9jdW1lbnRTdGF0ZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnQgaGFzIGNoYW5nZWQgYW5kIG5lZWRzIHRvIGJlIHBhcnNlZCBhZ2Fpbi4gVGhlIEFTVCBoZWxkIGJ5IHRoaXMgb3V0ZGF0ZWRcbiAgICAgKiBkb2N1bWVudCBpbnN0YW5jZSBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgICovXG4gICAgRG9jdW1lbnRTdGF0ZVtEb2N1bWVudFN0YXRlW1wiQ2hhbmdlZFwiXSA9IDBdID0gXCJDaGFuZ2VkXCI7XG4gICAgLyoqXG4gICAgICogQW4gQVNUIGhhcyBiZWVuIGNyZWF0ZWQgZnJvbSB0aGUgdGV4dCBjb250ZW50LiBUaGUgZG9jdW1lbnQgc3RydWN0dXJlIGNhbiBiZSB0cmF2ZXJzZWQsXG4gICAgICogYnV0IGNyb3NzLXJlZmVyZW5jZXMgY2Fubm90IGJlIHJlc29sdmVkIHlldC4gSWYgbmVjZXNzYXJ5LCB0aGUgc3RydWN0dXJlIGNhbiBiZSBtYW5pcHVsYXRlZFxuICAgICAqIGF0IHRoaXMgc3RhZ2UgYXMgYSBwcmVwcm9jZXNzaW5nIHN0ZXAuXG4gICAgICovXG4gICAgRG9jdW1lbnRTdGF0ZVtEb2N1bWVudFN0YXRlW1wiUGFyc2VkXCJdID0gMV0gPSBcIlBhcnNlZFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBgSW5kZXhNYW5hZ2VyYCBzZXJ2aWNlIGhhcyBwcm9jZXNzZWQgQVNUIG5vZGVzIG9mIHRoaXMgZG9jdW1lbnQuIFRoaXMgbWVhbnMgdGhlXG4gICAgICogZXhwb3J0ZWQgc3ltYm9scyBhcmUgYXZhaWxhYmxlIGluIHRoZSBnbG9iYWwgc2NvcGUgYW5kIGNhbiBiZSByZXNvbHZlZCBmcm9tIG90aGVyIGRvY3VtZW50cy5cbiAgICAgKi9cbiAgICBEb2N1bWVudFN0YXRlW0RvY3VtZW50U3RhdGVbXCJJbmRleGVkQ29udGVudFwiXSA9IDJdID0gXCJJbmRleGVkQ29udGVudFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBgU2NvcGVDb21wdXRhdGlvbmAgc2VydmljZSBoYXMgcHJvY2Vzc2VkIHRoaXMgZG9jdW1lbnQuIFRoaXMgbWVhbnMgdGhlIGxvY2FsIHN5bWJvbHNcbiAgICAgKiBhcmUgc3RvcmVkIGluIGEgTXVsdGlNYXAgc28gdGhleSBjYW4gYmUgbG9va2VkIHVwIGJ5IHRoZSBgU2NvcGVQcm92aWRlcmAgc2VydmljZS5cbiAgICAgKiBPbmNlIGEgZG9jdW1lbnQgaGFzIHJlYWNoZWQgdGhpcyBzdGF0ZSwgeW91IG1heSBmb2xsb3cgZXZlcnkgcmVmZXJlbmNlIC0gaXQgd2lsbCBsYXppbHlcbiAgICAgKiByZXNvbHZlIGl0cyBgcmVmYCBwcm9wZXJ0eSBhbmQgeWllbGQgZWl0aGVyIHRoZSB0YXJnZXQgQVNUIG5vZGUgb3IgYHVuZGVmaW5lZGAgaW4gY2FzZVxuICAgICAqIHRoZSB0YXJnZXQgaXMgbm90IGluIHNjb3BlLlxuICAgICAqL1xuICAgIERvY3VtZW50U3RhdGVbRG9jdW1lbnRTdGF0ZVtcIkNvbXB1dGVkU2NvcGVzXCJdID0gM10gPSBcIkNvbXB1dGVkU2NvcGVzXCI7XG4gICAgLyoqXG4gICAgICogVGhlIGBMaW5rZXJgIHNlcnZpY2UgaGFzIHByb2Nlc3NlZCB0aGlzIGRvY3VtZW50LiBBbGwgb3V0Z29pbmcgcmVmZXJlbmNlcyBoYXZlIGJlZW5cbiAgICAgKiByZXNvbHZlZCBvciBtYXJrZWQgYXMgZXJyb25lb3VzLlxuICAgICAqL1xuICAgIERvY3VtZW50U3RhdGVbRG9jdW1lbnRTdGF0ZVtcIkxpbmtlZFwiXSA9IDRdID0gXCJMaW5rZWRcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgYEluZGV4TWFuYWdlcmAgc2VydmljZSBoYXMgcHJvY2Vzc2VkIEFTVCBub2RlIHJlZmVyZW5jZXMgb2YgdGhpcyBkb2N1bWVudC4gVGhpcyBpc1xuICAgICAqIG5lY2Vzc2FyeSB0byBkZXRlcm1pbmUgd2hpY2ggZG9jdW1lbnRzIGFyZSBhZmZlY3RlZCBieSBhIGNoYW5nZSBpbiBvbmUgb2YgdGhlIHdvcmtzcGFjZVxuICAgICAqIGRvY3VtZW50cy5cbiAgICAgKi9cbiAgICBEb2N1bWVudFN0YXRlW0RvY3VtZW50U3RhdGVbXCJJbmRleGVkUmVmZXJlbmNlc1wiXSA9IDVdID0gXCJJbmRleGVkUmVmZXJlbmNlc1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSBgRG9jdW1lbnRWYWxpZGF0b3JgIHNlcnZpY2UgaGFzIHByb2Nlc3NlZCB0aGlzIGRvY3VtZW50LiBUaGUgbGFuZ3VhZ2Ugc2VydmVyIGxpc3RlbnNcbiAgICAgKiB0byB0aGUgcmVzdWx0cyBvZiB0aGlzIHBoYXNlIGFuZCBzZW5kcyBkaWFnbm9zdGljcyB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIERvY3VtZW50U3RhdGVbRG9jdW1lbnRTdGF0ZVtcIlZhbGlkYXRlZFwiXSA9IDZdID0gXCJWYWxpZGF0ZWRcIjtcbn0pKERvY3VtZW50U3RhdGUgfHwgKERvY3VtZW50U3RhdGUgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIERlZmF1bHRMYW5naXVtRG9jdW1lbnRGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLnNlcnZpY2VSZWdpc3RyeSA9IHNlcnZpY2VzLlNlcnZpY2VSZWdpc3RyeTtcbiAgICAgICAgdGhpcy50ZXh0RG9jdW1lbnRzID0gc2VydmljZXMud29ya3NwYWNlLlRleHREb2N1bWVudHM7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbVByb3ZpZGVyID0gc2VydmljZXMud29ya3NwYWNlLkZpbGVTeXN0ZW1Qcm92aWRlcjtcbiAgICB9XG4gICAgYXN5bmMgZnJvbVVyaSh1cmksIGNhbmNlbGxhdGlvblRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5maWxlU3lzdGVtUHJvdmlkZXIucmVhZEZpbGUodXJpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQXN5bmModXJpLCBjb250ZW50LCBjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgfVxuICAgIGZyb21UZXh0RG9jdW1lbnQodGV4dERvY3VtZW50LCB1cmksIHRva2VuKSB7XG4gICAgICAgIHVyaSA9IHVyaSAhPT0gbnVsbCAmJiB1cmkgIT09IHZvaWQgMCA/IHVyaSA6IFVSSS5wYXJzZSh0ZXh0RG9jdW1lbnQudXJpKTtcbiAgICAgICAgaWYgKENhbmNlbGxhdGlvblRva2VuLmlzKHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQXN5bmModXJpLCB0ZXh0RG9jdW1lbnQsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh1cmksIHRleHREb2N1bWVudCwgdG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZyb21TdHJpbmcodGV4dCwgdXJpLCB0b2tlbikge1xuICAgICAgICBpZiAoQ2FuY2VsbGF0aW9uVG9rZW4uaXModG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVBc3luYyh1cmksIHRleHQsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh1cmksIHRleHQsIHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmcm9tTW9kZWwobW9kZWwsIHVyaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUodXJpLCB7ICRtb2RlbDogbW9kZWwgfSk7XG4gICAgfVxuICAgIGNyZWF0ZSh1cmksIGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSB0aGlzLnBhcnNlKHVyaSwgY29udGVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVMYW5naXVtRG9jdW1lbnQocGFyc2VSZXN1bHQsIHVyaSwgdW5kZWZpbmVkLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgnJG1vZGVsJyBpbiBjb250ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHsgdmFsdWU6IGNvbnRlbnQuJG1vZGVsLCBwYXJzZXJFcnJvcnM6IFtdLCBsZXhlckVycm9yczogW10gfTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUxhbmdpdW1Eb2N1bWVudChwYXJzZVJlc3VsdCwgdXJpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gdGhpcy5wYXJzZSh1cmksIGNvbnRlbnQuZ2V0VGV4dCgpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUxhbmdpdW1Eb2N1bWVudChwYXJzZVJlc3VsdCwgdXJpLCBjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjcmVhdGVBc3luYyh1cmksIGNvbnRlbnQsIGNhbmNlbFRva2VuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gYXdhaXQgdGhpcy5wYXJzZUFzeW5jKHVyaSwgY29udGVudCwgY2FuY2VsVG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTGFuZ2l1bURvY3VtZW50KHBhcnNlUmVzdWx0LCB1cmksIHVuZGVmaW5lZCwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IGF3YWl0IHRoaXMucGFyc2VBc3luYyh1cmksIGNvbnRlbnQuZ2V0VGV4dCgpLCBjYW5jZWxUb2tlbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVMYW5naXVtRG9jdW1lbnQocGFyc2VSZXN1bHQsIHVyaSwgY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgTGFuZ2l1bURvY3VtZW50IGZyb20gYSBnaXZlbiBwYXJzZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBBIFRleHREb2N1bWVudCBpcyBjcmVhdGVkIG9uIGRlbWFuZCBpZiBpdCBpcyBub3QgcHJvdmlkZWQgYXMgYXJndW1lbnQgaGVyZS4gVXN1YWxseSB0aGlzXG4gICAgICogc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgYmVjYXVzZSB0aGUgbWFpbiBwdXJwb3NlIG9mIHRoZSBUZXh0RG9jdW1lbnQgaXMgdG8gY29udmVydCBiZXR3ZWVuXG4gICAgICogdGV4dCByYW5nZXMgYW5kIG9mZnNldHMsIHdoaWNoIGlzIGRvbmUgc29sZWx5IGluIExTUCByZXF1ZXN0IGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogV2l0aCB0aGUgaW50cm9kdWN0aW9uIG9mIHtAbGluayB1cGRhdGV9IGJlbG93IHRoaXMgbWV0aG9kIGlzIHN1cHBvc2VkIHRvIGJlIG1haW5seSBjYWxsZWRcbiAgICAgKiBkdXJpbmcgd29ya3NwYWNlIGluaXRpYWxpemF0aW9uIGFuZCBvbiBhZGRpdGlvbi9yZWNvZ25pdGlvbiBvZiBuZXcgZmlsZXMsIHdoaWxlIGNoYW5nZXMgaW5cbiAgICAgKiBleGlzdGluZyBkb2N1bWVudHMgYXJlIHByb2Nlc3NlZCB2aWEge0BsaW5rIHVwZGF0ZX0uXG4gICAgICovXG4gICAgY3JlYXRlTGFuZ2l1bURvY3VtZW50KHBhcnNlUmVzdWx0LCB1cmksIHRleHREb2N1bWVudCwgdGV4dCkge1xuICAgICAgICBsZXQgZG9jdW1lbnQ7XG4gICAgICAgIGlmICh0ZXh0RG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50ID0ge1xuICAgICAgICAgICAgICAgIHBhcnNlUmVzdWx0LFxuICAgICAgICAgICAgICAgIHVyaSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogRG9jdW1lbnRTdGF0ZS5QYXJzZWQsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlczogW10sXG4gICAgICAgICAgICAgICAgdGV4dERvY3VtZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGV4dERvY3VtZW50R2V0dGVyID0gdGhpcy5jcmVhdGVUZXh0RG9jdW1lbnRHZXR0ZXIodXJpLCB0ZXh0KTtcbiAgICAgICAgICAgIGRvY3VtZW50ID0ge1xuICAgICAgICAgICAgICAgIHBhcnNlUmVzdWx0LFxuICAgICAgICAgICAgICAgIHVyaSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogRG9jdW1lbnRTdGF0ZS5QYXJzZWQsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlczogW10sXG4gICAgICAgICAgICAgICAgZ2V0IHRleHREb2N1bWVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHREb2N1bWVudEdldHRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VSZXN1bHQudmFsdWUuJGRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlKGRvY3VtZW50LCBjYW5jZWxsYXRpb25Ub2tlbikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAvLyBUaGUgQ1NUIGZ1bGwgdGV4dCBwcm9wZXJ0eSBjb250YWlucyB0aGUgb3JpZ2luYWwgdGV4dCB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSB0aGUgQVNULlxuICAgICAgICBjb25zdCBvbGRUZXh0ID0gKF9hID0gZG9jdW1lbnQucGFyc2VSZXN1bHQudmFsdWUuJGNzdE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yb290LmZ1bGxUZXh0O1xuICAgICAgICBjb25zdCB0ZXh0RG9jdW1lbnQgPSAoX2IgPSB0aGlzLnRleHREb2N1bWVudHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXQoZG9jdW1lbnQudXJpLnRvU3RyaW5nKCkpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGV4dERvY3VtZW50ID8gdGV4dERvY3VtZW50LmdldFRleHQoKSA6IGF3YWl0IHRoaXMuZmlsZVN5c3RlbVByb3ZpZGVyLnJlYWRGaWxlKGRvY3VtZW50LnVyaSk7XG4gICAgICAgIGlmICh0ZXh0RG9jdW1lbnQpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwgJ3RleHREb2N1bWVudCcsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGV4dERvY3VtZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHREb2N1bWVudEdldHRlciA9IHRoaXMuY3JlYXRlVGV4dERvY3VtZW50R2V0dGVyKGRvY3VtZW50LnVyaSwgdGV4dCk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICd0ZXh0RG9jdW1lbnQnLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiB0ZXh0RG9jdW1lbnRHZXR0ZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWUgb2YgdGhlc2UgZG9jdW1lbnRzIGNhbiBiZSBwcmV0dHkgbGFyZ2UsIHNvIHBhcnNpbmcgdGhlbSBhZ2FpbiBjYW4gYmUgcXVpdGUgZXhwZW5zaXZlLlxuICAgICAgICAvLyBUaGVyZWZvcmUsIHdlIG9ubHkgcGFyc2UgaWYgdGhlIHRleHQgaGFzIGFjdHVhbGx5IGNoYW5nZWQuXG4gICAgICAgIGlmIChvbGRUZXh0ICE9PSB0ZXh0KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5wYXJzZVJlc3VsdCA9IGF3YWl0IHRoaXMucGFyc2VBc3luYyhkb2N1bWVudC51cmksIHRleHQsIGNhbmNlbGxhdGlvblRva2VuKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnBhcnNlUmVzdWx0LnZhbHVlLiRkb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LnN0YXRlID0gRG9jdW1lbnRTdGF0ZS5QYXJzZWQ7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgcGFyc2UodXJpLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VzID0gdGhpcy5zZXJ2aWNlUmVnaXN0cnkuZ2V0U2VydmljZXModXJpKTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2VzLnBhcnNlci5MYW5naXVtUGFyc2VyLnBhcnNlKHRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBwYXJzZUFzeW5jKHVyaSwgdGV4dCwgY2FuY2VsbGF0aW9uVG9rZW4pIHtcbiAgICAgICAgY29uc3Qgc2VydmljZXMgPSB0aGlzLnNlcnZpY2VSZWdpc3RyeS5nZXRTZXJ2aWNlcyh1cmkpO1xuICAgICAgICByZXR1cm4gc2VydmljZXMucGFyc2VyLkFzeW5jUGFyc2VyLnBhcnNlKHRleHQsIGNhbmNlbGxhdGlvblRva2VuKTtcbiAgICB9XG4gICAgY3JlYXRlVGV4dERvY3VtZW50R2V0dGVyKHVyaSwgdGV4dCkge1xuICAgICAgICBjb25zdCBzZXJ2aWNlUmVnaXN0cnkgPSB0aGlzLnNlcnZpY2VSZWdpc3RyeTtcbiAgICAgICAgbGV0IHRleHREb2MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dERvYyAhPT0gbnVsbCAmJiB0ZXh0RG9jICE9PSB2b2lkIDAgPyB0ZXh0RG9jIDogKHRleHREb2MgPSBUZXh0RG9jdW1lbnQuY3JlYXRlKHVyaS50b1N0cmluZygpLCBzZXJ2aWNlUmVnaXN0cnkuZ2V0U2VydmljZXModXJpKS5MYW5ndWFnZU1ldGFEYXRhLmxhbmd1YWdlSWQsIDAsIHRleHQgIT09IG51bGwgJiYgdGV4dCAhPT0gdm9pZCAwID8gdGV4dCA6ICcnKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIERlZmF1bHRMYW5naXVtRG9jdW1lbnRzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICB0aGlzLmRvY3VtZW50TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmxhbmdpdW1Eb2N1bWVudEZhY3RvcnkgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuTGFuZ2l1bURvY3VtZW50RmFjdG9yeTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlUmVnaXN0cnkgPSBzZXJ2aWNlcy5TZXJ2aWNlUmVnaXN0cnk7XG4gICAgfVxuICAgIGdldCBhbGwoKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW0odGhpcy5kb2N1bWVudE1hcC52YWx1ZXMoKSk7XG4gICAgfVxuICAgIGFkZERvY3VtZW50KGRvY3VtZW50KSB7XG4gICAgICAgIGNvbnN0IHVyaVN0cmluZyA9IGRvY3VtZW50LnVyaS50b1N0cmluZygpO1xuICAgICAgICBpZiAodGhpcy5kb2N1bWVudE1hcC5oYXModXJpU3RyaW5nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRvY3VtZW50IHdpdGggdGhlIFVSSSAnJHt1cmlTdHJpbmd9JyBpcyBhbHJlYWR5IHByZXNlbnQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb2N1bWVudE1hcC5zZXQodXJpU3RyaW5nLCBkb2N1bWVudCk7XG4gICAgfVxuICAgIGdldERvY3VtZW50KHVyaSkge1xuICAgICAgICBjb25zdCB1cmlTdHJpbmcgPSB1cmkudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRNYXAuZ2V0KHVyaVN0cmluZyk7XG4gICAgfVxuICAgIGFzeW5jIGdldE9yQ3JlYXRlRG9jdW1lbnQodXJpLCBjYW5jZWxsYXRpb25Ub2tlbikge1xuICAgICAgICBsZXQgZG9jdW1lbnQgPSB0aGlzLmdldERvY3VtZW50KHVyaSk7XG4gICAgICAgIGlmIChkb2N1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50ID0gYXdhaXQgdGhpcy5sYW5naXVtRG9jdW1lbnRGYWN0b3J5LmZyb21VcmkodXJpLCBjYW5jZWxsYXRpb25Ub2tlbik7XG4gICAgICAgIHRoaXMuYWRkRG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxuICAgIGNyZWF0ZURvY3VtZW50KHVyaSwgdGV4dCwgY2FuY2VsbGF0aW9uVG9rZW4pIHtcbiAgICAgICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYW5naXVtRG9jdW1lbnRGYWN0b3J5LmZyb21TdHJpbmcodGV4dCwgdXJpLCBjYW5jZWxsYXRpb25Ub2tlbikudGhlbihkb2N1bWVudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGREb2N1bWVudChkb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IHRoaXMubGFuZ2l1bURvY3VtZW50RmFjdG9yeS5mcm9tU3RyaW5nKHRleHQsIHVyaSk7XG4gICAgICAgICAgICB0aGlzLmFkZERvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNEb2N1bWVudCh1cmkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRNYXAuaGFzKHVyaS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZURvY3VtZW50KHVyaSkge1xuICAgICAgICBjb25zdCB1cmlTdHJpbmcgPSB1cmkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgbGFuZ2l1bURvYyA9IHRoaXMuZG9jdW1lbnRNYXAuZ2V0KHVyaVN0cmluZyk7XG4gICAgICAgIGlmIChsYW5naXVtRG9jKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rZXIgPSB0aGlzLnNlcnZpY2VSZWdpc3RyeS5nZXRTZXJ2aWNlcyh1cmkpLnJlZmVyZW5jZXMuTGlua2VyO1xuICAgICAgICAgICAgbGlua2VyLnVubGluayhsYW5naXVtRG9jKTtcbiAgICAgICAgICAgIGxhbmdpdW1Eb2Muc3RhdGUgPSBEb2N1bWVudFN0YXRlLkNoYW5nZWQ7XG4gICAgICAgICAgICBsYW5naXVtRG9jLnByZWNvbXB1dGVkU2NvcGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGFuZ2l1bURvYy5kaWFnbm9zdGljcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFuZ2l1bURvYztcbiAgICB9XG4gICAgZGVsZXRlRG9jdW1lbnQodXJpKSB7XG4gICAgICAgIGNvbnN0IHVyaVN0cmluZyA9IHVyaS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBsYW5naXVtRG9jID0gdGhpcy5kb2N1bWVudE1hcC5nZXQodXJpU3RyaW5nKTtcbiAgICAgICAgaWYgKGxhbmdpdW1Eb2MpIHtcbiAgICAgICAgICAgIGxhbmdpdW1Eb2Muc3RhdGUgPSBEb2N1bWVudFN0YXRlLkNoYW5nZWQ7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50TWFwLmRlbGV0ZSh1cmlTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYW5naXVtRG9jO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvY3VtZW50cy5qcy5tYXAiXSwibmFtZXMiOlsiVGV4dERvY3VtZW50IiwiQ2FuY2VsbGF0aW9uVG9rZW4iLCJzdHJlYW0iLCJVUkkiLCJEb2N1bWVudFN0YXRlIiwiRGVmYXVsdExhbmdpdW1Eb2N1bWVudEZhY3RvcnkiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwic2VydmljZVJlZ2lzdHJ5IiwiU2VydmljZVJlZ2lzdHJ5IiwidGV4dERvY3VtZW50cyIsIndvcmtzcGFjZSIsIlRleHREb2N1bWVudHMiLCJmaWxlU3lzdGVtUHJvdmlkZXIiLCJGaWxlU3lzdGVtUHJvdmlkZXIiLCJmcm9tVXJpIiwidXJpIiwiY2FuY2VsbGF0aW9uVG9rZW4iLCJOb25lIiwiY29udGVudCIsInJlYWRGaWxlIiwiY3JlYXRlQXN5bmMiLCJmcm9tVGV4dERvY3VtZW50IiwidGV4dERvY3VtZW50IiwidG9rZW4iLCJwYXJzZSIsImlzIiwiY3JlYXRlIiwiZnJvbVN0cmluZyIsInRleHQiLCJmcm9tTW9kZWwiLCJtb2RlbCIsIiRtb2RlbCIsIm9wdGlvbnMiLCJwYXJzZVJlc3VsdCIsImNyZWF0ZUxhbmdpdW1Eb2N1bWVudCIsInVuZGVmaW5lZCIsInZhbHVlIiwicGFyc2VyRXJyb3JzIiwibGV4ZXJFcnJvcnMiLCJnZXRUZXh0IiwiY2FuY2VsVG9rZW4iLCJwYXJzZUFzeW5jIiwiZG9jdW1lbnQiLCJzdGF0ZSIsIlBhcnNlZCIsInJlZmVyZW5jZXMiLCJ0ZXh0RG9jdW1lbnRHZXR0ZXIiLCJjcmVhdGVUZXh0RG9jdW1lbnRHZXR0ZXIiLCIkZG9jdW1lbnQiLCJ1cGRhdGUiLCJfYSIsIl9iIiwib2xkVGV4dCIsIiRjc3ROb2RlIiwicm9vdCIsImZ1bGxUZXh0IiwiZ2V0IiwidG9TdHJpbmciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldFNlcnZpY2VzIiwicGFyc2VyIiwiTGFuZ2l1bVBhcnNlciIsIkFzeW5jUGFyc2VyIiwidGV4dERvYyIsIkxhbmd1YWdlTWV0YURhdGEiLCJsYW5ndWFnZUlkIiwiRGVmYXVsdExhbmdpdW1Eb2N1bWVudHMiLCJkb2N1bWVudE1hcCIsIk1hcCIsImxhbmdpdW1Eb2N1bWVudEZhY3RvcnkiLCJMYW5naXVtRG9jdW1lbnRGYWN0b3J5IiwiYWxsIiwidmFsdWVzIiwiYWRkRG9jdW1lbnQiLCJ1cmlTdHJpbmciLCJoYXMiLCJFcnJvciIsInNldCIsImdldERvY3VtZW50IiwiZ2V0T3JDcmVhdGVEb2N1bWVudCIsImNyZWF0ZURvY3VtZW50IiwidGhlbiIsImhhc0RvY3VtZW50IiwiaW52YWxpZGF0ZURvY3VtZW50IiwibGFuZ2l1bURvYyIsImxpbmtlciIsIkxpbmtlciIsInVubGluayIsIkNoYW5nZWQiLCJwcmVjb21wdXRlZFNjb3BlcyIsImRpYWdub3N0aWNzIiwiZGVsZXRlRG9jdW1lbnQiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/documents.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/file-system-provider.js":
/*!********************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/file-system-provider.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmptyFileSystem: () => (/* binding */ EmptyFileSystem),\n/* harmony export */   EmptyFileSystemProvider: () => (/* binding */ EmptyFileSystemProvider)\n/* harmony export */ });\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ class EmptyFileSystemProvider {\n    readFile() {\n        throw new Error(\"No file system is available.\");\n    }\n    async readDirectory() {\n        return [];\n    }\n}\nconst EmptyFileSystem = {\n    fileSystemProvider: ()=>new EmptyFileSystemProvider()\n}; //# sourceMappingURL=file-system-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2ZpbGUtc3lzdGVtLXByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ3ZFLE1BQU1BO0lBQ1RDLFdBQVc7UUFDUCxNQUFNLElBQUlDLE1BQU07SUFDcEI7SUFDQSxNQUFNQyxnQkFBZ0I7UUFDbEIsT0FBTyxFQUFFO0lBQ2I7QUFDSjtBQUNPLE1BQU1DLGtCQUFrQjtJQUMzQkMsb0JBQW9CLElBQU0sSUFBSUw7QUFDbEMsRUFBRSxDQUNGLGdEQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Npcm8tbmV0d29yay13ZWJzaXRlLy4vbm9kZV9tb2R1bGVzL2xhbmdpdW0vbGliL3dvcmtzcGFjZS9maWxlLXN5c3RlbS1wcm92aWRlci5qcz83MmEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIyIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBjbGFzcyBFbXB0eUZpbGVTeXN0ZW1Qcm92aWRlciB7XG4gICAgcmVhZEZpbGUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZmlsZSBzeXN0ZW0gaXMgYXZhaWxhYmxlLicpO1xuICAgIH1cbiAgICBhc3luYyByZWFkRGlyZWN0b3J5KCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEVtcHR5RmlsZVN5c3RlbSA9IHtcbiAgICBmaWxlU3lzdGVtUHJvdmlkZXI6ICgpID0+IG5ldyBFbXB0eUZpbGVTeXN0ZW1Qcm92aWRlcigpXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsZS1zeXN0ZW0tcHJvdmlkZXIuanMubWFwIl0sIm5hbWVzIjpbIkVtcHR5RmlsZVN5c3RlbVByb3ZpZGVyIiwicmVhZEZpbGUiLCJFcnJvciIsInJlYWREaXJlY3RvcnkiLCJFbXB0eUZpbGVTeXN0ZW0iLCJmaWxlU3lzdGVtUHJvdmlkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/file-system-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/index-manager.js":
/*!*************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/index-manager.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultIndexManager: () => (/* binding */ DefaultIndexManager)\n/* harmony export */ });\n/* harmony import */ var _utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ast-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/ast-utils.js\");\n/* harmony import */ var _utils_caching_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/caching.js */ \"(ssr)/./node_modules/langium/lib/utils/caching.js\");\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_stream_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stream.js */ \"(ssr)/./node_modules/langium/lib/utils/stream.js\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/uri-utils.js\");\n/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\n\n\nclass DefaultIndexManager {\n    constructor(services){\n        /**\n         * The symbol index stores all `AstNodeDescription` items exported by a document.\n         * The key used in this map is the string representation of the specific document URI.\n         */ this.symbolIndex = new Map();\n        /**\n         * This is a cache for the `allElements()` method.\n         * It caches the descriptions from `symbolIndex` grouped by types.\n         */ this.symbolByTypeIndex = new _utils_caching_js__WEBPACK_IMPORTED_MODULE_0__.ContextCache();\n        /**\n         * This index keeps track of all `ReferenceDescription` items exported by a document.\n         * This is used to compute which elements are affected by a document change\n         * and for finding references to an AST node.\n         */ this.referenceIndex = new Map();\n        this.documents = services.workspace.LangiumDocuments;\n        this.serviceRegistry = services.ServiceRegistry;\n        this.astReflection = services.AstReflection;\n    }\n    findAllReferences(targetNode, astNodePath) {\n        const targetDocUri = (0,_utils_ast_utils_js__WEBPACK_IMPORTED_MODULE_1__.getDocument)(targetNode).uri;\n        const result = [];\n        this.referenceIndex.forEach((docRefs)=>{\n            docRefs.forEach((refDescr)=>{\n                if (_utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__.UriUtils.equals(refDescr.targetUri, targetDocUri) && refDescr.targetPath === astNodePath) {\n                    result.push(refDescr);\n                }\n            });\n        });\n        return (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_3__.stream)(result);\n    }\n    allElements(nodeType, uris) {\n        let documentUris = (0,_utils_stream_js__WEBPACK_IMPORTED_MODULE_3__.stream)(this.symbolIndex.keys());\n        if (uris) {\n            documentUris = documentUris.filter((uri)=>!uris || uris.has(uri));\n        }\n        return documentUris.map((uri)=>this.getFileDescriptions(uri, nodeType)).flat();\n    }\n    getFileDescriptions(uri, nodeType) {\n        var _a;\n        if (!nodeType) {\n            return (_a = this.symbolIndex.get(uri)) !== null && _a !== void 0 ? _a : [];\n        }\n        const descriptions = this.symbolByTypeIndex.get(uri, nodeType, ()=>{\n            var _a;\n            const allFileDescriptions = (_a = this.symbolIndex.get(uri)) !== null && _a !== void 0 ? _a : [];\n            return allFileDescriptions.filter((e)=>this.astReflection.isSubtype(e.type, nodeType));\n        });\n        return descriptions;\n    }\n    remove(uri) {\n        const uriString = uri.toString();\n        this.symbolIndex.delete(uriString);\n        this.symbolByTypeIndex.clear(uriString);\n        this.referenceIndex.delete(uriString);\n    }\n    async updateContent(document, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_4__.CancellationToken.None) {\n        const services = this.serviceRegistry.getServices(document.uri);\n        const exports = await services.references.ScopeComputation.computeExports(document, cancelToken);\n        const uri = document.uri.toString();\n        this.symbolIndex.set(uri, exports);\n        this.symbolByTypeIndex.clear(uri);\n    }\n    async updateReferences(document, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_4__.CancellationToken.None) {\n        const services = this.serviceRegistry.getServices(document.uri);\n        const indexData = await services.workspace.ReferenceDescriptionProvider.createDescriptions(document, cancelToken);\n        this.referenceIndex.set(document.uri.toString(), indexData);\n    }\n    isAffected(document, changedUris) {\n        const references = this.referenceIndex.get(document.uri.toString());\n        if (!references) {\n            return false;\n        }\n        return references.some((ref)=>!ref.local && changedUris.has(ref.targetUri.toString()));\n    }\n} //# sourceMappingURL=index-manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL2luZGV4LW1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQzFCO0FBQ0Q7QUFDVTtBQUNqQjtBQUNLO0FBQzFDLE1BQU1LO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQjs7O1NBR0MsR0FDRCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJQztRQUN2Qjs7O1NBR0MsR0FDRCxJQUFJLENBQUNDLGlCQUFpQixHQUFHLElBQUlULDJEQUFZQTtRQUN6Qzs7OztTQUlDLEdBQ0QsSUFBSSxDQUFDVSxjQUFjLEdBQUcsSUFBSUY7UUFDMUIsSUFBSSxDQUFDRyxTQUFTLEdBQUdMLFNBQVNNLFNBQVMsQ0FBQ0MsZ0JBQWdCO1FBQ3BELElBQUksQ0FBQ0MsZUFBZSxHQUFHUixTQUFTUyxlQUFlO1FBQy9DLElBQUksQ0FBQ0MsYUFBYSxHQUFHVixTQUFTVyxhQUFhO0lBQy9DO0lBQ0FDLGtCQUFrQkMsVUFBVSxFQUFFQyxXQUFXLEVBQUU7UUFDdkMsTUFBTUMsZUFBZXRCLGdFQUFXQSxDQUFDb0IsWUFBWUcsR0FBRztRQUNoRCxNQUFNQyxTQUFTLEVBQUU7UUFDakIsSUFBSSxDQUFDYixjQUFjLENBQUNjLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDeEJBLFFBQVFELE9BQU8sQ0FBQ0UsQ0FBQUE7Z0JBQ1osSUFBSXZCLHlEQUFRQSxDQUFDd0IsTUFBTSxDQUFDRCxTQUFTRSxTQUFTLEVBQUVQLGlCQUFpQkssU0FBU0csVUFBVSxLQUFLVCxhQUFhO29CQUMxRkcsT0FBT08sSUFBSSxDQUFDSjtnQkFDaEI7WUFDSjtRQUNKO1FBQ0EsT0FBT3hCLHdEQUFNQSxDQUFDcUI7SUFDbEI7SUFDQVEsWUFBWUMsUUFBUSxFQUFFQyxJQUFJLEVBQUU7UUFDeEIsSUFBSUMsZUFBZWhDLHdEQUFNQSxDQUFDLElBQUksQ0FBQ0ssV0FBVyxDQUFDNEIsSUFBSTtRQUMvQyxJQUFJRixNQUFNO1lBQ05DLGVBQWVBLGFBQWFFLE1BQU0sQ0FBQ2QsQ0FBQUEsTUFBTyxDQUFDVyxRQUFRQSxLQUFLSSxHQUFHLENBQUNmO1FBQ2hFO1FBQ0EsT0FBT1ksYUFDRkksR0FBRyxDQUFDaEIsQ0FBQUEsTUFBTyxJQUFJLENBQUNpQixtQkFBbUIsQ0FBQ2pCLEtBQUtVLFdBQ3pDUSxJQUFJO0lBQ2I7SUFDQUQsb0JBQW9CakIsR0FBRyxFQUFFVSxRQUFRLEVBQUU7UUFDL0IsSUFBSVM7UUFDSixJQUFJLENBQUNULFVBQVU7WUFDWCxPQUFPLENBQUNTLEtBQUssSUFBSSxDQUFDbEMsV0FBVyxDQUFDbUMsR0FBRyxDQUFDcEIsSUFBRyxNQUFPLFFBQVFtQixPQUFPLEtBQUssSUFBSUEsS0FBSyxFQUFFO1FBQy9FO1FBQ0EsTUFBTUUsZUFBZSxJQUFJLENBQUNsQyxpQkFBaUIsQ0FBQ2lDLEdBQUcsQ0FBQ3BCLEtBQUtVLFVBQVU7WUFDM0QsSUFBSVM7WUFDSixNQUFNRyxzQkFBc0IsQ0FBQ0gsS0FBSyxJQUFJLENBQUNsQyxXQUFXLENBQUNtQyxHQUFHLENBQUNwQixJQUFHLE1BQU8sUUFBUW1CLE9BQU8sS0FBSyxJQUFJQSxLQUFLLEVBQUU7WUFDaEcsT0FBT0csb0JBQW9CUixNQUFNLENBQUNTLENBQUFBLElBQUssSUFBSSxDQUFDN0IsYUFBYSxDQUFDOEIsU0FBUyxDQUFDRCxFQUFFRSxJQUFJLEVBQUVmO1FBQ2hGO1FBQ0EsT0FBT1c7SUFDWDtJQUNBSyxPQUFPMUIsR0FBRyxFQUFFO1FBQ1IsTUFBTTJCLFlBQVkzQixJQUFJNEIsUUFBUTtRQUM5QixJQUFJLENBQUMzQyxXQUFXLENBQUM0QyxNQUFNLENBQUNGO1FBQ3hCLElBQUksQ0FBQ3hDLGlCQUFpQixDQUFDMkMsS0FBSyxDQUFDSDtRQUM3QixJQUFJLENBQUN2QyxjQUFjLENBQUN5QyxNQUFNLENBQUNGO0lBQy9CO0lBQ0EsTUFBTUksY0FBY0MsUUFBUSxFQUFFQyxjQUFjdEQscUVBQWlCQSxDQUFDdUQsSUFBSSxFQUFFO1FBQ2hFLE1BQU1sRCxXQUFXLElBQUksQ0FBQ1EsZUFBZSxDQUFDMkMsV0FBVyxDQUFDSCxTQUFTaEMsR0FBRztRQUM5RCxNQUFNb0MsVUFBVSxNQUFNcEQsU0FBU3FELFVBQVUsQ0FBQ0MsZ0JBQWdCLENBQUNDLGNBQWMsQ0FBQ1AsVUFBVUM7UUFDcEYsTUFBTWpDLE1BQU1nQyxTQUFTaEMsR0FBRyxDQUFDNEIsUUFBUTtRQUNqQyxJQUFJLENBQUMzQyxXQUFXLENBQUN1RCxHQUFHLENBQUN4QyxLQUFLb0M7UUFDMUIsSUFBSSxDQUFDakQsaUJBQWlCLENBQUMyQyxLQUFLLENBQUM5QjtJQUNqQztJQUNBLE1BQU15QyxpQkFBaUJULFFBQVEsRUFBRUMsY0FBY3RELHFFQUFpQkEsQ0FBQ3VELElBQUksRUFBRTtRQUNuRSxNQUFNbEQsV0FBVyxJQUFJLENBQUNRLGVBQWUsQ0FBQzJDLFdBQVcsQ0FBQ0gsU0FBU2hDLEdBQUc7UUFDOUQsTUFBTTBDLFlBQVksTUFBTTFELFNBQVNNLFNBQVMsQ0FBQ3FELDRCQUE0QixDQUFDQyxrQkFBa0IsQ0FBQ1osVUFBVUM7UUFDckcsSUFBSSxDQUFDN0MsY0FBYyxDQUFDb0QsR0FBRyxDQUFDUixTQUFTaEMsR0FBRyxDQUFDNEIsUUFBUSxJQUFJYztJQUNyRDtJQUNBRyxXQUFXYixRQUFRLEVBQUVjLFdBQVcsRUFBRTtRQUM5QixNQUFNVCxhQUFhLElBQUksQ0FBQ2pELGNBQWMsQ0FBQ2dDLEdBQUcsQ0FBQ1ksU0FBU2hDLEdBQUcsQ0FBQzRCLFFBQVE7UUFDaEUsSUFBSSxDQUFDUyxZQUFZO1lBQ2IsT0FBTztRQUNYO1FBQ0EsT0FBT0EsV0FBV1UsSUFBSSxDQUFDQyxDQUFBQSxNQUFPLENBQUNBLElBQUlDLEtBQUssSUFBSUgsWUFBWS9CLEdBQUcsQ0FBQ2lDLElBQUkxQyxTQUFTLENBQUNzQixRQUFRO0lBQ3RGO0FBQ0osRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXJvLW5ldHdvcmstd2Vic2l0ZS8uL25vZGVfbW9kdWxlcy9sYW5naXVtL2xpYi93b3Jrc3BhY2UvaW5kZXgtbWFuYWdlci5qcz84OWMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIENvcHlyaWdodCAyMDIxIFR5cGVGb3ggR21iSFxuICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlXG4gKiB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2UsIHdoaWNoIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvamVjdCByb290LlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbHMvYXN0LXV0aWxzLmpzJztcbmltcG9ydCB7IENvbnRleHRDYWNoZSB9IGZyb20gJy4uL3V0aWxzL2NhY2hpbmcuanMnO1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4gfSBmcm9tICcuLi91dGlscy9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgc3RyZWFtIH0gZnJvbSAnLi4vdXRpbHMvc3RyZWFtLmpzJztcbmltcG9ydCB7IFVyaVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXJpLXV0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBEZWZhdWx0SW5kZXhNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5bWJvbCBpbmRleCBzdG9yZXMgYWxsIGBBc3ROb2RlRGVzY3JpcHRpb25gIGl0ZW1zIGV4cG9ydGVkIGJ5IGEgZG9jdW1lbnQuXG4gICAgICAgICAqIFRoZSBrZXkgdXNlZCBpbiB0aGlzIG1hcCBpcyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzcGVjaWZpYyBkb2N1bWVudCBVUkkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN5bWJvbEluZGV4ID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIGNhY2hlIGZvciB0aGUgYGFsbEVsZW1lbnRzKClgIG1ldGhvZC5cbiAgICAgICAgICogSXQgY2FjaGVzIHRoZSBkZXNjcmlwdGlvbnMgZnJvbSBgc3ltYm9sSW5kZXhgIGdyb3VwZWQgYnkgdHlwZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN5bWJvbEJ5VHlwZUluZGV4ID0gbmV3IENvbnRleHRDYWNoZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpbmRleCBrZWVwcyB0cmFjayBvZiBhbGwgYFJlZmVyZW5jZURlc2NyaXB0aW9uYCBpdGVtcyBleHBvcnRlZCBieSBhIGRvY3VtZW50LlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY29tcHV0ZSB3aGljaCBlbGVtZW50cyBhcmUgYWZmZWN0ZWQgYnkgYSBkb2N1bWVudCBjaGFuZ2VcbiAgICAgICAgICogYW5kIGZvciBmaW5kaW5nIHJlZmVyZW5jZXMgdG8gYW4gQVNUIG5vZGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZmVyZW5jZUluZGV4ID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmRvY3VtZW50cyA9IHNlcnZpY2VzLndvcmtzcGFjZS5MYW5naXVtRG9jdW1lbnRzO1xuICAgICAgICB0aGlzLnNlcnZpY2VSZWdpc3RyeSA9IHNlcnZpY2VzLlNlcnZpY2VSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5hc3RSZWZsZWN0aW9uID0gc2VydmljZXMuQXN0UmVmbGVjdGlvbjtcbiAgICB9XG4gICAgZmluZEFsbFJlZmVyZW5jZXModGFyZ2V0Tm9kZSwgYXN0Tm9kZVBhdGgpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RG9jVXJpID0gZ2V0RG9jdW1lbnQodGFyZ2V0Tm9kZSkudXJpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VJbmRleC5mb3JFYWNoKGRvY1JlZnMgPT4ge1xuICAgICAgICAgICAgZG9jUmVmcy5mb3JFYWNoKHJlZkRlc2NyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoVXJpVXRpbHMuZXF1YWxzKHJlZkRlc2NyLnRhcmdldFVyaSwgdGFyZ2V0RG9jVXJpKSAmJiByZWZEZXNjci50YXJnZXRQYXRoID09PSBhc3ROb2RlUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZWZEZXNjcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtKHJlc3VsdCk7XG4gICAgfVxuICAgIGFsbEVsZW1lbnRzKG5vZGVUeXBlLCB1cmlzKSB7XG4gICAgICAgIGxldCBkb2N1bWVudFVyaXMgPSBzdHJlYW0odGhpcy5zeW1ib2xJbmRleC5rZXlzKCkpO1xuICAgICAgICBpZiAodXJpcykge1xuICAgICAgICAgICAgZG9jdW1lbnRVcmlzID0gZG9jdW1lbnRVcmlzLmZpbHRlcih1cmkgPT4gIXVyaXMgfHwgdXJpcy5oYXModXJpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50VXJpc1xuICAgICAgICAgICAgLm1hcCh1cmkgPT4gdGhpcy5nZXRGaWxlRGVzY3JpcHRpb25zKHVyaSwgbm9kZVR5cGUpKVxuICAgICAgICAgICAgLmZsYXQoKTtcbiAgICB9XG4gICAgZ2V0RmlsZURlc2NyaXB0aW9ucyh1cmksIG5vZGVUeXBlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFub2RlVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc3ltYm9sSW5kZXguZ2V0KHVyaSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9ucyA9IHRoaXMuc3ltYm9sQnlUeXBlSW5kZXguZ2V0KHVyaSwgbm9kZVR5cGUsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGFsbEZpbGVEZXNjcmlwdGlvbnMgPSAoX2EgPSB0aGlzLnN5bWJvbEluZGV4LmdldCh1cmkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgICAgIHJldHVybiBhbGxGaWxlRGVzY3JpcHRpb25zLmZpbHRlcihlID0+IHRoaXMuYXN0UmVmbGVjdGlvbi5pc1N1YnR5cGUoZS50eXBlLCBub2RlVHlwZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucztcbiAgICB9XG4gICAgcmVtb3ZlKHVyaSkge1xuICAgICAgICBjb25zdCB1cmlTdHJpbmcgPSB1cmkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5zeW1ib2xJbmRleC5kZWxldGUodXJpU3RyaW5nKTtcbiAgICAgICAgdGhpcy5zeW1ib2xCeVR5cGVJbmRleC5jbGVhcih1cmlTdHJpbmcpO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZUluZGV4LmRlbGV0ZSh1cmlTdHJpbmcpO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVDb250ZW50KGRvY3VtZW50LCBjYW5jZWxUb2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmUpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZXMgPSB0aGlzLnNlcnZpY2VSZWdpc3RyeS5nZXRTZXJ2aWNlcyhkb2N1bWVudC51cmkpO1xuICAgICAgICBjb25zdCBleHBvcnRzID0gYXdhaXQgc2VydmljZXMucmVmZXJlbmNlcy5TY29wZUNvbXB1dGF0aW9uLmNvbXB1dGVFeHBvcnRzKGRvY3VtZW50LCBjYW5jZWxUb2tlbik7XG4gICAgICAgIGNvbnN0IHVyaSA9IGRvY3VtZW50LnVyaS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLnN5bWJvbEluZGV4LnNldCh1cmksIGV4cG9ydHMpO1xuICAgICAgICB0aGlzLnN5bWJvbEJ5VHlwZUluZGV4LmNsZWFyKHVyaSk7XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZVJlZmVyZW5jZXMoZG9jdW1lbnQsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICBjb25zdCBzZXJ2aWNlcyA9IHRoaXMuc2VydmljZVJlZ2lzdHJ5LmdldFNlcnZpY2VzKGRvY3VtZW50LnVyaSk7XG4gICAgICAgIGNvbnN0IGluZGV4RGF0YSA9IGF3YWl0IHNlcnZpY2VzLndvcmtzcGFjZS5SZWZlcmVuY2VEZXNjcmlwdGlvblByb3ZpZGVyLmNyZWF0ZURlc2NyaXB0aW9ucyhkb2N1bWVudCwgY2FuY2VsVG9rZW4pO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZUluZGV4LnNldChkb2N1bWVudC51cmkudG9TdHJpbmcoKSwgaW5kZXhEYXRhKTtcbiAgICB9XG4gICAgaXNBZmZlY3RlZChkb2N1bWVudCwgY2hhbmdlZFVyaXMpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlcyA9IHRoaXMucmVmZXJlbmNlSW5kZXguZ2V0KGRvY3VtZW50LnVyaS50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKCFyZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZmVyZW5jZXMuc29tZShyZWYgPT4gIXJlZi5sb2NhbCAmJiBjaGFuZ2VkVXJpcy5oYXMocmVmLnRhcmdldFVyaS50b1N0cmluZygpKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgtbWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOlsiZ2V0RG9jdW1lbnQiLCJDb250ZXh0Q2FjaGUiLCJDYW5jZWxsYXRpb25Ub2tlbiIsInN0cmVhbSIsIlVyaVV0aWxzIiwiRGVmYXVsdEluZGV4TWFuYWdlciIsImNvbnN0cnVjdG9yIiwic2VydmljZXMiLCJzeW1ib2xJbmRleCIsIk1hcCIsInN5bWJvbEJ5VHlwZUluZGV4IiwicmVmZXJlbmNlSW5kZXgiLCJkb2N1bWVudHMiLCJ3b3Jrc3BhY2UiLCJMYW5naXVtRG9jdW1lbnRzIiwic2VydmljZVJlZ2lzdHJ5IiwiU2VydmljZVJlZ2lzdHJ5IiwiYXN0UmVmbGVjdGlvbiIsIkFzdFJlZmxlY3Rpb24iLCJmaW5kQWxsUmVmZXJlbmNlcyIsInRhcmdldE5vZGUiLCJhc3ROb2RlUGF0aCIsInRhcmdldERvY1VyaSIsInVyaSIsInJlc3VsdCIsImZvckVhY2giLCJkb2NSZWZzIiwicmVmRGVzY3IiLCJlcXVhbHMiLCJ0YXJnZXRVcmkiLCJ0YXJnZXRQYXRoIiwicHVzaCIsImFsbEVsZW1lbnRzIiwibm9kZVR5cGUiLCJ1cmlzIiwiZG9jdW1lbnRVcmlzIiwia2V5cyIsImZpbHRlciIsImhhcyIsIm1hcCIsImdldEZpbGVEZXNjcmlwdGlvbnMiLCJmbGF0IiwiX2EiLCJnZXQiLCJkZXNjcmlwdGlvbnMiLCJhbGxGaWxlRGVzY3JpcHRpb25zIiwiZSIsImlzU3VidHlwZSIsInR5cGUiLCJyZW1vdmUiLCJ1cmlTdHJpbmciLCJ0b1N0cmluZyIsImRlbGV0ZSIsImNsZWFyIiwidXBkYXRlQ29udGVudCIsImRvY3VtZW50IiwiY2FuY2VsVG9rZW4iLCJOb25lIiwiZ2V0U2VydmljZXMiLCJleHBvcnRzIiwicmVmZXJlbmNlcyIsIlNjb3BlQ29tcHV0YXRpb24iLCJjb21wdXRlRXhwb3J0cyIsInNldCIsInVwZGF0ZVJlZmVyZW5jZXMiLCJpbmRleERhdGEiLCJSZWZlcmVuY2VEZXNjcmlwdGlvblByb3ZpZGVyIiwiY3JlYXRlRGVzY3JpcHRpb25zIiwiaXNBZmZlY3RlZCIsImNoYW5nZWRVcmlzIiwic29tZSIsInJlZiIsImxvY2FsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/index-manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/workspace-lock.js":
/*!**************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/workspace-lock.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultWorkspaceLock: () => (/* binding */ DefaultWorkspaceLock)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\nclass DefaultWorkspaceLock {\n    constructor(){\n        this.previousTokenSource = new _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationTokenSource();\n        this.writeQueue = [];\n        this.readQueue = [];\n        this.done = true;\n    }\n    write(action) {\n        this.cancelWrite();\n        const tokenSource = (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.startCancelableOperation)();\n        this.previousTokenSource = tokenSource;\n        return this.enqueue(this.writeQueue, action, tokenSource.token);\n    }\n    read(action) {\n        return this.enqueue(this.readQueue, action);\n    }\n    enqueue(queue, action, cancellationToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.CancellationToken.None) {\n        const deferred = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.Deferred();\n        const entry = {\n            action,\n            deferred,\n            cancellationToken\n        };\n        queue.push(entry);\n        this.performNextOperation();\n        return deferred.promise;\n    }\n    async performNextOperation() {\n        if (!this.done) {\n            return;\n        }\n        const entries = [];\n        if (this.writeQueue.length > 0) {\n            // Just perform the next write action\n            entries.push(this.writeQueue.shift());\n        } else if (this.readQueue.length > 0) {\n            // Empty the read queue and perform all actions in parallel\n            entries.push(...this.readQueue.splice(0, this.readQueue.length));\n        } else {\n            return;\n        }\n        this.done = false;\n        await Promise.all(entries.map(async ({ action, deferred, cancellationToken })=>{\n            try {\n                // Move the execution of the action to the next event loop tick via `Promise.resolve()`\n                const result = await Promise.resolve().then(()=>action(cancellationToken));\n                deferred.resolve(result);\n            } catch (err) {\n                if ((0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_1__.isOperationCancelled)(err)) {\n                    // If the operation was cancelled, we don't want to reject the promise\n                    deferred.resolve(undefined);\n                } else {\n                    deferred.reject(err);\n                }\n            }\n        }));\n        this.done = true;\n        this.performNextOperation();\n    }\n    cancelWrite() {\n        this.previousTokenSource.cancel();\n    }\n} //# sourceMappingURL=workspace-lock.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL3dvcmtzcGFjZS1sb2NrLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7OzhFQUk4RSxHQUNRO0FBQ2U7QUFDOUYsTUFBTUs7SUFDVEMsYUFBYztRQUNWLElBQUksQ0FBQ0MsbUJBQW1CLEdBQUcsSUFBSU4sMkVBQXVCQTtRQUN0RCxJQUFJLENBQUNPLFVBQVUsR0FBRyxFQUFFO1FBQ3BCLElBQUksQ0FBQ0MsU0FBUyxHQUFHLEVBQUU7UUFDbkIsSUFBSSxDQUFDQyxJQUFJLEdBQUc7SUFDaEI7SUFDQUMsTUFBTUMsTUFBTSxFQUFFO1FBQ1YsSUFBSSxDQUFDQyxXQUFXO1FBQ2hCLE1BQU1DLGNBQWNWLGlGQUF3QkE7UUFDNUMsSUFBSSxDQUFDRyxtQkFBbUIsR0FBR087UUFDM0IsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQyxJQUFJLENBQUNQLFVBQVUsRUFBRUksUUFBUUUsWUFBWUUsS0FBSztJQUNsRTtJQUNBQyxLQUFLTCxNQUFNLEVBQUU7UUFDVCxPQUFPLElBQUksQ0FBQ0csT0FBTyxDQUFDLElBQUksQ0FBQ04sU0FBUyxFQUFFRztJQUN4QztJQUNBRyxRQUFRRyxLQUFLLEVBQUVOLE1BQU0sRUFBRU8sb0JBQW9CbkIscUVBQWlCQSxDQUFDb0IsSUFBSSxFQUFFO1FBQy9ELE1BQU1DLFdBQVcsSUFBSW5CLDZEQUFRQTtRQUM3QixNQUFNb0IsUUFBUTtZQUNWVjtZQUNBUztZQUNBRjtRQUNKO1FBQ0FELE1BQU1LLElBQUksQ0FBQ0Q7UUFDWCxJQUFJLENBQUNFLG9CQUFvQjtRQUN6QixPQUFPSCxTQUFTSSxPQUFPO0lBQzNCO0lBQ0EsTUFBTUQsdUJBQXVCO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUNkLElBQUksRUFBRTtZQUNaO1FBQ0o7UUFDQSxNQUFNZ0IsVUFBVSxFQUFFO1FBQ2xCLElBQUksSUFBSSxDQUFDbEIsVUFBVSxDQUFDbUIsTUFBTSxHQUFHLEdBQUc7WUFDNUIscUNBQXFDO1lBQ3JDRCxRQUFRSCxJQUFJLENBQUMsSUFBSSxDQUFDZixVQUFVLENBQUNvQixLQUFLO1FBQ3RDLE9BQ0ssSUFBSSxJQUFJLENBQUNuQixTQUFTLENBQUNrQixNQUFNLEdBQUcsR0FBRztZQUNoQywyREFBMkQ7WUFDM0RELFFBQVFILElBQUksSUFBSSxJQUFJLENBQUNkLFNBQVMsQ0FBQ29CLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQ3BCLFNBQVMsQ0FBQ2tCLE1BQU07UUFDbEUsT0FDSztZQUNEO1FBQ0o7UUFDQSxJQUFJLENBQUNqQixJQUFJLEdBQUc7UUFDWixNQUFNb0IsUUFBUUMsR0FBRyxDQUFDTCxRQUFRTSxHQUFHLENBQUMsT0FBTyxFQUFFcEIsTUFBTSxFQUFFUyxRQUFRLEVBQUVGLGlCQUFpQixFQUFFO1lBQ3hFLElBQUk7Z0JBQ0EsdUZBQXVGO2dCQUN2RixNQUFNYyxTQUFTLE1BQU1ILFFBQVFJLE9BQU8sR0FBR0MsSUFBSSxDQUFDLElBQU12QixPQUFPTztnQkFDekRFLFNBQVNhLE9BQU8sQ0FBQ0Q7WUFDckIsRUFDQSxPQUFPRyxLQUFLO2dCQUNSLElBQUlqQyw2RUFBb0JBLENBQUNpQyxNQUFNO29CQUMzQixzRUFBc0U7b0JBQ3RFZixTQUFTYSxPQUFPLENBQUNHO2dCQUNyQixPQUNLO29CQUNEaEIsU0FBU2lCLE1BQU0sQ0FBQ0Y7Z0JBQ3BCO1lBQ0o7UUFDSjtRQUNBLElBQUksQ0FBQzFCLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ2Msb0JBQW9CO0lBQzdCO0lBQ0FYLGNBQWM7UUFDVixJQUFJLENBQUNOLG1CQUFtQixDQUFDZ0MsTUFBTTtJQUNuQztBQUNKLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL3dvcmtzcGFjZS1sb2NrLmpzPzdlNjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjMgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4sIENhbmNlbGxhdGlvblRva2VuU291cmNlIH0gZnJvbSAnLi4vdXRpbHMvY2FuY2VsbGF0aW9uLmpzJztcbmltcG9ydCB7IERlZmVycmVkLCBpc09wZXJhdGlvbkNhbmNlbGxlZCwgc3RhcnRDYW5jZWxhYmxlT3BlcmF0aW9uIH0gZnJvbSAnLi4vdXRpbHMvcHJvbWlzZS11dGlscy5qcyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdFdvcmtzcGFjZUxvY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByZXZpb3VzVG9rZW5Tb3VyY2UgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcbiAgICAgICAgdGhpcy53cml0ZVF1ZXVlID0gW107XG4gICAgICAgIHRoaXMucmVhZFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgfVxuICAgIHdyaXRlKGFjdGlvbikge1xuICAgICAgICB0aGlzLmNhbmNlbFdyaXRlKCk7XG4gICAgICAgIGNvbnN0IHRva2VuU291cmNlID0gc3RhcnRDYW5jZWxhYmxlT3BlcmF0aW9uKCk7XG4gICAgICAgIHRoaXMucHJldmlvdXNUb2tlblNvdXJjZSA9IHRva2VuU291cmNlO1xuICAgICAgICByZXR1cm4gdGhpcy5lbnF1ZXVlKHRoaXMud3JpdGVRdWV1ZSwgYWN0aW9uLCB0b2tlblNvdXJjZS50b2tlbik7XG4gICAgfVxuICAgIHJlYWQoYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVucXVldWUodGhpcy5yZWFkUXVldWUsIGFjdGlvbik7XG4gICAgfVxuICAgIGVucXVldWUocXVldWUsIGFjdGlvbiwgY2FuY2VsbGF0aW9uVG9rZW4gPSBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lKSB7XG4gICAgICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgZGVmZXJyZWQsXG4gICAgICAgICAgICBjYW5jZWxsYXRpb25Ub2tlblxuICAgICAgICB9O1xuICAgICAgICBxdWV1ZS5wdXNoKGVudHJ5KTtcbiAgICAgICAgdGhpcy5wZXJmb3JtTmV4dE9wZXJhdGlvbigpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG4gICAgYXN5bmMgcGVyZm9ybU5leHRPcGVyYXRpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW50cmllcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy53cml0ZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEp1c3QgcGVyZm9ybSB0aGUgbmV4dCB3cml0ZSBhY3Rpb25cbiAgICAgICAgICAgIGVudHJpZXMucHVzaCh0aGlzLndyaXRlUXVldWUuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yZWFkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRW1wdHkgdGhlIHJlYWQgcXVldWUgYW5kIHBlcmZvcm0gYWxsIGFjdGlvbnMgaW4gcGFyYWxsZWxcbiAgICAgICAgICAgIGVudHJpZXMucHVzaCguLi50aGlzLnJlYWRRdWV1ZS5zcGxpY2UoMCwgdGhpcy5yZWFkUXVldWUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGVudHJpZXMubWFwKGFzeW5jICh7IGFjdGlvbiwgZGVmZXJyZWQsIGNhbmNlbGxhdGlvblRva2VuIH0pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBhY3Rpb24gdG8gdGhlIG5leHQgZXZlbnQgbG9vcCB0aWNrIHZpYSBgUHJvbWlzZS5yZXNvbHZlKClgXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhY3Rpb24oY2FuY2VsbGF0aW9uVG9rZW4pKTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzT3BlcmF0aW9uQ2FuY2VsbGVkKGVycikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9wZXJhdGlvbiB3YXMgY2FuY2VsbGVkLCB3ZSBkb24ndCB3YW50IHRvIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wZXJmb3JtTmV4dE9wZXJhdGlvbigpO1xuICAgIH1cbiAgICBjYW5jZWxXcml0ZSgpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1Rva2VuU291cmNlLmNhbmNlbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmtzcGFjZS1sb2NrLmpzLm1hcCJdLCJuYW1lcyI6WyJDYW5jZWxsYXRpb25Ub2tlbiIsIkNhbmNlbGxhdGlvblRva2VuU291cmNlIiwiRGVmZXJyZWQiLCJpc09wZXJhdGlvbkNhbmNlbGxlZCIsInN0YXJ0Q2FuY2VsYWJsZU9wZXJhdGlvbiIsIkRlZmF1bHRXb3Jrc3BhY2VMb2NrIiwiY29uc3RydWN0b3IiLCJwcmV2aW91c1Rva2VuU291cmNlIiwid3JpdGVRdWV1ZSIsInJlYWRRdWV1ZSIsImRvbmUiLCJ3cml0ZSIsImFjdGlvbiIsImNhbmNlbFdyaXRlIiwidG9rZW5Tb3VyY2UiLCJlbnF1ZXVlIiwidG9rZW4iLCJyZWFkIiwicXVldWUiLCJjYW5jZWxsYXRpb25Ub2tlbiIsIk5vbmUiLCJkZWZlcnJlZCIsImVudHJ5IiwicHVzaCIsInBlcmZvcm1OZXh0T3BlcmF0aW9uIiwicHJvbWlzZSIsImVudHJpZXMiLCJsZW5ndGgiLCJzaGlmdCIsInNwbGljZSIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJyZXN1bHQiLCJyZXNvbHZlIiwidGhlbiIsImVyciIsInVuZGVmaW5lZCIsInJlamVjdCIsImNhbmNlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/workspace-lock.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/langium/lib/workspace/workspace-manager.js":
/*!*****************************************************************!*\
  !*** ./node_modules/langium/lib/workspace/workspace-manager.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultWorkspaceManager: () => (/* binding */ DefaultWorkspaceManager)\n/* harmony export */ });\n/* harmony import */ var _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/cancellation.js */ \"(ssr)/./node_modules/vscode-jsonrpc/lib/common/cancellation.js\");\n/* harmony import */ var _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/promise-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/promise-utils.js\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/vscode-uri/lib/esm/index.mjs\");\n/* harmony import */ var _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/uri-utils.js */ \"(ssr)/./node_modules/langium/lib/utils/uri-utils.js\");\n/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/ \n\n\nclass DefaultWorkspaceManager {\n    constructor(services){\n        this.initialBuildOptions = {};\n        this._ready = new _utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.Deferred();\n        this.serviceRegistry = services.ServiceRegistry;\n        this.langiumDocuments = services.workspace.LangiumDocuments;\n        this.documentBuilder = services.workspace.DocumentBuilder;\n        this.fileSystemProvider = services.workspace.FileSystemProvider;\n        this.mutex = services.workspace.WorkspaceLock;\n    }\n    get ready() {\n        return this._ready.promise;\n    }\n    get workspaceFolders() {\n        return this.folders;\n    }\n    initialize(params) {\n        var _a;\n        this.folders = (_a = params.workspaceFolders) !== null && _a !== void 0 ? _a : undefined;\n    }\n    initialized(_params) {\n        // Initialize the workspace even if there are no workspace folders\n        // We still want to load additional documents (language library or similar) during initialization\n        return this.mutex.write((token)=>{\n            var _a;\n            return this.initializeWorkspace((_a = this.folders) !== null && _a !== void 0 ? _a : [], token);\n        });\n    }\n    async initializeWorkspace(folders, cancelToken = _utils_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None) {\n        const documents = await this.performStartup(folders);\n        // Only after creating all documents do we check whether we need to cancel the initialization\n        // The document builder will later pick up on all unprocessed documents\n        await (0,_utils_promise_utils_js__WEBPACK_IMPORTED_MODULE_0__.interruptAndCheck)(cancelToken);\n        await this.documentBuilder.build(documents, this.initialBuildOptions, cancelToken);\n    }\n    /**\n     * Performs the uninterruptable startup sequence of the workspace manager.\n     * This methods loads all documents in the workspace and other documents and returns them.\n     */ async performStartup(folders) {\n        const fileExtensions = this.serviceRegistry.all.flatMap((e)=>e.LanguageMetaData.fileExtensions);\n        const documents = [];\n        const collector = (document)=>{\n            documents.push(document);\n            if (!this.langiumDocuments.hasDocument(document.uri)) {\n                this.langiumDocuments.addDocument(document);\n            }\n        };\n        // Even though we don't await the initialization of the workspace manager,\n        // we can still assume that all library documents and file documents are loaded by the time we start building documents.\n        // The mutex prevents anything from performing a workspace build until we check the cancellation token\n        await this.loadAdditionalDocuments(folders, collector);\n        await Promise.all(folders.map((wf)=>[\n                wf,\n                this.getRootFolder(wf)\n            ]).map(async (entry)=>this.traverseFolder(...entry, fileExtensions, collector)));\n        this._ready.resolve();\n        return documents;\n    }\n    /**\n     * Load all additional documents that shall be visible in the context of the given workspace\n     * folders and add them to the collector. This can be used to include built-in libraries of\n     * your language, which can be either loaded from provided files or constructed in memory.\n     */ loadAdditionalDocuments(_folders, _collector) {\n        return Promise.resolve();\n    }\n    /**\n     * Determine the root folder of the source documents in the given workspace folder.\n     * The default implementation returns the URI of the workspace folder, but you can override\n     * this to return a subfolder like `src` instead.\n     */ getRootFolder(workspaceFolder) {\n        return _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_2__.URI.parse(workspaceFolder.uri);\n    }\n    /**\n     * Traverse the file system folder identified by the given URI and its subfolders. All\n     * contained files that match the file extensions are added to the collector.\n     */ async traverseFolder(workspaceFolder, folderPath, fileExtensions, collector) {\n        const content = await this.fileSystemProvider.readDirectory(folderPath);\n        await Promise.all(content.map(async (entry)=>{\n            if (this.includeEntry(workspaceFolder, entry, fileExtensions)) {\n                if (entry.isDirectory) {\n                    await this.traverseFolder(workspaceFolder, entry.uri, fileExtensions, collector);\n                } else if (entry.isFile) {\n                    const document = await this.langiumDocuments.getOrCreateDocument(entry.uri);\n                    collector(document);\n                }\n            }\n        }));\n    }\n    /**\n     * Determine whether the given folder entry shall be included while indexing the workspace.\n     */ includeEntry(_workspaceFolder, entry, fileExtensions) {\n        const name = _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_3__.UriUtils.basename(entry.uri);\n        if (name.startsWith(\".\")) {\n            return false;\n        }\n        if (entry.isDirectory) {\n            return name !== \"node_modules\" && name !== \"out\";\n        } else if (entry.isFile) {\n            const extname = _utils_uri_utils_js__WEBPACK_IMPORTED_MODULE_3__.UriUtils.extname(entry.uri);\n            return fileExtensions.includes(extname);\n        }\n        return false;\n    }\n} //# sourceMappingURL=workspace-manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL3dvcmtzcGFjZS1tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7OEVBSThFLEdBQ2pCO0FBQ1c7QUFDbEI7QUFDL0MsTUFBTUs7SUFDVEMsWUFBWUMsUUFBUSxDQUFFO1FBQ2xCLElBQUksQ0FBQ0MsbUJBQW1CLEdBQUcsQ0FBQztRQUM1QixJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJUiw2REFBUUE7UUFDMUIsSUFBSSxDQUFDUyxlQUFlLEdBQUdILFNBQVNJLGVBQWU7UUFDL0MsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0wsU0FBU00sU0FBUyxDQUFDQyxnQkFBZ0I7UUFDM0QsSUFBSSxDQUFDQyxlQUFlLEdBQUdSLFNBQVNNLFNBQVMsQ0FBQ0csZUFBZTtRQUN6RCxJQUFJLENBQUNDLGtCQUFrQixHQUFHVixTQUFTTSxTQUFTLENBQUNLLGtCQUFrQjtRQUMvRCxJQUFJLENBQUNDLEtBQUssR0FBR1osU0FBU00sU0FBUyxDQUFDTyxhQUFhO0lBQ2pEO0lBQ0EsSUFBSUMsUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDWixNQUFNLENBQUNhLE9BQU87SUFDOUI7SUFDQSxJQUFJQyxtQkFBbUI7UUFDbkIsT0FBTyxJQUFJLENBQUNDLE9BQU87SUFDdkI7SUFDQUMsV0FBV0MsTUFBTSxFQUFFO1FBQ2YsSUFBSUM7UUFDSixJQUFJLENBQUNILE9BQU8sR0FBRyxDQUFDRyxLQUFLRCxPQUFPSCxnQkFBZ0IsTUFBTSxRQUFRSSxPQUFPLEtBQUssSUFBSUEsS0FBS0M7SUFDbkY7SUFDQUMsWUFBWUMsT0FBTyxFQUFFO1FBQ2pCLGtFQUFrRTtRQUNsRSxpR0FBaUc7UUFDakcsT0FBTyxJQUFJLENBQUNYLEtBQUssQ0FBQ1ksS0FBSyxDQUFDQyxDQUFBQTtZQUFXLElBQUlMO1lBQUksT0FBTyxJQUFJLENBQUNNLG1CQUFtQixDQUFDLENBQUNOLEtBQUssSUFBSSxDQUFDSCxPQUFP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UUFDL0MsT0FDSyxJQUFJZixNQUFNWSxNQUFNLEVBQUU7WUFDbkIsTUFBTU0sVUFBVXJFLHlEQUFRQSxDQUFDcUUsT0FBTyxDQUFDbEIsTUFBTVAsR0FBRztZQUMxQyxPQUFPVCxlQUFlbUMsUUFBUSxDQUFDRDtRQUNuQztRQUNBLE9BQU87SUFDWDtBQUNKLEVBQ0EsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lyby1uZXR3b3JrLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvbGFuZ2l1bS9saWIvd29ya3NwYWNlL3dvcmtzcGFjZS1tYW5hZ2VyLmpzP2EzM2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IDIwMjIgVHlwZUZveCBHbWJIXG4gKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGVcbiAqIHRlcm1zIG9mIHRoZSBNSVQgTGljZW5zZSwgd2hpY2ggaXMgYXZhaWxhYmxlIGluIHRoZSBwcm9qZWN0IHJvb3QuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4gfSBmcm9tICcuLi91dGlscy9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgRGVmZXJyZWQsIGludGVycnVwdEFuZENoZWNrIH0gZnJvbSAnLi4vdXRpbHMvcHJvbWlzZS11dGlscy5qcyc7XG5pbXBvcnQgeyBVUkksIFVyaVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXJpLXV0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBEZWZhdWx0V29ya3NwYWNlTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsQnVpbGRPcHRpb25zID0ge307XG4gICAgICAgIHRoaXMuX3JlYWR5ID0gbmV3IERlZmVycmVkKCk7XG4gICAgICAgIHRoaXMuc2VydmljZVJlZ2lzdHJ5ID0gc2VydmljZXMuU2VydmljZVJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLmxhbmdpdW1Eb2N1bWVudHMgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuTGFuZ2l1bURvY3VtZW50cztcbiAgICAgICAgdGhpcy5kb2N1bWVudEJ1aWxkZXIgPSBzZXJ2aWNlcy53b3Jrc3BhY2UuRG9jdW1lbnRCdWlsZGVyO1xuICAgICAgICB0aGlzLmZpbGVTeXN0ZW1Qcm92aWRlciA9IHNlcnZpY2VzLndvcmtzcGFjZS5GaWxlU3lzdGVtUHJvdmlkZXI7XG4gICAgICAgIHRoaXMubXV0ZXggPSBzZXJ2aWNlcy53b3Jrc3BhY2UuV29ya3NwYWNlTG9jaztcbiAgICB9XG4gICAgZ2V0IHJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHkucHJvbWlzZTtcbiAgICB9XG4gICAgZ2V0IHdvcmtzcGFjZUZvbGRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvbGRlcnM7XG4gICAgfVxuICAgIGluaXRpYWxpemUocGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5mb2xkZXJzID0gKF9hID0gcGFyYW1zLndvcmtzcGFjZUZvbGRlcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZWQoX3BhcmFtcykge1xuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSB3b3Jrc3BhY2UgZXZlbiBpZiB0aGVyZSBhcmUgbm8gd29ya3NwYWNlIGZvbGRlcnNcbiAgICAgICAgLy8gV2Ugc3RpbGwgd2FudCB0byBsb2FkIGFkZGl0aW9uYWwgZG9jdW1lbnRzIChsYW5ndWFnZSBsaWJyYXJ5IG9yIHNpbWlsYXIpIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5tdXRleC53cml0ZSh0b2tlbiA9PiB7IHZhciBfYTsgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZVdvcmtzcGFjZSgoX2EgPSB0aGlzLmZvbGRlcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLCB0b2tlbik7IH0pO1xuICAgIH1cbiAgICBhc3luYyBpbml0aWFsaXplV29ya3NwYWNlKGZvbGRlcnMsIGNhbmNlbFRva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSkge1xuICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBhd2FpdCB0aGlzLnBlcmZvcm1TdGFydHVwKGZvbGRlcnMpO1xuICAgICAgICAvLyBPbmx5IGFmdGVyIGNyZWF0aW5nIGFsbCBkb2N1bWVudHMgZG8gd2UgY2hlY2sgd2hldGhlciB3ZSBuZWVkIHRvIGNhbmNlbCB0aGUgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgLy8gVGhlIGRvY3VtZW50IGJ1aWxkZXIgd2lsbCBsYXRlciBwaWNrIHVwIG9uIGFsbCB1bnByb2Nlc3NlZCBkb2N1bWVudHNcbiAgICAgICAgYXdhaXQgaW50ZXJydXB0QW5kQ2hlY2soY2FuY2VsVG9rZW4pO1xuICAgICAgICBhd2FpdCB0aGlzLmRvY3VtZW50QnVpbGRlci5idWlsZChkb2N1bWVudHMsIHRoaXMuaW5pdGlhbEJ1aWxkT3B0aW9ucywgY2FuY2VsVG9rZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgdW5pbnRlcnJ1cHRhYmxlIHN0YXJ0dXAgc2VxdWVuY2Ugb2YgdGhlIHdvcmtzcGFjZSBtYW5hZ2VyLlxuICAgICAqIFRoaXMgbWV0aG9kcyBsb2FkcyBhbGwgZG9jdW1lbnRzIGluIHRoZSB3b3Jrc3BhY2UgYW5kIG90aGVyIGRvY3VtZW50cyBhbmQgcmV0dXJucyB0aGVtLlxuICAgICAqL1xuICAgIGFzeW5jIHBlcmZvcm1TdGFydHVwKGZvbGRlcnMpIHtcbiAgICAgICAgY29uc3QgZmlsZUV4dGVuc2lvbnMgPSB0aGlzLnNlcnZpY2VSZWdpc3RyeS5hbGwuZmxhdE1hcChlID0+IGUuTGFuZ3VhZ2VNZXRhRGF0YS5maWxlRXh0ZW5zaW9ucyk7XG4gICAgICAgIGNvbnN0IGRvY3VtZW50cyA9IFtdO1xuICAgICAgICBjb25zdCBjb2xsZWN0b3IgPSAoZG9jdW1lbnQpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50cy5wdXNoKGRvY3VtZW50KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYW5naXVtRG9jdW1lbnRzLmhhc0RvY3VtZW50KGRvY3VtZW50LnVyaSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhbmdpdW1Eb2N1bWVudHMuYWRkRG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBFdmVuIHRob3VnaCB3ZSBkb24ndCBhd2FpdCB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHdvcmtzcGFjZSBtYW5hZ2VyLFxuICAgICAgICAvLyB3ZSBjYW4gc3RpbGwgYXNzdW1lIHRoYXQgYWxsIGxpYnJhcnkgZG9jdW1lbnRzIGFuZCBmaWxlIGRvY3VtZW50cyBhcmUgbG9hZGVkIGJ5IHRoZSB0aW1lIHdlIHN0YXJ0IGJ1aWxkaW5nIGRvY3VtZW50cy5cbiAgICAgICAgLy8gVGhlIG11dGV4IHByZXZlbnRzIGFueXRoaW5nIGZyb20gcGVyZm9ybWluZyBhIHdvcmtzcGFjZSBidWlsZCB1bnRpbCB3ZSBjaGVjayB0aGUgY2FuY2VsbGF0aW9uIHRva2VuXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZEFkZGl0aW9uYWxEb2N1bWVudHMoZm9sZGVycywgY29sbGVjdG9yKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZm9sZGVycy5tYXAod2YgPT4gW3dmLCB0aGlzLmdldFJvb3RGb2xkZXIod2YpXSlcbiAgICAgICAgICAgIC5tYXAoYXN5bmMgKGVudHJ5KSA9PiB0aGlzLnRyYXZlcnNlRm9sZGVyKC4uLmVudHJ5LCBmaWxlRXh0ZW5zaW9ucywgY29sbGVjdG9yKSkpO1xuICAgICAgICB0aGlzLl9yZWFkeS5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBkb2N1bWVudHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIGFkZGl0aW9uYWwgZG9jdW1lbnRzIHRoYXQgc2hhbGwgYmUgdmlzaWJsZSBpbiB0aGUgY29udGV4dCBvZiB0aGUgZ2l2ZW4gd29ya3NwYWNlXG4gICAgICogZm9sZGVycyBhbmQgYWRkIHRoZW0gdG8gdGhlIGNvbGxlY3Rvci4gVGhpcyBjYW4gYmUgdXNlZCB0byBpbmNsdWRlIGJ1aWx0LWluIGxpYnJhcmllcyBvZlxuICAgICAqIHlvdXIgbGFuZ3VhZ2UsIHdoaWNoIGNhbiBiZSBlaXRoZXIgbG9hZGVkIGZyb20gcHJvdmlkZWQgZmlsZXMgb3IgY29uc3RydWN0ZWQgaW4gbWVtb3J5LlxuICAgICAqL1xuICAgIGxvYWRBZGRpdGlvbmFsRG9jdW1lbnRzKF9mb2xkZXJzLCBfY29sbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHRoZSByb290IGZvbGRlciBvZiB0aGUgc291cmNlIGRvY3VtZW50cyBpbiB0aGUgZ2l2ZW4gd29ya3NwYWNlIGZvbGRlci5cbiAgICAgKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiByZXR1cm5zIHRoZSBVUkkgb2YgdGhlIHdvcmtzcGFjZSBmb2xkZXIsIGJ1dCB5b3UgY2FuIG92ZXJyaWRlXG4gICAgICogdGhpcyB0byByZXR1cm4gYSBzdWJmb2xkZXIgbGlrZSBgc3JjYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldFJvb3RGb2xkZXIod29ya3NwYWNlRm9sZGVyKSB7XG4gICAgICAgIHJldHVybiBVUkkucGFyc2Uod29ya3NwYWNlRm9sZGVyLnVyaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYXZlcnNlIHRoZSBmaWxlIHN5c3RlbSBmb2xkZXIgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW4gVVJJIGFuZCBpdHMgc3ViZm9sZGVycy4gQWxsXG4gICAgICogY29udGFpbmVkIGZpbGVzIHRoYXQgbWF0Y2ggdGhlIGZpbGUgZXh0ZW5zaW9ucyBhcmUgYWRkZWQgdG8gdGhlIGNvbGxlY3Rvci5cbiAgICAgKi9cbiAgICBhc3luYyB0cmF2ZXJzZUZvbGRlcih3b3Jrc3BhY2VGb2xkZXIsIGZvbGRlclBhdGgsIGZpbGVFeHRlbnNpb25zLCBjb2xsZWN0b3IpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuZmlsZVN5c3RlbVByb3ZpZGVyLnJlYWREaXJlY3RvcnkoZm9sZGVyUGF0aCk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNvbnRlbnQubWFwKGFzeW5jIChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5jbHVkZUVudHJ5KHdvcmtzcGFjZUZvbGRlciwgZW50cnksIGZpbGVFeHRlbnNpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRyYXZlcnNlRm9sZGVyKHdvcmtzcGFjZUZvbGRlciwgZW50cnkudXJpLCBmaWxlRXh0ZW5zaW9ucywgY29sbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZW50cnkuaXNGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgdGhpcy5sYW5naXVtRG9jdW1lbnRzLmdldE9yQ3JlYXRlRG9jdW1lbnQoZW50cnkudXJpKTtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdG9yKGRvY3VtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIGZvbGRlciBlbnRyeSBzaGFsbCBiZSBpbmNsdWRlZCB3aGlsZSBpbmRleGluZyB0aGUgd29ya3NwYWNlLlxuICAgICAqL1xuICAgIGluY2x1ZGVFbnRyeShfd29ya3NwYWNlRm9sZGVyLCBlbnRyeSwgZmlsZUV4dGVuc2lvbnMpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IFVyaVV0aWxzLmJhc2VuYW1lKGVudHJ5LnVyaSk7XG4gICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWUgIT09ICdub2RlX21vZHVsZXMnICYmIG5hbWUgIT09ICdvdXQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVudHJ5LmlzRmlsZSkge1xuICAgICAgICAgICAgY29uc3QgZXh0bmFtZSA9IFVyaVV0aWxzLmV4dG5hbWUoZW50cnkudXJpKTtcbiAgICAgICAgICAgIHJldHVybiBmaWxlRXh0ZW5zaW9ucy5pbmNsdWRlcyhleHRuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29ya3NwYWNlLW1hbmFnZXIuanMubWFwIl0sIm5hbWVzIjpbIkNhbmNlbGxhdGlvblRva2VuIiwiRGVmZXJyZWQiLCJpbnRlcnJ1cHRBbmRDaGVjayIsIlVSSSIsIlVyaVV0aWxzIiwiRGVmYXVsdFdvcmtzcGFjZU1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInNlcnZpY2VzIiwiaW5pdGlhbEJ1aWxkT3B0aW9ucyIsIl9yZWFkeSIsInNlcnZpY2VSZWdpc3RyeSIsIlNlcnZpY2VSZWdpc3RyeSIsImxhbmdpdW1Eb2N1bWVudHMiLCJ3b3Jrc3BhY2UiLCJMYW5naXVtRG9jdW1lbnRzIiwiZG9jdW1lbnRCdWlsZGVyIiwiRG9jdW1lbnRCdWlsZGVyIiwiZmlsZVN5c3RlbVByb3ZpZGVyIiwiRmlsZVN5c3RlbVByb3ZpZGVyIiwibXV0ZXgiLCJXb3Jrc3BhY2VMb2NrIiwicmVhZHkiLCJwcm9taXNlIiwid29ya3NwYWNlRm9sZGVycyIsImZvbGRlcnMiLCJpbml0aWFsaXplIiwicGFyYW1zIiwiX2EiLCJ1bmRlZmluZWQiLCJpbml0aWFsaXplZCIsIl9wYXJhbXMiLCJ3cml0ZSIsInRva2VuIiwiaW5pdGlhbGl6ZVdvcmtzcGFjZSIsImNhbmNlbFRva2VuIiwiTm9uZSIsImRvY3VtZW50cyIsInBlcmZvcm1TdGFydHVwIiwiYnVpbGQiLCJmaWxlRXh0ZW5zaW9ucyIsImFsbCIsImZsYXRNYXAiLCJlIiwiTGFuZ3VhZ2VNZXRhRGF0YSIsImNvbGxlY3RvciIsImRvY3VtZW50IiwicHVzaCIsImhhc0RvY3VtZW50IiwidXJpIiwiYWRkRG9jdW1lbnQiLCJsb2FkQWRkaXRpb25hbERvY3VtZW50cyIsIlByb21pc2UiLCJtYXAiLCJ3ZiIsImdldFJvb3RGb2xkZXIiLCJlbnRyeSIsInRyYXZlcnNlRm9sZGVyIiwicmVzb2x2ZSIsIl9mb2xkZXJzIiwiX2NvbGxlY3RvciIsIndvcmtzcGFjZUZvbGRlciIsInBhcnNlIiwiZm9sZGVyUGF0aCIsImNvbnRlbnQiLCJyZWFkRGlyZWN0b3J5IiwiaW5jbHVkZUVudHJ5IiwiaXNEaXJlY3RvcnkiLCJpc0ZpbGUiLCJnZXRPckNyZWF0ZURvY3VtZW50IiwiX3dvcmtzcGFjZUZvbGRlciIsIm5hbWUiLCJiYXNlbmFtZSIsInN0YXJ0c1dpdGgiLCJleHRuYW1lIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/langium/lib/workspace/workspace-manager.js\n");

/***/ })

};
;